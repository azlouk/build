"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[558],{2336:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>POSComponent});var C_Users_mamad_Documents_GitHub_GestionStockFrontOfficeKF7_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(467),_models_produit__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3568),_models_Vente__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6995),_models_LigneVente__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6852),_main__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2182),sweetalert2__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8032),sweetalert2__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_4__),_angular_common__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(177),_models_user__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4694),rxjs_internal_observable_forkJoin__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(7468),primeng_table__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(3811),primeng_inputnumber__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(7480),primeng_button__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(1141),primeng_dropdown__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(8150),_angular_forms__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(9417),primeng_inputswitch__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1631),primeng_dataview__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(6701),primeng_overlaypanel__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(7983),primeng_autofocus__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(1880),primeng_message__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(5114),primeng_toast__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(9998),primeng_dialog__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(6781),primeng_checkbox__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(5430),primeng_inputgroupaddon__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(4602),primeng_inputgroup__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(6160),primeng_inputtext__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(2242),primeng_card__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(491),primeng_tag__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(935),primeng_rating__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(4714),primeng_toolbar__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(1830),_models_Cloture__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8936),primeng_ripple__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(563),primeng_tooltip__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(8542),_angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(4438),_layout_service_produit_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7197),_layout_service_vente_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2014),_layout_service_pos_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2874),_layout_service_cloture_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7818),_angular_router__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(4662),primeng_api__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5779),_angular_platform_browser__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(345);const _c0=["dv"],_c1=["dtt"],_c2=["searchInput"],_c3=["ajouterProduitButton"],_c4=()=>[6,12,18,24,30,42],_c5=()=>({"min-height":"15rem"}),_c6=()=>["produit.nom","prixVente","venteQty"],_c7=()=>({width:"40vw"});function POSComponent_ng_template_24_div_1_img_9_Template(k,C){if(1&k&&_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(0,"img",63),2&k){const _=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG().$implicit,h=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("src",h.loadFileByProduct(_)||h.defaultImageUrl,_angular_core__WEBPACK_IMPORTED_MODULE_11__.B4B)}}function POSComponent_ng_template_24_div_1_img_31_Template(k,C){if(1&k&&_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(0,"img",64),2&k){const _=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG().$implicit,h=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("src",h.loadFileByProduct(_)||h.defaultImageUrl,_angular_core__WEBPACK_IMPORTED_MODULE_11__.B4B)("alt",_.nom)}}function POSComponent_ng_template_24_div_1_Template(k,C){if(1&k){const _=_angular_core__WEBPACK_IMPORTED_MODULE_11__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div",36)(1,"div",37)(2,"div",38)(3,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(4,"i",39),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(5,"span",40),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(6),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(7,"p-tag",41),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(8,"div",42),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("click",function(){const c=_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_).$implicit,d=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG(2);return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(d.addProductToSale(c))}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(9,POSComponent_ng_template_24_div_1_img_9_Template,1,1,"img",43),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(10,"div",44)(11,"div",45),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(12),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(13,"div",46)(14,"span",47),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(15),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(16,"div",48)(17,"span",49),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(18),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(19,"number"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(20,"i",50),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("click",function(c){_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_);const d=_angular_core__WEBPACK_IMPORTED_MODULE_11__.sdS(22);return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(d.toggle(c))}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(21,"p-overlayPanel",null,2)(23,"div",51)(24,"div",38)(25,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(26,"i",52),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(27,"span",53),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(28),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(29,"p-tag",41),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(30,"div",54),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(31,POSComponent_ng_template_24_div_1_img_31_Template,1,2,"img",55),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(32,"div",56),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(33,"i",57),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(34),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(35,"div",56)(36,"span",47),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(37),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(38,"div",56)(39,"span",47),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(40),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(41,"div",56)(42,"span",47),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(43,"i",58),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(44),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(45,"div",59),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(46),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(47,"div",60)(48,"span",61),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(49),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(50,"button",62),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("click",function(){const c=_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_).$implicit,d=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG(2);return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(d.addProductToSale(c))}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()()()()()()()}if(2&k){const _=C.$implicit,h=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(6),_angular_core__WEBPACK_IMPORTED_MODULE_11__.JRh(_.article.nom),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("value",h.getStockLabel(_))("severity",h.getSeverity(_)),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("ngIf",h.afficherImage),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.JRh(_.qantite+h.getUnite(_)),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.FS9("pTooltip",_.nom),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.JRh(_.nom),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" TND ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.i5U(19,18,_.prixUnitaire+_.gainUnitaire,"1.3-3"),""),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(10),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_.article.nom,""),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("value",h.getStockLabel(_))("severity",h.getSeverity(_)),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("ngIf",h.afficherImage),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_.nom,""),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI("Quantit\xe9: ",_.qantite+h.getUnite(_),""),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI("Levelstock: ",_.levelstock,""),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_.dataqr,""),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" description: ",_.description,""),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI("",_.prixUnitaire+_.gainUnitaire," TND")}}function POSComponent_ng_template_24_Template(k,C){if(1&k&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div",34),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(1,POSComponent_ng_template_24_div_1_Template,51,21,"div",35),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()),2&k){const _=C.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("ngForOf",_)}}function POSComponent_ng_template_34_Template(k,C){1&k&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"tr")(1,"th",65),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(2,"Nom"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(3,"th",65),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(4,"QTY"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(5,"th",66),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(6,"Prix"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(7,"th",67),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s())}function POSComponent_ng_template_35_Template(k,C){if(1&k){const _=_angular_core__WEBPACK_IMPORTED_MODULE_11__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"tr")(1,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(3,"td")(4,"div")(5,"p-inputNumber",68),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("click",function(){const c=_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_).$implicit,d=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(d.changeFocus(c))}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.mxI("ngModelChange",function(c){const d=_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_).$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_11__.DH7(d.venteQty,c)||(d.venteQty=c),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(c)}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("ngModelChange",function(){const c=_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_).$implicit,d=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(d.updatePrixVente(c))}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(6,"td",69),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(7),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(8,"td")(9,"button",70),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("click",function(){const c=_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_).rowIndex,d=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(d.supprimerProduit(c))}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()()}if(2&k){const _=C.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.JRh(_.produit.nom),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("size",1)("autofocus",_.focus),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R50("ngModel",_.venteQty),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("min",1)("max",_.produit.qantite),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI("",(_.venteQty*_.prixVente).toFixed(3)," TND")}}function POSComponent_ng_template_38_Template(k,C){if(1&k){const _=_angular_core__WEBPACK_IMPORTED_MODULE_11__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div",71)(1,"div")(2,"h1",72),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(3,"Sauvegarder la cl\xf4ture de caisse"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(4,"div",73)(5,"h4",74),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(6,"D\xe9tails de la cl\xf4ture"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(7,"div",75)(8,"div",76)(9,"span",77),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(10,"Total cl\xf4ture"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(11,"div",76)(12,"span",78),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(13),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(14,"span",79),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(15,"TND"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(16,"div",80)(17,"div",81)(18,"label",82),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(19,"Montant Esp\xe9ce "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(20,"p-inputNumber",83),_angular_core__WEBPACK_IMPORTED_MODULE_11__.mxI("ngModelChange",function(c){_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_);const d=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.DH7(d.cloture.montantClotureEspece,c)||(d.cloture.montantClotureEspece=c),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(c)}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(21,"div",84)(22,"button",85),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_);const c=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(c.saveCloture())}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()()}if(2&k){const _=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(13),_angular_core__WEBPACK_IMPORTED_MODULE_11__.JRh(_.TotalAndReglement.total.toFixed(3)),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(7),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("size",24),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R50("ngModel",_.cloture.montantClotureEspece)}}let POSComponent=(()=>{class POSComponent{ngOnInit(){this.widthWindow=window.innerWidth,this.heigthWindow=window.innerHeight/2,this.messages1=[{severity:"error",summary:"Error",detail:"Pas des images"}],this.getAllArticles(),this.getAllProduits()}onResize(k){this.widthWindow=window.innerWidth,this.heigthWindow=window.innerHeight/2}formatDate(k){return`${k.getFullYear()}-${("0"+(k.getMonth()+1)).slice(-2)}-${("0"+k.getDate()).slice(-2)}`}getTitle(){return""==(0,_main__WEBPACK_IMPORTED_MODULE_3__.q3)()?"pas de titre":(0,_main__WEBPACK_IMPORTED_MODULE_3__.q3)()}setTitle(){return(0,C_Users_mamad_Documents_GitHub_GestionStockFrontOfficeKF7_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_12__.A)(function*(){const{value:k}=yield sweetalert2__WEBPACK_IMPORTED_MODULE_4___default().fire({title:"Titre de ticket",input:"text",inputValue:(0,_main__WEBPACK_IMPORTED_MODULE_3__.q3)(),inputLabel:"le titre sera afficher sur le ticket de client ",inputPlaceholder:"taper le titre de ticket ( Exple Nom entreprise...)"});k&&(0,_main__WEBPACK_IMPORTED_MODULE_3__.LQ)(k)})()}toggleDivVisibility(){this.divVisible=!this.divVisible}constructor(k,C,_,h,c,d,v,w,E,t,M){this.produitService=k,this.venteService=C,this.posService=_,this.clotureService=h,this.renderer=c,this.route=d,this.datePipe=v,this.messageService=w,this.sanitizer=E,this.cdr=t,this.ngZone=M,this.itemsArticles=[],this.focusIndex=0,this.searchTerm="",this.searchTerm1="",this.searchText="",this.produits=[],this.produitsOrderBy=[],this.produitsFiltres=[],this.cloture=new _models_Cloture__WEBPACK_IMPORTED_MODULE_6__.p,this.listeVente=[],this.visibleDetails=!1,this.selectedVente=new _models_Vente__WEBPACK_IMPORTED_MODULE_1__.l,this.divVisible=!0,this.visible=!1,this.show=!1,this.position="top",this.loading=!0,this.IsvisiblePop=!1,this.layout="grid",this.autoimprimer=!0,this.visibleimage=!1,this.frais=0,this.reglement=0,this.articles=[],this.calculatorScreenValue="0",this.TotalProductNb=0,this.TotalAndReglement={total:0,reglement:0},this.safeImageUrl=[],this.product=new _models_produit__WEBPACK_IMPORTED_MODULE_0__.I,this.SelectetLigne=new _models_LigneVente__WEBPACK_IMPORTED_MODULE_2__.A,this.focusFrais=!1,this.focusReg=!1,this.focusRecherche=!1,this.produit=new _models_produit__WEBPACK_IMPORTED_MODULE_0__.I,this.calculateValue="0",this.rows=10,this.lazyLoad=!0,this.messages1=[],this.afficherImage=!0,this.defaultImageUrl="../../assets/no-picture-taking.png",this.Date=Date,this.Vente=_models_Vente__WEBPACK_IMPORTED_MODULE_1__.l,this.listeVente.push(this.selectedVente),this.reglement=this.selectedVente.total}ngOnDestroy(){(0,_main__WEBPACK_IMPORTED_MODULE_3__.uE)(this.listeVente)}addVente(){0!=this.selectedVente.lignesVente.length?(this.getTotalVente(),this.selectedVente.reglement=0==this.reglement?this.selectedVente.total:this.reglement,this.selectedVente.employer=new _models_user__WEBPACK_IMPORTED_MODULE_5__.K((0,_main__WEBPACK_IMPORTED_MODULE_3__.lL)().id),this.selectedVente.client.firstname=(0,_main__WEBPACK_IMPORTED_MODULE_3__.q3)(),this.selectedVente.dateVente=new Date,this.produitService.SaveVente(this.selectedVente).subscribe(C=>{C?(this.clearVente(),this.getAllProduits(),this.showTopCenter("Votre Vente est bien enregistr\xe9 "),this.selectedVente.isPrint?sweetalert2__WEBPACK_IMPORTED_MODULE_4___default().fire({title:"Alerte de fermeture automatique!",html:"I will close in <b></b> milliseconds.",timer:1e3,timerProgressBar:!0}).then(_=>{sweetalert2__WEBPACK_IMPORTED_MODULE_4___default()}):this.clearVente()):this.showTopCenter("Votre Vente n'est pas   enregistr\xe9 ")},C=>{console.log(C)})):sweetalert2__WEBPACK_IMPORTED_MODULE_4___default().fire({title:"Pas de vente ?",text:"SVP ajouter des produits ",icon:"info"})}saveVente(){this.selectedVente&&this.selectedVente.lignesVente?(this.getTotalVente(),this.selectedVente.reglement=0==this.reglement?this.selectedVente.total:this.reglement,this.selectedVente.employer=new _models_user__WEBPACK_IMPORTED_MODULE_5__.K((0,_main__WEBPACK_IMPORTED_MODULE_3__.lL)().id),this.produitService.SaveVente(this.selectedVente).subscribe(C=>{C?(this.clearVente(),this.showTopCenter("Votre Vente est bien enregistr\xe9 "),this.autoimprimer&&sweetalert2__WEBPACK_IMPORTED_MODULE_4___default().fire({title:"Votre vente est bien enregistr\xe9e !",text:"L'alerte se fermera automatiquement.",icon:"success",timer:1e3,timerProgressBar:!0,showConfirmButton:!1})):this.showTopCenter("Votre Vente n'est pas enregistr\xe9e")},C=>{console.log(C),this.showTopCenter("Une erreur est survenue lors de la sauvegarde de la vente.")})):sweetalert2__WEBPACK_IMPORTED_MODULE_4___default().fire({title:"Pas de vente ?",text:"SVP ajouter des produits",icon:"info"}),this.clearVente(),console.log("selected vente",this.selectedVente)}getAllProduits(){this.loading=!0,this.produitService.getProduits().subscribe(k=>{this.produits=k,this.loading=!1,this.cdr.detectChanges(),console.table(this.produits)})}getProduitByQtyventeOrder(){this.produitService.getProduitOrderByQtyVDesc().subscribe(k=>{k.forEach(C=>{this.loadFile(C)}),this.produitsOrderBy=k,this.changeTable()})}goHome(){this.route.navigate([""])}clearTableVente(){0!=this.selectedVente.lignesVente.length?sweetalert2__WEBPACK_IMPORTED_MODULE_4___default().fire({title:"Vous \xeates s\xfbr ?",text:"Suppression d\xe9finitive",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, Vider Tout"}).then(k=>{k.isConfirmed&&(this.ngZone.run(()=>{this.clearVente()}),sweetalert2__WEBPACK_IMPORTED_MODULE_4___default().fire({title:"Vider!",text:"Votre vente est bien effac\xe9e",icon:"success"}))}):sweetalert2__WEBPACK_IMPORTED_MODULE_4___default().fire({title:"Vider ?",text:"Votre vente est d\xe9j\xe0 vide",icon:"info"})}clearVente(){this.selectedVente.lignesVente=[],this.TotalProductNb=0}isButtonFocused(k){return this.focusIndex===k}focusOnSearchInput(){this.searchInput&&this.searchInput.nativeElement&&this.searchInput.nativeElement.focus()}focusOnQuantityInput(){this.renderer.selectRootElement('.table input[type="number"]')&&this.renderer.selectRootElement('.table input[type="number"]').focus()}focusOnSupprimerButton(){if(this.selectedVente.lignesVente.length>0){const k=document.getElementById("suppLigneVente");k&&k.focus()}}createImageUrl(k){const C=URL.createObjectURL(k);return this.sanitizer.bypassSecurityTrustUrl(C)}loadFile(k){var C=this;return(0,C_Users_mamad_Documents_GitHub_GestionStockFrontOfficeKF7_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_12__.A)(function*(){C.visibleimage=!0;const _=k.files.map(h=>C.produitService.getImageProduit(h.name));(0,rxjs_internal_observable_forkJoin__WEBPACK_IMPORTED_MODULE_13__.p)(_).subscribe(h=>{h.forEach(c=>{const d=new FileReader;d.onloadend=()=>{const v=URL.createObjectURL(c);C.safeImageUrl.push({id:k.id,urls:v})},d.readAsText(c)}),C.cdr.detectChanges()},h=>{})})()}search(){""!==this.searchTerm.trim()&&(this.produitsFiltres=[],this.produitService.getProduitByQrNom(this.searchTerm).subscribe(k=>{null!=k&&(this.produitsFiltres.push(k),this.visible=this.IsvisiblePop),0==this.IsvisiblePop&&this.ajouterProduit()}))}showTopCenter(k){this.messageService.add({key:"tc",severity:"warn",summary:"Warn",detail:k})}ajouterProduitSelectionne(k){if(k>=0&&k<this.produitsFiltres.length){const C=this.produitsFiltres[k],_=this.selectedVente.lignesVente.find(h=>h.produit.id===C.id);if(_)_.venteQty<_.produit.qantite?_.venteQty+=1:this.showTopCenter("La quantit\xe9 pour "+_.produit.nom+" est d\xe9pass\xe9e. Il vous reste "+_.produit.qantite);else{const h=new _models_LigneVente__WEBPACK_IMPORTED_MODULE_2__.A;h.id=C.id,h.venteQty=1,h.prixVente=C.prixUnitaire+C.gainUnitaire,h.produit=C,this.selectedVente.lignesVente||(this.selectedVente.lignesVente=[]),this.selectedVente.lignesVente.unshift(h),this.focusOnSearchInput()}}this.searchTerm=""}updatePrixVente(k){const C=k.produit;k.prixVente=k.venteQty>=C.minQuantiteGros?C.prixUnitaire+C.gainGros:C.prixUnitaire+C.gainUnitaire,this.getTottalNbProduct()}getTottalNbProduct(){this.TotalProductNb=this.selectedVente.lignesVente.length}ajouterProduit(){this.produitsFiltres.length>0&&(this.ajouterProduitSelectionne(0),this.getTottalNbProduct())}getSommeTotale(){let k=0;for(const C of this.selectedVente.lignesVente)k+=C.venteQty*C.prixVente;return k}getSommeTaxes(){let k=0;for(const C of this.selectedVente.lignesVente)k+=C.produit.taxe*C.venteQty;return k}addProductToSale(k){const C=this.selectedVente.lignesVente.find(_=>_.produit.id===k.id);if(C)C.venteQty<C.produit.qantite?C.venteQty+=1:this.showTopCenter(`Quantit\xe9 ${C.produit.nom} d\xe9pass\xe9e. Il vous reste ${C.produit.qantite}`);else{const _=new _models_LigneVente__WEBPACK_IMPORTED_MODULE_2__.A;_.id=k.id,_.venteQty=Number(this.calculateValue)?parseFloat(this.calculateValue):0,_.venteQty=1,_.prixVente=k.prixUnitaire+k.gainUnitaire,_.produit=k,this.calculateValue="0",this.calculatorScreenValue="0",this.selectedVente.lignesVente.unshift(_),this.focusOnSearchInput()}this.getTottalNbProduct(),this.searchTerm=""}getProduitsByArticle(k){alert((new _angular_common__WEBPACK_IMPORTED_MODULE_14__.TG).transform(k)),k&&this.dtt.filter(k.id)}getAllArticles(){this.produitService.getArticles().subscribe(k=>{this.articles=k,console.table(this.articles)},k=>{sweetalert2__WEBPACK_IMPORTED_MODULE_4___default().fire({icon:"error",title:"Oops...",text:"Vous n'avez pas la permission s'il vous plait  contacter l'administrateur.  "})})}supprimerProduit(k){k>=0&&k<this.selectedVente.lignesVente.length&&(this.selectedVente.lignesVente.splice(k,1),this.getTottalNbProduct())}matchesSearchTerm(k){const C=this.searchTerm1.toLowerCase(),_=k.produit.nom.toLowerCase(),h=k.prixVente.toString().toLowerCase(),c=k.venteQty.toString().toLowerCase(),d=(k.venteQty*k.prixVente).toString().toLowerCase();return _.includes(C)||h.includes(C)||c.includes(C)||d.includes(C)}clear(k){k.clear()}getTotalVente(){let k=this.getSommeTotale()+this.getSommeTaxes()+this.frais;return this.selectedVente.total=k,this.selectedVente.reglement=k,this.selectedVente.total}showClotureDIv(){this.clotureService.getTotalClotureNow(new Date).subscribe(k=>{this.TotalAndReglement=k,console.error(k)}),this.show=!this.show}saveCloture(){this.cloture.employer.id=(0,_main__WEBPACK_IMPORTED_MODULE_3__.lL)().id,this.cloture.dateCloture=new Date,this.clotureService.SaveCloture(this.cloture).subscribe(k=>{this.show=!1,sweetalert2__WEBPACK_IMPORTED_MODULE_4___default().fire({icon:"success",title:"Succ\xe8s!",text:"La cl\xf4ture a \xe9t\xe9 enregistr\xe9e avec succ\xe8s!"})},k=>{sweetalert2__WEBPACK_IMPORTED_MODULE_4___default().fire({icon:"error",title:"Erreur!",text:"Une erreur est survenue lors de l'enregistrement de la cl\xf4ture. Veuillez r\xe9essayer."}),console.error("Erreur lors de l'enregistrement de la cl\xf4ture",k)})}showDialog(){var k=this;return(0,C_Users_mamad_Documents_GitHub_GestionStockFrontOfficeKF7_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_12__.A)(function*(){const{value:C}=yield sweetalert2__WEBPACK_IMPORTED_MODULE_4___default().fire({title:"Client",input:"text",inputValue:"client "+(k.listeVente.length+1),inputLabel:"nom client!",inputPlaceholder:"nom du clients"});C&&(0!=k.selectedVente.lignesVente.length?(k.listeVente.push(k.selectedVente),k.getTottalNbProduct()):sweetalert2__WEBPACK_IMPORTED_MODULE_4___default().fire({title:"Vider  !",text:"Votre vente est d\xe9ja vid\xe9",icon:"error"}))})()}calculatorInput(value){try{"0"==this.calculateValue&&(this.calculateValue="");let lasCar="";switch(""!==this.calculateValue&&(lasCar=this.calculateValue.toString().charAt(this.calculateValue.length-1)),Number(value)||"/"!=lasCar&&"*"!=lasCar&&"-"!=lasCar&&"+"!=lasCar||"0"!=lasCar?"CC"!==value&&"C"!==value&&"R"!==value&&"="!==value&&(this.calculateValue+=value):this.calculateValue=this.calculateValue.toString().substring(0,this.calculateValue.toString().length-1)+value,value){case"C":this.SelectetLigne=new _models_LigneVente__WEBPACK_IMPORTED_MODULE_2__.A,this.calculateValue="0";break;case"CC":0!==this.SelectetLigne.id&&(this.selectedVente.lignesVente.forEach(k=>{k.id==this.SelectetLigne.id&&(k.venteQty=0)}),this.calculateValue="0");break;case"R":{const newCalcule=this.calculateValue.toString().slice(0,-1);this.calculateValue=newCalcule,""===this.calculateValue&&(this.calculateValue="0");try{this.calculateValue=eval(this.calculateValue),0!=this.SelectetLigne.id&&this.selectedVente.lignesVente.forEach(k=>{k.id==this.SelectetLigne.id&&(k.venteQty=parseFloat(this.calculateValue))})}catch(k){this.calculateValue="0",this.calculatorScreenValue="0"}}break;case"=":try{this.calculateValue=eval(this.calculateValue),0!=this.SelectetLigne.id&&this.selectedVente.lignesVente.forEach(k=>{k.id==this.SelectetLigne.id&&(k.venteQty=parseFloat(this.calculateValue))})}catch(k){this.calculatorScreenValue="0",this.calculateValue="0"}break;default:try{this.calculateValue=eval(this.calculateValue),0!=this.SelectetLigne.id&&this.selectedVente.lignesVente.forEach(k=>{k.id==this.SelectetLigne.id&&(k.venteQty=parseFloat(this.calculateValue))})}catch(k){}}this.getTotalOperation()}catch(k){this.calculatorScreenValue="0",this.calculateValue="0"}}evaluateCalculator(k){return(this.calculateValue.match(/[\+\-\*\/]/g)||[]).length<1}changeFocus(k){null==k?this.focusReg=!0:null==this.focusFrais?this.focusFrais=!0:(this.focusFrais=!1,this.focusReg=!1,this.focusRecherche=!0,this.SelectetLigne=k,this.selectedVente.lignesVente.forEach(C=>{C.focus=C.id===k.id}))}changeTable(){""!==this.searchText.trim()?this.getAllProduits():(this.produitsOrderBy.forEach(k=>{this.loadFile(k)}),this.produits=this.produitsOrderBy)}getTotalOperation(){try{this.calculatorScreenValue=eval(this.calculateValue)}catch(e){this.calculatorScreenValue=eval(this.calculateValue.toString().substring(0,this.calculateValue.length-1))}}loadFileByProduct(k){return k&&k.files&&k.files.length>0?(console.log([]),this.sanitizer.bypassSecurityTrustUrl(`http://localhost:8081/img/${k.files[0].name}`)):this.defaultImageUrl}detailproduit(k){this.product=k,this.visibleDetails=!0}handleKeyboardEvent(k){0==this.focusFrais&&0==this.focusReg&&0==this.focusRecherche&&(k.key>="0"&&k.key<="9"||["/","*","-","+",".","=","Enter","Backspace"].includes(k.key))&&this.calculatorInput("Enter"==k.key?"=":"Backspace"==k.key?"R":k.key)}getSeverity(k){return 0===k.qantite?"danger":k.levelstock<k.qantite?"success":k.levelstock>k.qantite?"warning":null}getStockLabel(k){return 0==k.qantite?"EPUISE":k.levelstock<k.qantite?"ENSTOCK":"LIMITE"}getUnite(k){return"PIECE"===k.article.unite?"pcs":"ML"===k.article.unite?"ml":"G"===k.article.unite?"g":"CM"===k.article.unite?"cm":""}EditshowDialog(){var k=this;return(0,C_Users_mamad_Documents_GitHub_GestionStockFrontOfficeKF7_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_12__.A)(function*(){const{value:C}=yield sweetalert2__WEBPACK_IMPORTED_MODULE_4___default().fire({title:"Client",input:"text",inputValue:k.selectedVente.client.firstname,inputLabel:"nom client!",inputPlaceholder:"nom du clients"});C&&(k.selectedVente.client.firstname=C,k.listeVente=[...k.listeVente])})()}changeFocusSearch(){this.focusReg=!1,this.focusFrais=!1,this.focusRecherche=!0}setReglement(k){this.reglement=k}filter(k){}changeFocusCal(){this.focusReg=!1,this.focusFrais=!1,this.focusRecherche=!1}static#_=this.\u0275fac=function k(C){return new(C||POSComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_layout_service_produit_service__WEBPACK_IMPORTED_MODULE_7__.D),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_layout_service_vente_service__WEBPACK_IMPORTED_MODULE_8__.W),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_layout_service_pos_service__WEBPACK_IMPORTED_MODULE_9__.c),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_layout_service_cloture_service__WEBPACK_IMPORTED_MODULE_10__.k),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_11__.sFG),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_15__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_angular_common__WEBPACK_IMPORTED_MODULE_14__.vh),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(primeng_api__WEBPACK_IMPORTED_MODULE_16__.bg),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_angular_platform_browser__WEBPACK_IMPORTED_MODULE_17__.up),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_11__.gRc),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_11__.SKi))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_11__.VBU({type:POSComponent,selectors:[["app-pos"]],viewQuery:function k(C,_){if(1&C&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.GBs(_c0,5),_angular_core__WEBPACK_IMPORTED_MODULE_11__.GBs(_c1,5),_angular_core__WEBPACK_IMPORTED_MODULE_11__.GBs(_c2,5),_angular_core__WEBPACK_IMPORTED_MODULE_11__.GBs(_c3,5)),2&C){let h;_angular_core__WEBPACK_IMPORTED_MODULE_11__.mGM(h=_angular_core__WEBPACK_IMPORTED_MODULE_11__.lsd())&&(_.dv=h.first),_angular_core__WEBPACK_IMPORTED_MODULE_11__.mGM(h=_angular_core__WEBPACK_IMPORTED_MODULE_11__.lsd())&&(_.dtt=h.first),_angular_core__WEBPACK_IMPORTED_MODULE_11__.mGM(h=_angular_core__WEBPACK_IMPORTED_MODULE_11__.lsd())&&(_.searchInput=h.first),_angular_core__WEBPACK_IMPORTED_MODULE_11__.mGM(h=_angular_core__WEBPACK_IMPORTED_MODULE_11__.lsd())&&(_.ajouterProduitButton=h.first)}},hostBindings:function k(C,_){1&C&&_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("keydown",function(c){return _.handleKeyboardEvent(c)},!1,_angular_core__WEBPACK_IMPORTED_MODULE_11__.EBC)},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_11__.aNF],decls:39,vars:27,consts:[["dv",""],["dt",""],["op",""],[1,"p-toolbar","flex","justify-content-between","flex","flex-wrap","align-items-center"],["pButton","","type","button","label","Accueil","icon","pi pi-home",1,"p-button-rounded","p-button-outlined","p-button-text","p-button-success","mr-2",3,"click"],["pButton","","type","button","label","En caisse","icon","pi pi-cart-plus",1,"p-button-rounded","p-button-outlined","p-button-text","p-button-success","mr-2",3,"click"],["pButton","","type","button","label","Cloture","icon","pi pi-key",1,"p-button-rounded","p-button-outlined","p-button-text","p-button-danger","mr-2",3,"click"],["pButton","","type","button","label","Vider","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-text","p-button-warning","mr-2",3,"click"],["pButton","","type","button","icon","pi pi-print",1,"p-button-rounded","p-button-outlined","p-button-text","p-button-danger"],[1,"flex","align-items-center"],[1,"pi","pi-ticket","p-2","font-bold"],["pButton","","type","button","icon","pi pi-pencil",1,"p-button-text","p-button-success",3,"click"],[1,"flex","justify-content-between","align-items-center"],["for","binary",1,"text-primary","font-bold","mr-2"],["id","binary",1,"ml-2",3,"ngModelChange","ngModel"],[1,"col-12"],[1,"card"],[1,"grid"],[1,"col-12","md:col-9"],[1,"p-input-icon-right"],["type","text","pInputText","","placeholder","Rechercher par Nom ou Code \xe0 barre...",1,"float-end","flex","flex-column","w-full",3,"ngModelChange","input","click","ngModel"],[1,"pi","pi-spin","pi-box","text-success"],[3,"value","layout","paginator","rows","loading","rowsPerPageOptions","filterBy"],["pTemplate","grid"],[1,"col-12","md:col-3"],[1,"flex","mb-1","p-2"],[1,"flex","flex-column"],[1,"flex","ml-2","font-medium","text-4xl","text-red-500","font-bold"],["scrollHeight","360px","styleClass","p-datatable-striped",3,"value","tableStyle","globalFilterFields"],["pTemplate","header"],["pTemplate","body"],["position","top-center","key","tc",1,"bg-info"],["header","Cl\xf4ture Caisse",3,"visibleChange","maximizable","modal","visible"],["pTemplate","content"],[1,"grid","grid-nogutter"],["class","col-12 sm:col-6 md:col-4 xl:col-2 p-2",4,"ngFor","ngForOf"],[1,"col-12","sm:col-6","md:col-4","xl:col-2","p-2"],[1,"p-2","border-3","surface-border","surface-card","border-round","flex","flex-column"],[1,"flex","justify-content-between"],[1,"pi","pi-tags","text-blue-500"],[1,"font-medium","text-secondary","text-sm"],[1,"font-medium","text-sm",3,"value","severity"],[1,"surface-100","flex","justify-content-center","border-round",3,"click"],["class","w-9 border-round","style","width: 100%; height: 5vh;",3,"src","alt",4,"ngIf"],[1,"pt-4"],[1,"text-lg","font-medium","text-900","mt-1"],["tooltipPosition","top",1,"surface-0","flex","align-items-center","justify-content-center","py-1","px-2","bg-orange-50","text-overflow-ellipsis","overflow-hidden","whitespace-nowrap",2,"border-radius","30px","max-width","200px",3,"pTooltip"],[1,"text-900","font-medium"],[1,"flex","mt-4","justify-content-between"],[1,"text-2xl","text-red-400","font-semibold"],[1,"pi","pi-eye","text-primary-600",3,"click"],[1,"card",2,"width","250px"],[1,"pi","pi-tags","text-primary-600"],[1,"font-bold","text-primary-600","text-2xl"],[1,"flex","flex-column","align-items-center","text-center","mb-3"],["class","w-5 shadow-2 my-3 mx-0",3,"src","alt",4,"ngIf"],[1,"text-2xl","font-bold"],[1,"pi","pi-tag","text-primary-600"],[1,"pi","pi-barcode",2,"color","#0523cc"],[1,"mb-3"],[1,"flex","justify-content-between","footer"],[1,"text-2xl","font-semibold","text-red-400"],["pButton","","pRipple","","icon","pi pi-cart-plus",1,"p-button-rounded","p-button-outlined","p-button-success",3,"click"],[1,"w-9","border-round",2,"width","100%","height","5vh",3,"src","alt"],[1,"w-5","shadow-2","my-3","mx-0",3,"src","alt"],[2,"width","25%"],[2,"width","40%"],[2,"width","10%"],["styleClass","surface-border","pAutoFocus","","inputId","minmaxfraction","mode","decimal",3,"click","ngModelChange","size","autofocus","ngModel","min","max"],[1,"text-green-300","font-bold","text-1xl"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],[1,"subscribe","m-5","justify-content-center"],[1,"text-center","font-bold","font-italic","text-primary"],[1,"container-lg","mt-2","shadow-lg","p-3","mb-5","bg-body-tertiary","rounded"],[1,"bi-lock","text-primary-800","font-bold"],[1,"colorShadow","flex","flex-column","md:flex-row","gap-3","p-2"],[1,"col-6"],[1,"font-bold","text-6xl","text-primary"],[1,"ml-2","text-6xl","text-red-600","font-bold"],[1,"font-bold","text-red-600"],[1,"card","flex"],[1,"flex-auto"],[1,"font-bold","text-6xl","text-red-600"],["inputId","espece","pTooltip"," prix unitaire  d'achat","mode","currency","inputId","currency-india","currency","TND","currencyDisplay","code","locale","en-IN",3,"ngModelChange","size","ngModel"],[1,"flex","justify-content-end","align-items-end"],["pButton","","type","button","label","Cl\xf4ture","icon","pi pi-calculator",1,"p-button-rounded","p-button-outlined","p-button-text","p-button-success","mr-2",3,"click"]],template:function k(C,_){if(1&C){const h=_angular_core__WEBPACK_IMPORTED_MODULE_11__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div",3)(1,"button",4),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("click",function(){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(h),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(_.goHome())}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(2,"button",5),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("click",function(){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(h),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(_.addVente())}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(3,"button",6),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("click",function(){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(h),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(_.showClotureDIv())}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(4,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("click",function(){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(h),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(_.clearTableVente())}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(5,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(6,"div",9)(7,"span",10),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(8),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(9,"button",11),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("click",function(){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(h),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(_.setTitle())}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(10,"div",12)(11,"label",13),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(12,"Auto"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(13,"p-inputSwitch",14),_angular_core__WEBPACK_IMPORTED_MODULE_11__.mxI("ngModelChange",function(d){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(h),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DH7(_.selectedVente.isPrint,d)||(_.selectedVente.isPrint=d),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(d)}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(14,"div",15)(15,"div",16)(16,"div",17)(17,"div",18)(18,"div",16)(19,"span",19)(20,"input",20),_angular_core__WEBPACK_IMPORTED_MODULE_11__.mxI("ngModelChange",function(d){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(h),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DH7(_.searchText,d)||(_.searchText=d),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(d)}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("input",function(){_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(h);const d=_angular_core__WEBPACK_IMPORTED_MODULE_11__.sdS(23);return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(d.filter(_.searchText))})("click",function(){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(h),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(_.changeFocusSearch())}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(21,"i",21),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(22,"p-dataView",22,0),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(24,POSComponent_ng_template_24_Template,2,1,"ng-template",23),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(25,"div",24)(26,"div",16)(27,"div",25)(28,"div",26)(29,"span",27),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(30),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(31,"currency"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(32,"p-table",28,1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(34,POSComponent_ng_template_34_Template,8,0,"ng-template",29)(35,POSComponent_ng_template_35_Template,10,7,"ng-template",30),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(36,"p-toast",31),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(37,"p-dialog",32),_angular_core__WEBPACK_IMPORTED_MODULE_11__.mxI("visibleChange",function(d){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(h),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DH7(_.show,d)||(_.show=d),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(d)}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(38,POSComponent_ng_template_38_Template,23,3,"ng-template",33),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()}2&C&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(8),_angular_core__WEBPACK_IMPORTED_MODULE_11__.JRh(_.getTitle()),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(5),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R50("ngModel",_.selectedVente.isPrint),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(7),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R50("ngModel",_.searchText),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("value",_.produits)("layout",_.layout)("paginator",!0)("rows",12)("loading",_.loading)("rowsPerPageOptions",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lJ4(23,_c4))("filterBy","nom,dataqr,subdataqr,dateFabrication,dateExpiration,description,qantite,prixUnitaire,gainGros,minQuantiteGros,article.nom,article.id"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(8),_angular_core__WEBPACK_IMPORTED_MODULE_11__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_11__.brH(31,19,_.getTotalVente(),"TND","TND ")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("value",_.selectedVente.lignesVente)("tableStyle",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lJ4(24,_c5))("globalFilterFields",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lJ4(25,_c6)),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(5),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Aen(_angular_core__WEBPACK_IMPORTED_MODULE_11__.lJ4(26,_c7)),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("maximizable",!0)("modal",!0),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R50("visible",_.show))},dependencies:[primeng_inputnumber__WEBPACK_IMPORTED_MODULE_18__.O3,primeng_inputnumber__WEBPACK_IMPORTED_MODULE_18__.YI,primeng_api__WEBPACK_IMPORTED_MODULE_16__.Ei,primeng_button__WEBPACK_IMPORTED_MODULE_19__.tm,primeng_button__WEBPACK_IMPORTED_MODULE_19__._f,primeng_dropdown__WEBPACK_IMPORTED_MODULE_20__.kr,_angular_forms__WEBPACK_IMPORTED_MODULE_21__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_21__.me,_angular_forms__WEBPACK_IMPORTED_MODULE_21__.BC,_angular_forms__WEBPACK_IMPORTED_MODULE_21__.vS,primeng_inputswitch__WEBPACK_IMPORTED_MODULE_22__.H_,primeng_inputswitch__WEBPACK_IMPORTED_MODULE_22__.HW,primeng_dataview__WEBPACK_IMPORTED_MODULE_23__.KQ,primeng_dataview__WEBPACK_IMPORTED_MODULE_23__.U$,primeng_overlaypanel__WEBPACK_IMPORTED_MODULE_24__.d,primeng_overlaypanel__WEBPACK_IMPORTED_MODULE_24__.j,primeng_table__WEBPACK_IMPORTED_MODULE_25__.bG,primeng_table__WEBPACK_IMPORTED_MODULE_25__.XI,primeng_autofocus__WEBPACK_IMPORTED_MODULE_26__.u,primeng_autofocus__WEBPACK_IMPORTED_MODULE_26__.q,_angular_common__WEBPACK_IMPORTED_MODULE_14__.bT,primeng_message__WEBPACK_IMPORTED_MODULE_27__.u,primeng_toast__WEBPACK_IMPORTED_MODULE_28__.MB,primeng_toast__WEBPACK_IMPORTED_MODULE_28__.y8,primeng_dialog__WEBPACK_IMPORTED_MODULE_29__.P,primeng_dialog__WEBPACK_IMPORTED_MODULE_29__.l,_angular_common__WEBPACK_IMPORTED_MODULE_14__.oe,primeng_checkbox__WEBPACK_IMPORTED_MODULE_30__.q4,primeng_inputgroupaddon__WEBPACK_IMPORTED_MODULE_31__.k,primeng_inputgroup__WEBPACK_IMPORTED_MODULE_32__.I,primeng_inputtext__WEBPACK_IMPORTED_MODULE_33__.u,primeng_inputtext__WEBPACK_IMPORTED_MODULE_33__.S,_angular_common__WEBPACK_IMPORTED_MODULE_14__.Sq,primeng_card__WEBPACK_IMPORTED_MODULE_34__.D,primeng_tag__WEBPACK_IMPORTED_MODULE_35__.$,primeng_tag__WEBPACK_IMPORTED_MODULE_35__.v,primeng_rating__WEBPACK_IMPORTED_MODULE_36__.wZ,primeng_toolbar__WEBPACK_IMPORTED_MODULE_37__.m,_angular_common__WEBPACK_IMPORTED_MODULE_14__.MD,_angular_common__WEBPACK_IMPORTED_MODULE_14__.QX,primeng_ripple__WEBPACK_IMPORTED_MODULE_38__.Z,primeng_ripple__WEBPACK_IMPORTED_MODULE_38__.n,primeng_tooltip__WEBPACK_IMPORTED_MODULE_39__.S,primeng_tooltip__WEBPACK_IMPORTED_MODULE_39__.m],styles:[".card1[_ngcontent-%COMP%]{width:300px;height:400px;background:var(--bg-color);padding:4px}.footer[_ngcontent-%COMP%]{padding-bottom:2px}.p-button-lg[_ngcontent-%COMP%], .p-card[_ngcontent-%COMP%]   .p-d-flex[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{font-size:1.5rem;height:4rem;width:25%}"]})}return POSComponent})()},3558:(k,C,_)=>{_.r(C),_.d(C,{UIkitModule:()=>TI});var h=_(177),c=_(4662),d=_(1141),v=_(6701),w=_(8150),E=_(2242),t=_(4438);function f(n){return n instanceof t.aKT?n.nativeElement:n}var T=_(1413),D=(_(7673),_(1985)),R=_(8750);_(1397),_(7441),_(8071),_(6450);var ye=_(6780),je=_(8359);const U={schedule(n){let s=requestAnimationFrame,i=cancelAnimationFrame;const{delegate:r}=U;r&&(s=r.requestAnimationFrame,i=r.cancelAnimationFrame);const o=s(a=>{i=void 0,n(a)});return new je.yU(()=>i?.(o))},requestAnimationFrame(...n){const{delegate:s}=U;return(s?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:s}=U;return(s?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var A=_(3604);const z=new class Z extends A.q{flush(s){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;s=s||r.shift();do{if(o=s.execute(s.state,s.delay))break}while((s=r[0])&&s.id===i&&r.shift());if(this._active=!1,o){for(;(s=r[0])&&s.id===i&&r.shift();)s.unsubscribe();throw o}}}(class me extends ye.R{constructor(s,i){super(s,i),this.scheduler=s,this.work=i}requestAsyncId(s,i,r=0){return null!==r&&r>0?super.requestAsyncId(s,i,r):(s.actions.push(this),s._scheduled||(s._scheduled=U.requestAnimationFrame(()=>s.flush(void 0))))}recycleAsyncId(s,i,r=0){var o;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(s,i,r);const{actions:a}=s;null!=i&&(null===(o=a[a.length-1])||void 0===o?void 0:o.id)!==i&&(U.cancelAnimationFrame(i),s._scheduled=void 0)}});let ut,Me=1;const tt={};function Ot(n){return n in tt&&(delete tt[n],!0)}const di={setImmediate(n){const s=Me++;return tt[s]=!0,ut||(ut=Promise.resolve()),ut.then(()=>Ot(s)&&n()),s},clearImmediate(n){Ot(n)}},{setImmediate:pi,clearImmediate:ui}=di,it={setImmediate(...n){const{delegate:s}=it;return(s?.setImmediate||pi)(...n)},clearImmediate(n){const{delegate:s}=it;return(s?.clearImmediate||ui)(n)},delegate:void 0};new class Mt extends A.q{flush(s){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;s=s||r.shift();do{if(o=s.execute(s.state,s.delay))break}while((s=r[0])&&s.id===i&&r.shift());if(this._active=!1,o){for(;(s=r[0])&&s.id===i&&r.shift();)s.unsubscribe();throw o}}}(class _i extends ye.R{constructor(s,i){super(s,i),this.scheduler=s,this.work=i}requestAsyncId(s,i,r=0){return null!==r&&r>0?super.requestAsyncId(s,i,r):(s.actions.push(this),s._scheduled||(s._scheduled=it.setImmediate(s.flush.bind(s,void 0))))}recycleAsyncId(s,i,r=0){var o;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(s,i,r);const{actions:a}=s;null!=i&&(null===(o=a[a.length-1])||void 0===o?void 0:o.id)!==i&&(it.clearImmediate(i),s._scheduled===i&&(s._scheduled=void 0))}});var ae=_(3236),y=_(9974),F=_(4360),K=_(1584);let Fe;_(5964);try{Fe=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Fe=!1}let _t,hi,Re=(()=>{class n{constructor(i){this._platformId=i,this.isBrowser=this._platformId?(0,h.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Fe)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(t.KVO(t.Agw))};static#t=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mt(n){return function Oo(){if(null==_t&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_t=!0}))}finally{_t=_t||!1}return _t}()?n:!!n.capture}function Ji(n){if(function Mo(){if(null==hi){const n=typeof document<"u"?document.head:null;hi=!(!n||!n.createShadowRoot&&!n.attachShadow)}return hi}()){const s=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&s instanceof ShadowRoot)return s}return null}function jt(n){return n.composedPath?n.composedPath()[0]:n.target}let Ao=(()=>{class n{constructor(i,r,o){this._platform=i,this._change=new T.B,this._changeListener=a=>{this._change.next(a)},this._document=o,r.runOutsideAngular(()=>{if(i.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+o,right:i.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,r=this._getWindow(),o=i.documentElement,a=o.getBoundingClientRect();return{top:-a.top||i.body.scrollTop||r.scrollY||o.scrollTop||0,left:-a.left||i.body.scrollLeft||r.scrollX||o.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(function le(n,s=ae.E){return function j(n){return(0,y.N)((s,i)=>{let r=!1,o=null,a=null,l=!1;const p=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const O=o;o=null,i.next(O)}l&&i.complete()},S=()=>{a=null,l&&i.complete()};s.subscribe((0,F._)(i,O=>{r=!0,o=O,a||(0,R.Tg)(n(O)).subscribe(a=(0,F._)(i,p,S))},()=>{l=!0,(!r||!a||a.closed)&&i.complete()}))})}(()=>(0,K.O)(n,s))}(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||n)(t.KVO(Re),t.KVO(t.SKi),t.KVO(h.qQ,8))};static#t=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lo=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=t.$C({type:n});static#i=this.\u0275inj=t.G2t({})}return n})();_(8141),_(6354),_(6697);var fr=_(605),gr=_(6365),br=_(983),rn=_(9326),vr=_(6648);var Pt=_(6977);function vi(n,s,i){for(let r in s)if(s.hasOwnProperty(r)){const o=s[r];o?n.setProperty(r,o,i?.has(r)?"important":""):n.removeProperty(r)}return n}function ot(n,s){const i=s?"":"none";vi(n.style,{"touch-action":s?"":"none","-webkit-user-drag":s?"":"none","-webkit-tap-highlight-color":s?"":"transparent","user-select":i,"-ms-user-select":i,"-webkit-user-select":i,"-moz-user-select":i})}function an(n,s,i){vi(n.style,{position:s?"":"fixed",top:s?"":"0",opacity:s?"":"0",left:s?"":"-999em"},i)}function At(n,s){return s&&"none"!=s?n+" "+s:n}function ln(n){const s=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*s}function Ci(n,s){return n.getPropertyValue(s).split(",").map(r=>r.trim())}function Ti(n){const s=n.getBoundingClientRect();return{top:s.top,right:s.right,bottom:s.bottom,left:s.left,width:s.width,height:s.height,x:s.x,y:s.y}}function Ii(n,s,i){const{top:r,bottom:o,left:a,right:l}=n;return i>=r&&i<=o&&s>=a&&s<=l}function ht(n,s,i){n.top+=s,n.bottom=n.top+n.height,n.left+=i,n.right=n.left+n.width}function cn(n,s,i,r){const{top:o,right:a,bottom:l,left:p,width:S,height:O}=n,N=S*s,ne=O*s;return r>o-ne&&r<l+ne&&i>p-N&&i<a+N}_(9172),_(5558);class dn{constructor(s){this._document=s,this.positions=new Map}clear(){this.positions.clear()}cache(s){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),s.forEach(i=>{this.positions.set(i,{scrollPosition:{top:i.scrollTop,left:i.scrollLeft},clientRect:Ti(i)})})}handleScroll(s){const i=jt(s),r=this.positions.get(i);if(!r)return null;const o=r.scrollPosition;let a,l;if(i===this._document){const O=this.getViewportScrollPosition();a=O.top,l=O.left}else a=i.scrollTop,l=i.scrollLeft;const p=o.top-a,S=o.left-l;return this.positions.forEach((O,N)=>{O.clientRect&&i!==N&&i.contains(N)&&ht(O.clientRect,p,S)}),o.top=a,o.left=l,{top:p,left:S}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function pn(n){const s=n.cloneNode(!0),i=s.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();s.removeAttribute("id");for(let o=0;o<i.length;o++)i[o].removeAttribute("id");return"canvas"===r?mn(n,s):("input"===r||"select"===r||"textarea"===r)&&_n(n,s),un("canvas",n,s,mn),un("input, textarea, select",n,s,_n),s}function un(n,s,i,r){const o=s.querySelectorAll(n);if(o.length){const a=i.querySelectorAll(n);for(let l=0;l<o.length;l++)r(o[l],a[l])}}let wr=0;function _n(n,s){"file"!==s.type&&(s.value=n.value),"radio"===s.type&&s.name&&(s.name=`mat-clone-${s.name}-${wr++}`)}function mn(n,s){const i=s.getContext("2d");if(i)try{i.drawImage(n,0,0)}catch{}}const hn=mt({passive:!0}),Lt=mt({passive:!1}),yi=new Set(["position"]);class kr{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(s){s!==this._disabled&&(this._disabled=s,this._toggleNativeDragInteractions(),this._handles.forEach(i=>ot(i,s)))}constructor(s,i,r,o,a,l){this._config=i,this._document=r,this._ngZone=o,this._viewportRuler=a,this._dragDropRegistry=l,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new T.B,this._pointerMoveSubscription=je.yU.EMPTY,this._pointerUpSubscription=je.yU.EMPTY,this._scrollSubscription=je.yU.EMPTY,this._resizeSubscription=je.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new T.B,this.started=new T.B,this.released=new T.B,this.ended=new T.B,this.entered=new T.B,this.exited=new T.B,this.dropped=new T.B,this.moved=this._moveEvents,this._pointerDown=p=>{if(this.beforeStarted.next(),this._handles.length){const S=this._getTargetHandle(p);S&&!this._disabledHandles.has(S)&&!this.disabled&&this._initializeDragSequence(S,p)}else this.disabled||this._initializeDragSequence(this._rootElement,p)},this._pointerMove=p=>{const S=this._getPointerPositionOnPage(p);if(!this._hasStartedDragging){if(Math.abs(S.x-this._pickupPositionOnPage.x)+Math.abs(S.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Ee=Date.now()>=this._dragStartTime+this._getDragStartDelay(p),ke=this._dropContainer;if(!Ee)return void this._endDragSequence(p);(!ke||!ke.isDragging()&&!ke.isReceiving())&&(p.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(p)))}return}p.preventDefault();const O=this._getConstrainedPointerPosition(S);if(this._hasMoved=!0,this._lastKnownPointerPosition=S,this._updatePointerDirectionDelta(O),this._dropContainer)this._updateActiveDropContainer(O,S);else{const N=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,ne=this._activeTransform;ne.x=O.x-N.x+this._passiveTransform.x,ne.y=O.y-N.y+this._passiveTransform.y,this._applyRootElementTransform(ne.x,ne.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:O,event:p,distance:this._getDragDistance(O),delta:this._pointerDirectionDelta})})},this._pointerUp=p=>{this._endDragSequence(p)},this._nativeDragStart=p=>{if(this._handles.length){const S=this._getTargetHandle(p);S&&!this._disabledHandles.has(S)&&!this.disabled&&p.preventDefault()}else this.disabled||p.preventDefault()},this.withRootElement(s).withParent(i.parentDragRef||null),this._parentPositions=new dn(r),l.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(s){this._handles=s.map(r=>f(r)),this._handles.forEach(r=>ot(r,this.disabled)),this._toggleNativeDragInteractions();const i=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&i.add(r)}),this._disabledHandles=i,this}withPreviewTemplate(s){return this._previewTemplate=s,this}withPlaceholderTemplate(s){return this._placeholderTemplate=s,this}withRootElement(s){const i=f(s);return i!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{i.addEventListener("mousedown",this._pointerDown,Lt),i.addEventListener("touchstart",this._pointerDown,hn),i.addEventListener("dragstart",this._nativeDragStart,Lt)}),this._initialTransform=void 0,this._rootElement=i),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(s){return this._boundaryElement=s?f(s):null,this._resizeSubscription.unsubscribe(),s&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(s){return this._parentDragRef=s,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(s){!this._disabledHandles.has(s)&&this._handles.indexOf(s)>-1&&(this._disabledHandles.add(s),ot(s,!0))}enableHandle(s){this._disabledHandles.has(s)&&(this._disabledHandles.delete(s),ot(s,this.disabled))}withDirection(s){return this._direction=s,this}_withDropContainer(s){this._dropContainer=s}getFreeDragPosition(){const s=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:s.x,y:s.y}}setFreeDragPosition(s){return this._activeTransform={x:0,y:0},this._passiveTransform.x=s.x,this._passiveTransform.y=s.y,this._dropContainer||this._applyRootElementTransform(s.x,s.y),this}withPreviewContainer(s){return this._previewContainer=s,this}_sortFromLastPointerPosition(){const s=this._lastKnownPointerPosition;s&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(s),s)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(s){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:s}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(s),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const i=this._getPointerPositionOnPage(s);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(i),dropPoint:i,event:s})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(s){ft(s)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const i=this._dropContainer;if(i){const r=this._rootElement,o=r.parentNode,a=this._placeholder=this._createPlaceholderElement(),l=this._anchor=this._anchor||this._document.createComment(""),p=this._getShadowRoot();o.insertBefore(l,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),an(r,!1,yi),this._document.body.appendChild(o.replaceChild(a,r)),this._getPreviewInsertionPoint(o,p).appendChild(this._preview),this.started.next({source:this,event:s}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:s}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(s,i){this._parentDragRef&&i.stopPropagation();const r=this.isDragging(),o=ft(i),a=!o&&0!==i.button,l=this._rootElement,p=jt(i),S=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),O=o?function mr(n){const s=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!s||-1!==s.identifier||null!=s.radiusX&&1!==s.radiusX||null!=s.radiusY&&1!==s.radiusY)}(i):function _r(n){return 0===n.buttons||0===n.detail}(i);if(p&&p.draggable&&"mousedown"===i.type&&i.preventDefault(),r||a||S||O)return;if(this._handles.length){const _e=l.style;this._rootElementTapHighlight=_e.webkitTapHighlightColor||"",_e.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(_e=>this._updateOnScroll(_e)),this._boundaryElement&&(this._boundaryRect=Ti(this._boundaryElement));const N=this._previewTemplate;this._pickupPositionInElement=N&&N.template&&!N.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,s,i);const ne=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(i);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:ne.x,y:ne.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,i)}_cleanupDragArtifacts(s){an(this._rootElement,!0,yi),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const i=this._dropContainer,r=i.getItemIndex(this),o=this._getPointerPositionOnPage(s),a=this._getDragDistance(o),l=i._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:a,dropPoint:o,event:s}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:i,previousContainer:this._initialContainer,isPointerOverContainer:l,distance:a,dropPoint:o,event:s}),i.drop(this,r,this._initialIndex,this._initialContainer,l,a,o,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:s,y:i},{x:r,y:o}){let a=this._initialContainer._getSiblingContainerFromPosition(this,s,i);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(s,i)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,s,i,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,o),this._dropContainer._sortItem(this,s,i,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(s,i):this._applyPreviewTransform(s-this._pickupPositionInElement.x,i-this._pickupPositionInElement.y))}_createPreviewElement(){const s=this._previewTemplate,i=this.previewClass,r=s?s.template:null;let o;if(r&&s){const a=s.matchSize?this._initialClientRect:null,l=s.viewContainer.createEmbeddedView(r,s.context);l.detectChanges(),o=gn(l,this._document),this._previewRef=l,s.matchSize?bn(o,a):o.style.transform=Bt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=pn(this._rootElement),bn(o,this._initialClientRect),this._initialTransform&&(o.style.transform=this._initialTransform);return vi(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},yi),ot(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),i&&(Array.isArray(i)?i.forEach(a=>o.classList.add(a)):o.classList.add(i)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const s=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(s.left,s.top);const i=function Er(n){const s=getComputedStyle(n),i=Ci(s,"transition-property"),r=i.find(p=>"transform"===p||"all"===p);if(!r)return 0;const o=i.indexOf(r),a=Ci(s,"transition-duration"),l=Ci(s,"transition-delay");return ln(a[o])+ln(l[o])}(this._preview);return 0===i?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const o=l=>{(!l||jt(l)===this._preview&&"transform"===l.propertyName)&&(this._preview?.removeEventListener("transitionend",o),r(),clearTimeout(a))},a=setTimeout(o,1.5*i);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const s=this._placeholderTemplate,i=s?s.template:null;let r;return i?(this._placeholderRef=s.viewContainer.createEmbeddedView(i,s.context),this._placeholderRef.detectChanges(),r=gn(this._placeholderRef,this._document)):r=pn(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(s,i,r){const o=i===this._rootElement?null:i,a=o?o.getBoundingClientRect():s,l=ft(r)?r.targetTouches[0]:r,p=this._getViewportScrollPosition();return{x:a.left-s.left+(l.pageX-a.left-p.left),y:a.top-s.top+(l.pageY-a.top-p.top)}}_getPointerPositionOnPage(s){const i=this._getViewportScrollPosition(),r=ft(s)?s.touches[0]||s.changedTouches[0]||{pageX:0,pageY:0}:s,o=r.pageX-i.left,a=r.pageY-i.top;if(this._ownerSVGElement){const l=this._ownerSVGElement.getScreenCTM();if(l){const p=this._ownerSVGElement.createSVGPoint();return p.x=o,p.y=a,p.matrixTransform(l.inverse())}}return{x:o,y:a}}_getConstrainedPointerPosition(s){const i=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:o}=this.constrainPosition?this.constrainPosition(s,this,this._initialClientRect,this._pickupPositionInElement):s;if("x"===this.lockAxis||"x"===i?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===i)&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:a,y:l}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,p=this._boundaryRect,{width:S,height:O}=this._getPreviewRect(),N=p.top+l,ne=p.bottom-(O-l);r=fn(r,p.left+a,p.right-(S-a)),o=fn(o,N,ne)}return{x:r,y:o}}_updatePointerDirectionDelta(s){const{x:i,y:r}=s,o=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,l=Math.abs(i-a.x),p=Math.abs(r-a.y);return l>this._config.pointerDirectionChangeThreshold&&(o.x=i>a.x?1:-1,a.x=i),p>this._config.pointerDirectionChangeThreshold&&(o.y=r>a.y?1:-1,a.y=r),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const s=this._handles.length>0||!this.isDragging();s!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=s,ot(this._rootElement,s))}_removeRootElementListeners(s){s.removeEventListener("mousedown",this._pointerDown,Lt),s.removeEventListener("touchstart",this._pointerDown,hn),s.removeEventListener("dragstart",this._nativeDragStart,Lt)}_applyRootElementTransform(s,i){const r=Bt(s,i),o=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=o.transform&&"none"!=o.transform?o.transform:""),o.transform=At(r,this._initialTransform)}_applyPreviewTransform(s,i){const r=this._previewTemplate?.template?void 0:this._initialTransform,o=Bt(s,i);this._preview.style.transform=At(o,r)}_getDragDistance(s){const i=this._pickupPositionOnPage;return i?{x:s.x-i.x,y:s.y-i.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:s,y:i}=this._passiveTransform;if(0===s&&0===i||this.isDragging()||!this._boundaryElement)return;const r=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(0===o.width&&0===o.height||0===r.width&&0===r.height)return;const a=o.left-r.left,l=r.right-o.right,p=o.top-r.top,S=r.bottom-o.bottom;o.width>r.width?(a>0&&(s+=a),l>0&&(s-=l)):s=0,o.height>r.height?(p>0&&(i+=p),S>0&&(i-=S)):i=0,(s!==this._passiveTransform.x||i!==this._passiveTransform.y)&&this.setFreeDragPosition({y:i,x:s})}_getDragStartDelay(s){const i=this.dragStartDelay;return"number"==typeof i?i:ft(s)?i.touch:i?i.mouse:0}_updateOnScroll(s){const i=this._parentPositions.handleScroll(s);if(i){const r=jt(s);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&ht(this._boundaryRect,i.top,i.left),this._pickupPositionOnPage.x+=i.left,this._pickupPositionOnPage.y+=i.top,this._dropContainer||(this._activeTransform.x-=i.left,this._activeTransform.y-=i.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Ji(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(s,i){const r=this._previewContainer||"global";if("parent"===r)return s;if("global"===r){const o=this._document;return i||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return f(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(s){return this._handles.find(i=>s.target&&(s.target===i||i.contains(s.target)))}}function Bt(n,s){return`translate3d(${Math.round(n)}px, ${Math.round(s)}px, 0)`}function fn(n,s,i){return Math.max(s,Math.min(i,n))}function ft(n){return"t"===n.type[0]}function gn(n,s){const i=n.rootNodes;if(1===i.length&&i[0].nodeType===s.ELEMENT_NODE)return i[0];const r=s.createElement("div");return i.forEach(o=>r.appendChild(o)),r}function bn(n,s){n.style.width=`${s.width}px`,n.style.height=`${s.height}px`,n.style.transform=Bt(s.left,s.top)}function gt(n,s){return Math.max(0,Math.min(s,n))}class Dr{constructor(s,i){this._element=s,this._dragDropRegistry=i,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(s){this.withItems(s)}sort(s,i,r,o){const a=this._itemPositions,l=this._getItemIndexFromPointerPosition(s,i,r,o);if(-1===l&&a.length>0)return null;const p="horizontal"===this.orientation,S=a.findIndex(we=>we.drag===s),O=a[l],ne=O.clientRect,_e=S>l?1:-1,Ee=this._getItemOffsetPx(a[S].clientRect,ne,_e),ke=this._getSiblingOffsetPx(S,a,_e),Oe=a.slice();return function Fr(n,s,i){const r=gt(s,n.length-1),o=gt(i,n.length-1);if(r===o)return;const a=n[r],l=o<r?-1:1;for(let p=r;p!==o;p+=l)n[p]=n[p+l];n[o]=a}(a,S,l),a.forEach((we,Ft)=>{if(Oe[Ft]===we)return;const Dt=we.drag===s,ci=Dt?Ee:ke,Qi=Dt?s.getPlaceholderElement():we.drag.getRootElement();we.offset+=ci,p?(Qi.style.transform=At(`translate3d(${Math.round(we.offset)}px, 0, 0)`,we.initialTransform),ht(we.clientRect,0,ci)):(Qi.style.transform=At(`translate3d(0, ${Math.round(we.offset)}px, 0)`,we.initialTransform),ht(we.clientRect,ci,0))}),this._previousSwap.overlaps=Ii(ne,i,r),this._previousSwap.drag=O.drag,this._previousSwap.delta=p?o.x:o.y,{previousIndex:S,currentIndex:l}}enter(s,i,r,o){const a=null==o||o<0?this._getItemIndexFromPointerPosition(s,i,r):o,l=this._activeDraggables,p=l.indexOf(s),S=s.getPlaceholderElement();let O=l[a];if(O===s&&(O=l[a+1]),!O&&(null==a||-1===a||a<l.length-1)&&this._shouldEnterAsFirstChild(i,r)&&(O=l[0]),p>-1&&l.splice(p,1),O&&!this._dragDropRegistry.isDragging(O)){const N=O.getRootElement();N.parentElement.insertBefore(S,N),l.splice(a,0,s)}else f(this._element).appendChild(S),l.push(s);S.style.transform="",this._cacheItemPositions()}withItems(s){this._activeDraggables=s.slice(),this._cacheItemPositions()}withSortPredicate(s){this._sortPredicate=s}reset(){this._activeDraggables.forEach(s=>{const i=s.getRootElement();if(i){const r=this._itemPositions.find(o=>o.drag===s)?.initialTransform;i.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(s){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===s)}updateOnScroll(s,i){this._itemPositions.forEach(({clientRect:r})=>{ht(r,s,i)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}_cacheItemPositions(){const s="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(i=>{const r=i.getVisibleElement();return{drag:i,offset:0,initialTransform:r.style.transform||"",clientRect:Ti(r)}}).sort((i,r)=>s?i.clientRect.left-r.clientRect.left:i.clientRect.top-r.clientRect.top)}_getItemOffsetPx(s,i,r){const o="horizontal"===this.orientation;let a=o?i.left-s.left:i.top-s.top;return-1===r&&(a+=o?i.width-s.width:i.height-s.height),a}_getSiblingOffsetPx(s,i,r){const o="horizontal"===this.orientation,a=i[s].clientRect,l=i[s+-1*r];let p=a[o?"width":"height"]*r;if(l){const S=o?"left":"top",O=o?"right":"bottom";-1===r?p-=l.clientRect[S]-a[O]:p+=a[S]-l.clientRect[O]}return p}_shouldEnterAsFirstChild(s,i){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,o="horizontal"===this.orientation;if(r[0].drag!==this._activeDraggables[0]){const l=r[r.length-1].clientRect;return o?s>=l.right:i>=l.bottom}{const l=r[0].clientRect;return o?s<=l.left:i<=l.top}}_getItemIndexFromPointerPosition(s,i,r,o){const a="horizontal"===this.orientation,l=this._itemPositions.findIndex(({drag:p,clientRect:S})=>p!==s&&((!o||p!==this._previousSwap.drag||!this._previousSwap.overlaps||(a?o.x:o.y)!==this._previousSwap.delta)&&(a?i>=Math.floor(S.left)&&i<Math.floor(S.right):r>=Math.floor(S.top)&&r<Math.floor(S.bottom))));return-1!==l&&this._sortPredicate(l,s)?l:-1}}class Or{constructor(s,i,r,o,a){this._dragDropRegistry=i,this._ngZone=o,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new T.B,this.entered=new T.B,this.exited=new T.B,this.dropped=new T.B,this.sorted=new T.B,this.receivingStarted=new T.B,this.receivingStopped=new T.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=je.yU.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new T.B,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,fr.Y)(0,z).pipe((0,Pt.Q)(this._stopScrollTimers)).subscribe(()=>{const l=this._scrollNode,p=this.autoScrollStep;1===this._verticalScrollDirection?l.scrollBy(0,-p):2===this._verticalScrollDirection&&l.scrollBy(0,p),1===this._horizontalScrollDirection?l.scrollBy(-p,0):2===this._horizontalScrollDirection&&l.scrollBy(p,0)})},this.element=f(s),this._document=r,this.withScrollableParents([this.element]),i.registerDropContainer(this),this._parentPositions=new dn(r),this._sortStrategy=new Dr(this.element,i),this._sortStrategy.withSortPredicate((l,p)=>this.sortPredicate(l,p,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(s,i,r,o){this._draggingStarted(),null==o&&this.sortingDisabled&&(o=this._draggables.indexOf(s)),this._sortStrategy.enter(s,i,r,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:s,container:this,currentIndex:this.getItemIndex(s)})}exit(s){this._reset(),this.exited.next({item:s,container:this})}drop(s,i,r,o,a,l,p,S={}){this._reset(),this.dropped.next({item:s,currentIndex:i,previousIndex:r,container:this,previousContainer:o,isPointerOverContainer:a,distance:l,dropPoint:p,event:S})}withItems(s){const i=this._draggables;return this._draggables=s,s.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(i.filter(o=>o.isDragging()).every(o=>-1===s.indexOf(o))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(s){return this._sortStrategy.direction=s,this}connectedTo(s){return this._siblings=s.slice(),this}withOrientation(s){return this._sortStrategy.orientation=s,this}withScrollableParents(s){const i=f(this.element);return this._scrollableElements=-1===s.indexOf(i)?[i,...s]:s.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(s){return this._isDragging?this._sortStrategy.getItemIndex(s):this._draggables.indexOf(s)}isReceiving(){return this._activeSiblings.size>0}_sortItem(s,i,r,o){if(this.sortingDisabled||!this._clientRect||!cn(this._clientRect,.05,i,r))return;const a=this._sortStrategy.sort(s,i,r,o);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:s})}_startScrollingIfNecessary(s,i){if(this.autoScrollDisabled)return;let r,o=0,a=0;if(this._parentPositions.positions.forEach((l,p)=>{p===this._document||!l.clientRect||r||cn(l.clientRect,.05,s,i)&&([o,a]=function Mr(n,s,i,r){const o=Tn(s,r),a=In(s,i);let l=0,p=0;if(o){const S=n.scrollTop;1===o?S>0&&(l=1):n.scrollHeight-S>n.clientHeight&&(l=2)}if(a){const S=n.scrollLeft;1===a?S>0&&(p=1):n.scrollWidth-S>n.clientWidth&&(p=2)}return[l,p]}(p,l.clientRect,s,i),(o||a)&&(r=p))}),!o&&!a){const{width:l,height:p}=this._viewportRuler.getViewportSize(),S={width:l,height:p,top:0,right:l,bottom:p,left:0};o=Tn(S,i),a=In(S,s),r=window}r&&(o!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=a,this._scrollNode=r,(o||a)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const s=f(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=s.msScrollSnapType||s.scrollSnapType||"",s.scrollSnapType=s.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const s=f(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(s).clientRect}_reset(){this._isDragging=!1;const s=f(this.element).style;s.scrollSnapType=s.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(i=>i._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(s,i){return null!=this._clientRect&&Ii(this._clientRect,s,i)}_getSiblingContainerFromPosition(s,i,r){return this._siblings.find(o=>o._canReceive(s,i,r))}_canReceive(s,i,r){if(!this._clientRect||!Ii(this._clientRect,i,r)||!this.enterPredicate(s,this))return!1;const o=this._getShadowRoot().elementFromPoint(i,r);if(!o)return!1;const a=f(this.element);return o===a||a.contains(o)}_startReceiving(s,i){const r=this._activeSiblings;!r.has(s)&&i.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(r.add(s),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:s,receiver:this,items:i}))}_stopReceiving(s){this._activeSiblings.delete(s),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:s,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(s=>{if(this.isDragging()){const i=this._parentPositions.handleScroll(s);i&&this._sortStrategy.updateOnScroll(i.top,i.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const s=Ji(f(this.element));this._cachedShadowRoot=s||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const s=this._sortStrategy.getActiveItemsSnapshot().filter(i=>i.isDragging());this._siblings.forEach(i=>i._startReceiving(this,s))}}function Tn(n,s){const{top:i,bottom:r,height:o}=n,a=.05*o;return s>=i-a&&s<=i+a?1:s>=r-a&&s<=r+a?2:0}function In(n,s){const{left:i,right:r,width:o}=n,a=.05*o;return s>=i-a&&s<=i+a?1:s>=r-a&&s<=r+a?2:0}const Vt=mt({passive:!1,capture:!0});let Rr=(()=>{class n{constructor(i,r){this._ngZone=i,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new T.B,this.pointerUp=new T.B,this.scroll=new T.B,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=r}registerDropContainer(i){this._dropInstances.has(i)||this._dropInstances.add(i)}registerDragItem(i){this._dragInstances.add(i),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Vt)})}removeDropContainer(i){this._dropInstances.delete(i)}removeDragItem(i){this._dragInstances.delete(i),this.stopDragging(i),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Vt)}startDragging(i,r){if(!(this._activeDragInstances.indexOf(i)>-1)&&(this._activeDragInstances.push(i),1===this._activeDragInstances.length)){const o=r.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Vt}),o||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:Vt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,l)=>{this._document.addEventListener(l,a.handler,a.options)})})}}stopDragging(i){const r=this._activeDragInstances.indexOf(i);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(i){return this._activeDragInstances.indexOf(i)>-1}scrolled(i){const r=[this.scroll];return i&&i!==this._document&&r.push(new D.c(o=>this._ngZone.runOutsideAngular(()=>{const l=p=>{this._activeDragInstances.length&&o.next(p)};return i.addEventListener("scroll",l,!0),()=>{i.removeEventListener("scroll",l,!0)}}))),function gi(...n){const s=(0,rn.lI)(n),i=(0,rn.R0)(n,1/0),r=n;return r.length?1===r.length?(0,R.Tg)(r[0]):(0,gr.U)(i)((0,vr.H)(r,s)):br.w}(...r)}ngOnDestroy(){this._dragInstances.forEach(i=>this.removeDragItem(i)),this._dropInstances.forEach(i=>this.removeDropContainer(i)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((i,r)=>{this._document.removeEventListener(r,i.handler,i.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(t.KVO(t.SKi),t.KVO(h.qQ))};static#t=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const jr={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let xi=(()=>{class n{constructor(i,r,o,a){this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=a}createDrag(i,r=jr){return new kr(i,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(i){return new Or(i,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(r){return new(r||n)(t.KVO(h.qQ),t.KVO(t.SKi),t.KVO(Ao),t.KVO(Rr))};static#t=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Si=new t.nKC("CDK_DRAG_CONFIG");let Gt=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=t.$C({type:n});static#i=this.\u0275inj=t.G2t({providers:[xi],imports:[Lo]})}return n})();var L=_(5779),Je=_(461);let wn=(()=>{class n extends Je.h{static \u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(n)))(o||n)}})();static \u0275cmp=t.VBU({type:n,selectors:[["AngleDoubleDownIcon"]],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.70786 6.59831C6.80043 6.63674 6.89974 6.65629 6.99997 6.65581C7.19621 6.64081 7.37877 6.54953 7.50853 6.40153L11.0685 2.8416C11.1364 2.69925 11.1586 2.53932 11.132 2.38384C11.1053 2.22837 11.0311 2.08498 10.9195 1.97343C10.808 1.86188 10.6646 1.78766 10.5091 1.76099C10.3536 1.73431 10.1937 1.75649 10.0513 1.82448L6.99997 4.87585L3.9486 1.82448C3.80625 1.75649 3.64632 1.73431 3.49084 1.76099C3.33536 1.78766 3.19197 1.86188 3.08043 1.97343C2.96888 2.08498 2.89466 2.22837 2.86798 2.38384C2.84131 2.53932 2.86349 2.69925 2.93147 2.8416L6.46089 6.43205C6.53132 6.50336 6.61528 6.55989 6.70786 6.59831ZM6.70786 12.1925C6.80043 12.2309 6.89974 12.2505 6.99997 12.25C7.10241 12.2465 7.20306 12.2222 7.29575 12.1785C7.38845 12.1348 7.47124 12.0726 7.53905 11.9957L11.0685 8.46629C11.1614 8.32292 11.2036 8.15249 11.1881 7.98233C11.1727 7.81216 11.1005 7.6521 10.9833 7.52781C10.866 7.40353 10.7104 7.3222 10.5415 7.29688C10.3725 7.27155 10.1999 7.30369 10.0513 7.38814L6.99997 10.4395L3.9486 7.38814C3.80006 7.30369 3.62747 7.27155 3.45849 7.29688C3.28951 7.3222 3.13393 7.40353 3.01667 7.52781C2.89942 7.6521 2.82729 7.81216 2.81184 7.98233C2.79639 8.15249 2.83852 8.32292 2.93148 8.46629L6.4609 12.0262C6.53133 12.0975 6.61529 12.1541 6.70786 12.1925Z","fill","currentColor"]],template:function(r,o){1&r&&(t.qSk(),t.j41(0,"svg",0),t.nrm(1,"path",1),t.k0s()),2&r&&(t.HbH(o.getClassNames()),t.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return n})(),Sn=(()=>{class n extends Je.h{static \u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(n)))(o||n)}})();static \u0275cmp=t.VBU({type:n,selectors:[["AngleDoubleUpIcon"]],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M10.1504 6.67719C10.2417 6.71508 10.3396 6.73436 10.4385 6.73389C10.6338 6.74289 10.8249 6.67441 10.97 6.54334C11.1109 6.4023 11.19 6.21112 11.19 6.01178C11.19 5.81245 11.1109 5.62127 10.97 5.48023L7.45977 1.96998C7.31873 1.82912 7.12755 1.75 6.92821 1.75C6.72888 1.75 6.5377 1.82912 6.39666 1.96998L2.9165 5.45014C2.83353 5.58905 2.79755 5.751 2.81392 5.91196C2.83028 6.07293 2.89811 6.22433 3.00734 6.34369C3.11656 6.46306 3.26137 6.54402 3.42025 6.57456C3.57914 6.60511 3.74364 6.5836 3.88934 6.51325L6.89813 3.50446L9.90691 6.51325C9.97636 6.58357 10.0592 6.6393 10.1504 6.67719ZM9.93702 11.9993C10.065 12.1452 10.245 12.2352 10.4385 12.25C10.632 12.2352 10.812 12.1452 10.9399 11.9993C11.0633 11.8614 11.1315 11.6828 11.1315 11.4978C11.1315 11.3128 11.0633 11.1342 10.9399 10.9963L7.48987 7.48609C7.34883 7.34523 7.15765 7.26611 6.95832 7.26611C6.75899 7.26611 6.5678 7.34523 6.42677 7.48609L2.91652 10.9963C2.84948 11.1367 2.82761 11.2944 2.85391 11.4477C2.88022 11.601 2.9534 11.7424 3.06339 11.8524C3.17338 11.9624 3.31477 12.0356 3.46808 12.0619C3.62139 12.0882 3.77908 12.0663 3.91945 11.9993L6.92823 8.99048L9.93702 11.9993Z","fill","currentColor"]],template:function(r,o){1&r&&(t.qSk(),t.j41(0,"svg",0),t.nrm(1,"path",1),t.k0s()),2&r&&(t.HbH(o.getClassNames()),t.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return n})();var kn=_(8439),Fn=_(2080),rt=_(5998),J=_(563);let ds=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD,d.tm,L.Gg,J.Z,Gt,wn,Sn,Fn.Q,kn.R,rt.W,L.Gg,Gt]})}return n})();var ps=_(931),us=_(7734),_s=_(8196),ms=_(8263),hs=_(9455);const ka={zIndex:1200};let Fa=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({providers:[{provide:Si,useValue:ka}],imports:[h.MD,d.tm,L.Gg,J.Z,Gt,wn,ps.J,us.W,Sn,kn.R,_s.u,ms.D,Fn.Q,rt.W,hs.f,L.Gg,Gt]})}return n})();var Rn=_(4714),Da=_(8032),$=_.n(Da),V=_(9417),Q=_(1455),st=_(9335),Be=_(9071),at=_(8542),q=_(4420),Xe=_(3306),lt=_(2816),Pe=_(1512),ct=_(2423);const bt=n=>({height:n}),Oa=(n,s,i)=>({"p-multiselect-item":!0,"p-highlight":n,"p-disabled":s,"p-focus":i}),Ma=n=>({"p-highlight":n}),Fi=n=>({$implicit:n});function Ra(n,s){1&n&&t.nrm(0,"CheckIcon",7),2&n&&(t.Y8G("styleClass","p-checkbox-icon"),t.BMQ("aria-hidden",!0))}function ja(n,s){}function Pa(n,s){1&n&&t.DNE(0,ja,0,0,"ng-template")}function Aa(n,s){if(1&n&&(t.j41(0,"span",8),t.DNE(1,Pa,1,0,null,9),t.k0s()),2&n){const i=t.XpG(2);t.BMQ("aria-hidden",!0),t.R7$(),t.Y8G("ngTemplateOutlet",i.checkIconTemplate)}}function La(n,s){if(1&n&&(t.qex(0),t.DNE(1,Ra,1,2,"CheckIcon",5)(2,Aa,2,2,"span",6),t.bVm()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",!i.checkIconTemplate),t.R7$(),t.Y8G("ngIf",i.checkIconTemplate)}}function Ba(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){let i;const r=t.XpG();t.R7$(),t.JRh(null!==(i=r.label)&&void 0!==i?i:"empty")}}function Va(n,s){1&n&&t.eu8(0)}const Ga=["container"],Na=["overlay"],Ua=["filterInput"],$a=["focusInput"],Ha=["items"],Ka=["scroller"],Xa=["lastHiddenFocusableEl"],za=["firstHiddenFocusableEl"],Ya=["headerCheckbox"],Wa=[[["p-header"]],[["p-footer"]]],Qa=["p-header","p-footer"],qa=(n,s)=>({$implicit:n,removeChip:s}),jn=n=>({options:n}),Ja=n=>({"p-checkbox-disabled":n}),Za=(n,s,i)=>({"p-highlight":n,"p-focus":s,"p-disabled":i}),Pn=(n,s)=>({$implicit:n,options:s}),el=()=>({});function tl(n,s){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const i=t.XpG(2);t.R7$(),t.JRh(i.label()||"empty")}}function il(n,s){if(1&n){const i=t.RV6();t.j41(0,"TimesCircleIcon",30),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2).$implicit,a=t.XpG(3);return t.Njj(a.removeOption(o,a.event))}),t.k0s()}2&n&&(t.Y8G("styleClass","p-multiselect-token-icon"),t.BMQ("data-pc-section","clearicon")("aria-hidden",!0))}function nl(n,s){1&n&&t.eu8(0)}function ol(n,s){if(1&n){const i=t.RV6();t.j41(0,"span",31),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2).$implicit,a=t.XpG(3);return t.Njj(a.removeOption(o,a.event))}),t.DNE(1,nl,1,0,"ng-container",32),t.k0s()}if(2&n){const i=t.XpG(5);t.BMQ("data-pc-section","clearicon")("aria-hidden",!0),t.R7$(),t.Y8G("ngTemplateOutlet",i.removeTokenIconTemplate)}}function rl(n,s){if(1&n&&(t.qex(0),t.DNE(1,il,1,3,"TimesCircleIcon",28)(2,ol,2,3,"span",29),t.bVm()),2&n){const i=t.XpG(4);t.R7$(),t.Y8G("ngIf",!i.removeTokenIconTemplate),t.R7$(),t.Y8G("ngIf",i.removeTokenIconTemplate)}}function sl(n,s){if(1&n&&(t.j41(0,"div",26,3)(2,"span",27),t.EFF(3),t.k0s(),t.DNE(4,rl,3,2,"ng-container",19),t.k0s()),2&n){const i=s.$implicit,r=t.XpG(3);t.R7$(3),t.JRh(r.getLabelByValue(i)),t.R7$(),t.Y8G("ngIf",!r.disabled)}}function al(n,s){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const i=t.XpG(3);t.R7$(),t.JRh(i.placeholder||i.defaultLabel||"empty")}}function ll(n,s){if(1&n&&(t.qex(0),t.DNE(1,sl,5,2,"div",25)(2,al,2,1,"ng-container",19),t.bVm()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",i.chipSelectedItems()),t.R7$(),t.Y8G("ngIf",!i.modelValue()||0===i.modelValue().length)}}function cl(n,s){if(1&n&&(t.qex(0),t.DNE(1,tl,2,1,"ng-container",19)(2,ll,3,2,"ng-container",19),t.bVm()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf","comma"===i.display),t.R7$(),t.Y8G("ngIf","chip"===i.display)}}function dl(n,s){1&n&&t.eu8(0)}function pl(n,s){if(1&n){const i=t.RV6();t.j41(0,"TimesIcon",30),t.bIt("click",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.clear(o))}),t.k0s()}2&n&&(t.Y8G("styleClass","p-multiselect-clear-icon"),t.BMQ("data-pc-section","clearicon")("aria-hidden",!0))}function ul(n,s){}function _l(n,s){1&n&&t.DNE(0,ul,0,0,"ng-template")}function ml(n,s){if(1&n){const i=t.RV6();t.j41(0,"span",34),t.bIt("click",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.clear(o))}),t.DNE(1,_l,1,0,null,32),t.k0s()}if(2&n){const i=t.XpG(2);t.BMQ("data-pc-section","clearicon")("aria-hidden",!0),t.R7$(),t.Y8G("ngTemplateOutlet",i.clearIconTemplate)}}function hl(n,s){if(1&n&&(t.qex(0),t.DNE(1,pl,1,3,"TimesIcon",28)(2,ml,2,3,"span",33),t.bVm()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",!i.clearIconTemplate),t.R7$(),t.Y8G("ngIf",i.clearIconTemplate)}}function fl(n,s){if(1&n&&t.nrm(0,"span",37),2&n){const i=t.XpG(2);t.Y8G("ngClass",i.dropdownIcon),t.BMQ("data-pc-section","triggericon")("aria-hidden",!0)}}function gl(n,s){1&n&&t.nrm(0,"ChevronDownIcon",38),2&n&&(t.Y8G("styleClass","p-multiselect-trigger-icon"),t.BMQ("data-pc-section","triggericon")("aria-hidden",!0))}function bl(n,s){if(1&n&&(t.qex(0),t.DNE(1,fl,1,3,"span",35)(2,gl,1,3,"ChevronDownIcon",36),t.bVm()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",i.dropdownIcon),t.R7$(),t.Y8G("ngIf",!i.dropdownIcon)}}function vl(n,s){}function Cl(n,s){1&n&&t.DNE(0,vl,0,0,"ng-template")}function Tl(n,s){if(1&n&&(t.j41(0,"span",39),t.DNE(1,Cl,1,0,null,32),t.k0s()),2&n){const i=t.XpG();t.BMQ("data-pc-section","triggericon")("aria-hidden",!0),t.R7$(),t.Y8G("ngTemplateOutlet",i.dropdownIconTemplate)}}function Il(n,s){1&n&&t.eu8(0)}function yl(n,s){1&n&&t.eu8(0)}function xl(n,s){if(1&n&&(t.qex(0),t.DNE(1,yl,1,0,"ng-container",20),t.bVm()),2&n){const i=t.XpG(3);t.R7$(),t.Y8G("ngTemplateOutlet",i.filterTemplate)("ngTemplateOutletContext",t.eq3(2,jn,i.filterOptions))}}function El(n,s){1&n&&t.nrm(0,"CheckIcon",38),2&n&&(t.Y8G("styleClass","p-checkbox-icon"),t.BMQ("aria-hidden",!0))}function wl(n,s){}function Sl(n,s){1&n&&t.DNE(0,wl,0,0,"ng-template")}function kl(n,s){if(1&n&&(t.j41(0,"span",56),t.DNE(1,Sl,1,0,null,20),t.k0s()),2&n){const i=t.XpG(6);t.BMQ("aria-hidden",!0),t.R7$(),t.Y8G("ngTemplateOutlet",i.checkIconTemplate)("ngTemplateOutletContext",t.eq3(3,Fi,i.allSelected()))}}function Fl(n,s){if(1&n&&(t.qex(0),t.DNE(1,El,1,2,"CheckIcon",36)(2,kl,2,5,"span",55),t.bVm()),2&n){const i=t.XpG(5);t.R7$(),t.Y8G("ngIf",!i.checkIconTemplate),t.R7$(),t.Y8G("ngIf",i.checkIconTemplate)}}function Dl(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",52),t.bIt("click",function(o){t.eBV(i);const a=t.XpG(4);return t.Njj(a.onToggleAll(o))})("keydown",function(o){t.eBV(i);const a=t.XpG(4);return t.Njj(a.onHeaderCheckboxKeyDown(o))}),t.j41(1,"div",15)(2,"input",53,8),t.bIt("focus",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.onHeaderCheckboxFocus())})("blur",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.onHeaderCheckboxBlur())}),t.k0s()(),t.j41(4,"div",54),t.DNE(5,Fl,3,2,"ng-container",19),t.k0s()()}if(2&n){const i=t.XpG(4);t.Y8G("ngClass",t.eq3(9,Ja,i.disabled||i.toggleAllDisabled)),t.R7$(),t.BMQ("data-p-hidden-accessible",!0),t.R7$(),t.Y8G("readonly",i.readonly)("disabled",i.disabled||i.toggleAllDisabled),t.BMQ("checked",i.allSelected())("aria-label",i.toggleAllAriaLabel),t.R7$(2),t.Y8G("ngClass",t.sMw(11,Za,i.allSelected(),i.headerCheckboxFocus,i.disabled||i.toggleAllDisabled)),t.BMQ("aria-checked",i.allSelected()),t.R7$(),t.Y8G("ngIf",i.allSelected())}}function Ol(n,s){1&n&&t.nrm(0,"SearchIcon",38),2&n&&t.Y8G("styleClass","p-multiselect-filter-icon")}function Ml(n,s){}function Rl(n,s){1&n&&t.DNE(0,Ml,0,0,"ng-template")}function jl(n,s){if(1&n&&(t.j41(0,"span",60),t.DNE(1,Rl,1,0,null,32),t.k0s()),2&n){const i=t.XpG(5);t.R7$(),t.Y8G("ngTemplateOutlet",i.filterIconTemplate)}}function Pl(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",57)(1,"input",58,9),t.bIt("input",function(o){t.eBV(i);const a=t.XpG(4);return t.Njj(a.onFilterInputChange(o))})("keydown",function(o){t.eBV(i);const a=t.XpG(4);return t.Njj(a.onFilterKeyDown(o))})("click",function(o){t.eBV(i);const a=t.XpG(4);return t.Njj(a.onInputClick(o))})("blur",function(o){t.eBV(i);const a=t.XpG(4);return t.Njj(a.onFilterBlur(o))}),t.k0s(),t.DNE(3,Ol,1,1,"SearchIcon",36)(4,jl,2,1,"span",59),t.k0s()}if(2&n){const i=t.XpG(4);t.R7$(),t.Y8G("value",i._filterValue()||"")("disabled",i.disabled),t.BMQ("autocomplete",i.autocomplete)("placeholder",i.filterPlaceHolder)("aria-owns",i.id+"_list")("aria-activedescendant",i.focusedOptionId)("placeholder",i.filterPlaceHolder)("aria-label",i.ariaFilterLabel),t.R7$(2),t.Y8G("ngIf",!i.filterIconTemplate),t.R7$(),t.Y8G("ngIf",i.filterIconTemplate)}}function Al(n,s){1&n&&t.nrm(0,"TimesIcon",38),2&n&&t.Y8G("styleClass","p-multiselect-close-icon")}function Ll(n,s){}function Bl(n,s){1&n&&t.DNE(0,Ll,0,0,"ng-template")}function Vl(n,s){if(1&n&&(t.j41(0,"span",61),t.DNE(1,Bl,1,0,null,32),t.k0s()),2&n){const i=t.XpG(4);t.R7$(),t.Y8G("ngTemplateOutlet",i.closeIconTemplate)}}function Gl(n,s){if(1&n){const i=t.RV6();t.DNE(0,Dl,6,15,"div",48)(1,Pl,5,10,"div",49),t.j41(2,"button",50),t.bIt("click",function(o){t.eBV(i);const a=t.XpG(3);return t.Njj(a.close(o))}),t.DNE(3,Al,1,1,"TimesIcon",36)(4,Vl,2,1,"span",51),t.k0s()}if(2&n){const i=t.XpG(3);t.Y8G("ngIf",i.showToggleAll&&!i.selectionLimit),t.R7$(),t.Y8G("ngIf",i.filter),t.R7$(),t.BMQ("aria-label",i.closeAriaLabel),t.R7$(),t.Y8G("ngIf",!i.closeIconTemplate),t.R7$(),t.Y8G("ngIf",i.closeIconTemplate)}}function Nl(n,s){if(1&n&&(t.j41(0,"div",46),t.SdG(1),t.DNE(2,Il,1,0,"ng-container",32)(3,xl,2,4,"ng-container",47)(4,Gl,5,5,"ng-template",null,7,t.C5r),t.k0s()),2&n){const i=t.sdS(5),r=t.XpG(2);t.R7$(2),t.Y8G("ngTemplateOutlet",r.headerTemplate),t.R7$(),t.Y8G("ngIf",r.filterTemplate)("ngIfElse",i)}}function Ul(n,s){1&n&&t.eu8(0)}function $l(n,s){if(1&n&&t.DNE(0,Ul,1,0,"ng-container",20),2&n){const i=s.$implicit,r=s.options;t.XpG(2);const o=t.sdS(8);t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.l_i(2,Pn,i,r))}}function Hl(n,s){1&n&&t.eu8(0)}function Kl(n,s){if(1&n&&t.DNE(0,Hl,1,0,"ng-container",20),2&n){const i=s.options,r=t.XpG(4);t.Y8G("ngTemplateOutlet",r.loaderTemplate)("ngTemplateOutletContext",t.eq3(2,jn,i))}}function Xl(n,s){1&n&&(t.qex(0),t.DNE(1,Kl,1,4,"ng-template",63),t.bVm())}function zl(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-scroller",62,10),t.bIt("onLazyLoad",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.onLazyLoad.emit(o))}),t.DNE(2,$l,1,5,"ng-template",24)(3,Xl,2,0,"ng-container",19),t.k0s()}if(2&n){const i=t.XpG(2);t.Aen(t.eq3(9,bt,i.scrollHeight)),t.Y8G("items",i.visibleOptions())("itemSize",i.virtualScrollItemSize||i._itemSize)("autoSize",!0)("tabindex",-1)("lazy",i.lazy)("options",i.virtualScrollOptions),t.R7$(3),t.Y8G("ngIf",i.loaderTemplate)}}function Yl(n,s){1&n&&t.eu8(0)}function Wl(n,s){if(1&n&&(t.qex(0),t.DNE(1,Yl,1,0,"ng-container",20),t.bVm()),2&n){t.XpG();const i=t.sdS(8),r=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.l_i(3,Pn,r.visibleOptions(),t.lJ4(2,el)))}}function Ql(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const i=t.XpG(2).$implicit,r=t.XpG(3);t.R7$(),t.JRh(r.getOptionGroupLabel(i.optionGroup))}}function ql(n,s){1&n&&t.eu8(0)}function Jl(n,s){if(1&n&&(t.qex(0),t.j41(1,"li",67),t.DNE(2,Ql,2,1,"span",19)(3,ql,1,0,"ng-container",20),t.k0s(),t.bVm()),2&n){const i=t.XpG(),r=i.$implicit,o=i.index,a=t.XpG().options,l=t.XpG(2);t.R7$(),t.Y8G("ngStyle",t.eq3(5,bt,a.itemSize+"px")),t.BMQ("id",l.id+"_"+l.getOptionIndex(o,a)),t.R7$(),t.Y8G("ngIf",!l.groupTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",l.groupTemplate)("ngTemplateOutletContext",t.eq3(7,Fi,r.optionGroup))}}function Zl(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"p-multiSelectItem",68),t.bIt("onClick",function(o){t.eBV(i);const a=t.XpG().index,l=t.XpG().options,p=t.XpG(2);return t.Njj(p.onOptionSelect(o,!1,p.getOptionIndex(a,l)))})("onMouseEnter",function(o){t.eBV(i);const a=t.XpG().index,l=t.XpG().options,p=t.XpG(2);return t.Njj(p.onOptionMouseEnter(o,p.getOptionIndex(a,l)))}),t.k0s(),t.bVm()}if(2&n){const i=t.XpG(),r=i.$implicit,o=i.index,a=t.XpG().options,l=t.XpG(2);t.R7$(),t.Y8G("id",l.id+"_"+l.getOptionIndex(o,a))("option",r)("selected",l.isSelected(r))("label",l.getOptionLabel(r))("disabled",l.isOptionDisabled(r))("template",l.itemTemplate)("checkIconTemplate",l.checkIconTemplate)("itemSize",a.itemSize)("focused",l.focusedOptionIndex()===l.getOptionIndex(o,a))("ariaPosInset",l.getAriaPosInset(l.getOptionIndex(o,a)))("ariaSetSize",l.ariaSetSize)}}function ec(n,s){if(1&n&&t.DNE(0,Jl,4,9,"ng-container",19)(1,Zl,2,11,"ng-container",19),2&n){const i=s.$implicit,r=t.XpG(3);t.Y8G("ngIf",r.isOptionGroup(i)),t.R7$(),t.Y8G("ngIf",!r.isOptionGroup(i))}}function tc(n,s){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const i=t.XpG(4);t.R7$(),t.SpI(" ",i.emptyFilterMessageLabel," ")}}function ic(n,s){1&n&&t.eu8(0,null,12)}function nc(n,s){if(1&n&&(t.j41(0,"li",69),t.DNE(1,tc,2,1,"ng-container",47)(2,ic,2,0,"ng-container",32),t.k0s()),2&n){const i=t.XpG().options,r=t.XpG(2);t.Y8G("ngStyle",t.eq3(4,bt,i.itemSize+"px")),t.R7$(),t.Y8G("ngIf",!r.emptyFilterTemplate&&!r.emptyTemplate)("ngIfElse",r.emptyFilter),t.R7$(),t.Y8G("ngTemplateOutlet",r.emptyFilterTemplate||r.emptyTemplate)}}function oc(n,s){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const i=t.XpG(4);t.R7$(),t.SpI(" ",i.emptyMessageLabel," ")}}function rc(n,s){1&n&&t.eu8(0,null,13)}function sc(n,s){if(1&n&&(t.j41(0,"li",69),t.DNE(1,oc,2,1,"ng-container",47)(2,rc,2,0,"ng-container",32),t.k0s()),2&n){const i=t.XpG().options,r=t.XpG(2);t.Y8G("ngStyle",t.eq3(4,bt,i.itemSize+"px")),t.R7$(),t.Y8G("ngIf",!r.emptyTemplate)("ngIfElse",r.empty),t.R7$(),t.Y8G("ngTemplateOutlet",r.emptyTemplate)}}function ac(n,s){if(1&n&&(t.j41(0,"ul",64,11),t.DNE(2,ec,2,2,"ng-template",65)(3,nc,3,6,"li",66)(4,sc,3,6,"li",66),t.k0s()),2&n){const i=s.$implicit,r=s.options,o=t.XpG(2);t.Aen(r.contentStyle),t.Y8G("ngClass",r.contentStyleClass),t.R7$(2),t.Y8G("ngForOf",i),t.R7$(),t.Y8G("ngIf",o.hasFilter()&&o.isEmpty()),t.R7$(),t.Y8G("ngIf",!o.hasFilter()&&o.isEmpty())}}function lc(n,s){1&n&&t.eu8(0)}function cc(n,s){if(1&n&&(t.j41(0,"div",70),t.SdG(1,1),t.DNE(2,lc,1,0,"ng-container",32),t.k0s()),2&n){const i=t.XpG(2);t.R7$(2),t.Y8G("ngTemplateOutlet",i.footerTemplate)}}function dc(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",40)(1,"span",41,4),t.bIt("focus",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onFirstHiddenFocus(o))}),t.k0s(),t.DNE(3,Nl,6,3,"div",42),t.j41(4,"div",43),t.DNE(5,zl,4,11,"p-scroller",44)(6,Wl,2,6,"ng-container",19)(7,ac,5,6,"ng-template",null,5,t.C5r),t.k0s(),t.DNE(9,cc,3,1,"div",45),t.j41(10,"span",41,6),t.bIt("focus",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onLastHiddenFocus(o))}),t.k0s()()}if(2&n){const i=t.XpG();t.HbH(i.panelStyleClass),t.Y8G("ngClass","p-multiselect-panel p-component")("ngStyle",i.panelStyle),t.R7$(),t.BMQ("aria-hidden","true")("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),t.R7$(2),t.Y8G("ngIf",i.showHeader),t.R7$(),t.xc7("max-height",i.virtualScroll?"auto":i.scrollHeight||"auto"),t.R7$(),t.Y8G("ngIf",i.virtualScroll),t.R7$(),t.Y8G("ngIf",!i.virtualScroll),t.R7$(3),t.Y8G("ngIf",i.footerFacet||i.footerTemplate),t.R7$(),t.BMQ("aria-hidden",!0)("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}const pc={provide:V.kq,useExisting:(0,t.Rfq)(()=>Di),multi:!0};let uc=(()=>{class n{id;option;selected;label;disabled;itemSize;focused;ariaPosInset;ariaSetSize;template;checkIconTemplate;onClick=new t.bkB;onMouseEnter=new t.bkB;onOptionClick(i){this.onClick.emit({originalEvent:i,option:this.option,selected:this.selected}),i.stopPropagation()}onOptionMouseEnter(i){this.onMouseEnter.emit({originalEvent:i,option:this.option,selected:this.selected})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=t.VBU({type:n,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",focused:"focused",ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkIconTemplate:"checkIconTemplate"},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},decls:6,vars:26,consts:[["pRipple","",1,"p-multiselect-item",3,"click","mouseenter","ngStyle","ngClass","id"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"]],template:function(r,o){1&r&&(t.j41(0,"li",0),t.bIt("click",function(l){return o.onOptionClick(l)})("mouseenter",function(l){return o.onOptionMouseEnter(l)}),t.j41(1,"div",1)(2,"div",2),t.DNE(3,La,3,2,"ng-container",3),t.k0s()(),t.DNE(4,Ba,2,1,"span",3)(5,Va,1,0,"ng-container",4),t.k0s()),2&r&&(t.Y8G("ngStyle",t.eq3(16,bt,o.itemSize+"px"))("ngClass",t.sMw(18,Oa,o.selected,o.disabled,o.focused))("id",o.id),t.BMQ("aria-label",o.label)("aria-setsize",o.ariaSetSize)("aria-posinset",o.ariaPosInset)("aria-selected",o.selected)("data-p-focused",o.focused)("data-p-highlight",o.selected)("data-p-disabled",o.disabled),t.R7$(2),t.Y8G("ngClass",t.eq3(22,Ma,o.selected)),t.BMQ("aria-checked",o.selected),t.R7$(),t.Y8G("ngIf",o.selected),t.R7$(),t.Y8G("ngIf",!o.template),t.R7$(),t.Y8G("ngTemplateOutlet",o.template)("ngTemplateOutletContext",t.eq3(24,Fi,o.option)))},dependencies:()=>[h.YU,h.bT,h.T3,h.B3,J.n,Xe.S],encapsulation:2})}return n})(),Di=(()=>{class n{el;renderer;cd;zone;filterService;config;overlayService;id;ariaLabel;style;styleClass;panelStyle;panelStyleClass;inputId;disabled;readonly;group;filter=!0;filterPlaceHolder;filterLocale;overlayVisible;tabindex=0;appendTo;dataKey;name;ariaLabelledBy;set displaySelectedLabel(i){this._displaySelectedLabel=i}get displaySelectedLabel(){return this._displaySelectedLabel}set maxSelectedLabels(i){this._maxSelectedLabels=i}get maxSelectedLabels(){return this._maxSelectedLabels}selectionLimit;selectedItemsLabel="{0} items selected";showToggleAll=!0;emptyFilterMessage="";emptyMessage="";resetFilterOnHide=!1;dropdownIcon;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";showHeader=!0;filterBy;scrollHeight="200px";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;filterMatchMode="contains";tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;autofocusFilter=!0;display="comma";autocomplete="off";showClear=!1;get autoZIndex(){return this._autoZIndex}set autoZIndex(i){this._autoZIndex=i,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(i){this._baseZIndex=i,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(i){this._showTransitionOptions=i,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(i){this._hideTransitionOptions=i,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(i){this._defaultLabel=i,console.warn("defaultLabel property is deprecated since 16.6.0, use placeholder instead")}get defaultLabel(){return this._defaultLabel}set placeholder(i){this._placeholder=i}get placeholder(){return this._placeholder}get options(){return this._options()}set options(i){this._options.set(i)}get filterValue(){return this._filterValue()}set filterValue(i){this._filterValue.set(i)}get itemSize(){return this._itemSize}set itemSize(i){this._itemSize=i,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get selectAll(){return this._selectAll}set selectAll(i){this._selectAll=i}focusOnHover=!1;filterFields;selectOnFocus=!1;autoOptionFocus=!0;onChange=new t.bkB;onFilter=new t.bkB;onFocus=new t.bkB;onBlur=new t.bkB;onClick=new t.bkB;onClear=new t.bkB;onPanelShow=new t.bkB;onPanelHide=new t.bkB;onLazyLoad=new t.bkB;onRemove=new t.bkB;onSelectAllChange=new t.bkB;containerViewChild;overlayViewChild;filterInputChild;focusInputViewChild;itemsViewChild;scroller;lastHiddenFocusableElementOnOverlay;firstHiddenFocusableElementOnOverlay;headerCheckboxViewChild;footerFacet;headerFacet;templates;searchValue;searchTimeout;_selectAll=null;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_defaultLabel;_placeholder;_itemSize;_selectionLimit;value;_filteredOptions;onModelChange=()=>{};onModelTouched=()=>{};valuesAsString;focus;filtered;itemTemplate;groupTemplate;loaderTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;selectedItemsTemplate;checkIconTemplate;filterIconTemplate;removeTokenIconTemplate;closeIconTemplate;clearIconTemplate;dropdownIconTemplate;headerCheckboxFocus;filterOptions;preventModelTouched;preventDocumentDefault;focused=!1;itemsWrapper;_displaySelectedLabel=!0;_maxSelectedLabels=3;modelValue=(0,t.vPA)(null);_filterValue=(0,t.vPA)(null);_options=(0,t.vPA)(null);startRangeIndex=(0,t.vPA)(-1);focusedOptionIndex=(0,t.vPA)(-1);selectedOptions;get containerClass(){return{"p-multiselect p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-multiselect-clearable":this.showClear&&!this.disabled,"p-multiselect-chip":"chip"===this.display,"p-focus":this.focused}}get inputClass(){return{"p-multiselect-label p-inputtext":!0,"p-placeholder":(this.placeholder||this.defaultLabel)&&(this.label()===this.placeholder||this.label()===this.defaultLabel),"p-multiselect-label-empty":!this.selectedItemsTemplate&&("p-emptylabel"===this.label()||0===this.label().length)}}get panelClass(){return{"p-multiselect-panel p-component":!0,"p-input-filled":"filled"===this.config.inputStyle,"p-ripple-disabled":!1===this.config.ripple}}get labelClass(){return{"p-multiselect-label":!0,"p-placeholder":this.label()===this.placeholder||this.label()===this.defaultLabel,"p-multiselect-label-empty":!(this.placeholder||this.defaultLabel||this.modelValue()&&0!==this.modelValue().length)}}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(L.Yj.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(L.Yj.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.modelValue()?!!this.modelValue():q.BF.isNotEmpty(this.modelValue())}get isVisibleClearIcon(){return null!=this.modelValue()&&""!==this.modelValue()&&q.BF.isNotEmpty(this.modelValue())&&this.showClear&&!this.disabled&&this.filled}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}visibleOptions=(0,t.EWP)(()=>{const i=this.group?this.flatOptions(this.options):this.options||[];if(this._filterValue()){const r=this.filterService.filter(i,this.searchFields(),this._filterValue(),this.filterMatchMode,this.filterLocale);if(this.group){const a=[];return(this.options||[]).forEach(l=>{const S=this.getOptionGroupChildren(l).filter(O=>r.includes(O));S.length>0&&a.push({...l,["string"==typeof this.optionGroupChildren?this.optionGroupChildren:"items"]:[...S]})}),this.flatOptions(a)}return r}return i});label=(0,t.EWP)(()=>{let i;const r=this.modelValue();if(r&&r.length&&this.displaySelectedLabel){if(q.BF.isNotEmpty(this.maxSelectedLabels)&&r.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();i="";for(let o=0;o<r.length;o++)0!==o&&(i+=", "),i+=this.getLabelByValue(r[o])}else i=this.placeholder||this.defaultLabel||"";return i});chipSelectedItems=(0,t.EWP)(()=>q.BF.isNotEmpty(this.maxSelectedLabels)&&this.modelValue()&&this.modelValue().length>this.maxSelectedLabels?this.modelValue().slice(0,this.maxSelectedLabels):this.modelValue());constructor(i,r,o,a,l,p,S){this.el=i,this.renderer=r,this.cd=o,this.zone=a,this.filterService=l,this.config=p,this.overlayService=S,(0,t.QZP)(()=>{const O=this.modelValue(),N=this.visibleOptions();N&&q.BF.isNotEmpty(N)&&O&&(this.selectedOptions=this.optionValue&&this.optionLabel?N.filter(ne=>O.includes(ne[this.optionLabel])||O.includes(ne[this.optionValue])):[...O])})}ngOnInit(){this.id=this.id||(0,q._Y)(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:i=>this.onFilterInputChange(i),reset:()=>this.resetFilter()})}maxSelectionLimitReached(){return this.selectionLimit&&this.modelValue()&&this.modelValue().length===this.selectionLimit}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"item":default:this.itemTemplate=i.template;break;case"group":this.groupTemplate=i.template;break;case"selectedItems":this.selectedItemsTemplate=i.template;break;case"header":this.headerTemplate=i.template;break;case"filter":this.filterTemplate=i.template;break;case"emptyfilter":this.emptyFilterTemplate=i.template;break;case"empty":this.emptyTemplate=i.template;break;case"footer":this.footerTemplate=i.template;break;case"loader":this.loaderTemplate=i.template;break;case"checkicon":this.checkIconTemplate=i.template;break;case"filtericon":this.filterIconTemplate=i.template;break;case"removetokenicon":this.removeTokenIconTemplate=i.template;break;case"closeicon":this.closeIconTemplate=i.template;break;case"clearicon":this.clearIconTemplate=i.template;break;case"dropdownicon":this.dropdownIconTemplate=i.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}flatOptions(i){return(i||[]).reduce((r,o,a)=>{r.push({optionGroup:o,group:!0,index:a});const l=this.getOptionGroupChildren(o);return l&&l.forEach(p=>r.push(p)),r},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()){this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex());const i=this.getOptionValue(this.visibleOptions()[this.focusedOptionIndex()]);this.onOptionSelect({originalEvent:null,option:[i]})}}updateModel(i,r){this.value=i,this.onModelChange(i),this.modelValue.set(i)}onInputClick(i){i.stopPropagation(),i.preventDefault(),this.focusedOptionIndex.set(-1)}onOptionSelect(i,r=!1,o=-1){const{originalEvent:a,option:l}=i;if(this.disabled||this.isOptionDisabled(l))return;let S=null;S=this.isSelected(l)?this.modelValue().filter(O=>!q.BF.equals(O,this.getOptionValue(l),this.equalityKey())):[...this.modelValue()||[],this.getOptionValue(l)],this.updateModel(S,a),-1!==o&&this.focusedOptionIndex.set(o),r&&Q.D.focus(this.focusInputViewChild?.nativeElement),this.onChange.emit({originalEvent:i,value:S,itemValue:l})}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(i=>this.isValidSelectedOption(i)):-1}onOptionSelectRange(i,r=-1,o=-1){if(-1===r&&(r=this.findNearestSelectedOptionIndex(o,!0)),-1===o&&(o=this.findNearestSelectedOptionIndex(r)),-1!==r&&-1!==o){const a=Math.min(r,o),l=Math.max(r,o),p=this.visibleOptions().slice(a,l+1).filter(S=>this.isValidOption(S)).map(S=>this.getOptionValue(S));this.updateModel(p,i)}}searchFields(){return(this.filterBy||this.optionLabel||"label").split(",")}findNearestSelectedOptionIndex(i,r=!1){let o=-1;return this.hasSelectedOption()&&(r?(o=this.findPrevSelectedOptionIndex(i),o=-1===o?this.findNextSelectedOptionIndex(i):o):(o=this.findNextSelectedOptionIndex(i),o=-1===o?this.findPrevSelectedOptionIndex(i):o)),o>-1?o:i}findPrevSelectedOptionIndex(i){const r=this.hasSelectedOption()&&i>0?q.BF.findLastIndex(this.visibleOptions().slice(0,i),o=>this.isValidSelectedOption(o)):-1;return r>-1?r:-1}findFirstFocusedOptionIndex(){const i=this.findFirstSelectedOptionIndex();return i<0?this.findFirstOptionIndex():i}findFirstOptionIndex(){return this.visibleOptions().findIndex(i=>this.isValidOption(i))}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(i=>this.isValidSelectedOption(i)):-1}findNextSelectedOptionIndex(i){const r=this.hasSelectedOption()&&i<this.visibleOptions().length-1?this.visibleOptions().slice(i+1).findIndex(o=>this.isValidSelectedOption(o)):-1;return r>-1?r+i+1:-1}equalityKey(){return this.optionValue?null:this.dataKey}hasSelectedOption(){return q.BF.isNotEmpty(this.modelValue())}isValidSelectedOption(i){return this.isValidOption(i)&&this.isSelected(i)}isOptionGroup(i){return(this.group||this.optionGroupLabel)&&i.optionGroup&&i.group}isValidOption(i){return i&&!(this.isOptionDisabled(i)||this.isOptionGroup(i))}isOptionDisabled(i){return!(!this.maxSelectionLimitReached()||this.isSelected(i))||(this.optionDisabled?q.BF.resolveFieldData(i,this.optionDisabled):!(!i||void 0===i.disabled)&&i.disabled)}isSelected(i){const r=this.getOptionValue(i);return(this.modelValue()||[]).some(o=>q.BF.equals(o,r,this.equalityKey()))}isOptionMatched(i){return this.isValidOption(i)&&this.getOptionLabel(i).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}isEmpty(){return!this._options()||this.visibleOptions()&&0===this.visibleOptions().length}getOptionIndex(i,r){return this.virtualScrollerDisabled?i:r&&r.getItemOptions(i).index}getAriaPosInset(i){return(this.optionGroupLabel?i-this.visibleOptions().slice(0,i).filter(r=>this.isOptionGroup(r)).length:i)+1}get ariaSetSize(){return this.visibleOptions().filter(i=>!this.isOptionGroup(i)).length}getLabelByValue(i){const o=(this.group?this.flatOptions(this._options()):this._options()||[]).find(a=>!this.isOptionGroup(a)&&q.BF.equals(this.getOptionValue(a),i,this.equalityKey()));return o?this.getOptionLabel(o):null}getSelectedItemsLabel(){let i=/{(.*?)}/;return i.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(i)[0],this.modelValue().length+""):this.selectedItemsLabel}getOptionLabel(i){return this.optionLabel?q.BF.resolveFieldData(i,this.optionLabel):i&&null!=i.label?i.label:i}getOptionValue(i){return this.optionValue?q.BF.resolveFieldData(i,this.optionValue):!this.optionLabel&&i&&void 0!==i.value?i.value:i}getOptionGroupLabel(i){return this.optionGroupLabel?q.BF.resolveFieldData(i,this.optionGroupLabel):i&&null!=i.label?i.label:i}getOptionGroupChildren(i){return this.optionGroupChildren?q.BF.resolveFieldData(i,this.optionGroupChildren):i.items}onKeyDown(i){if(this.disabled)return void i.preventDefault();const r=i.metaKey||i.ctrlKey;switch(i.code){case"ArrowDown":this.onArrowDownKey(i);break;case"ArrowUp":this.onArrowUpKey(i);break;case"Home":this.onHomeKey(i);break;case"End":this.onEndKey(i);break;case"PageDown":this.onPageDownKey(i);break;case"PageUp":this.onPageUpKey(i);break;case"Enter":case"Space":this.onEnterKey(i);break;case"Escape":this.onEscapeKey(i);break;case"Tab":this.onTabKey(i);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if("KeyA"===i.code&&r){const o=this.visibleOptions().filter(a=>this.isValidOption(a)).map(a=>this.getOptionValue(a));this.updateModel(o,i),i.preventDefault();break}!r&&q.BF.isPrintableCharacter(i.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(i,i.key),i.preventDefault())}}onFilterKeyDown(i){switch(i.code){case"ArrowDown":this.onArrowDownKey(i);break;case"ArrowUp":this.onArrowUpKey(i,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(i,!0);break;case"Home":this.onHomeKey(i,!0);break;case"End":this.onEndKey(i,!0);break;case"Enter":this.onEnterKey(i);break;case"Escape":this.onEscapeKey(i);break;case"Tab":this.onTabKey(i,!0)}}onArrowLeftKey(i,r=!1){r&&this.focusedOptionIndex.set(-1)}onArrowDownKey(i){const r=-1!==this.focusedOptionIndex()?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();i.shiftKey&&this.onOptionSelectRange(i,this.startRangeIndex(),r),this.changeFocusedOptionIndex(i,r),!this.overlayVisible&&this.show(),i.preventDefault(),i.stopPropagation()}onArrowUpKey(i,r=!1){if(i.altKey&&!r)-1!==this.focusedOptionIndex()&&this.onOptionSelect(i,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),i.preventDefault();else{const o=-1!==this.focusedOptionIndex()?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();i.shiftKey&&this.onOptionSelectRange(i,o,this.startRangeIndex()),this.changeFocusedOptionIndex(i,o),!this.overlayVisible&&this.show(),i.preventDefault()}i.stopPropagation()}onHomeKey(i,r=!1){const{currentTarget:o}=i;if(r)o.setSelectionRange(0,i.shiftKey?o.value.length:0),this.focusedOptionIndex.set(-1);else{let a=i.metaKey||i.ctrlKey,l=this.findFirstOptionIndex();i.shiftKey&&a&&this.onOptionSelectRange(i,l,this.startRangeIndex()),this.changeFocusedOptionIndex(i,l),!this.overlayVisible&&this.show()}i.preventDefault()}onEndKey(i,r=!1){const{currentTarget:o}=i;if(r){const a=o.value.length;o.setSelectionRange(i.shiftKey?0:a,a),this.focusedOptionIndex.set(-1)}else{let a=i.metaKey||i.ctrlKey,l=this.findLastFocusedOptionIndex();i.shiftKey&&a&&this.onOptionSelectRange(i,this.startRangeIndex(),l),this.changeFocusedOptionIndex(i,l),!this.overlayVisible&&this.show()}i.preventDefault()}onPageDownKey(i){this.scrollInView(this.visibleOptions().length-1),i.preventDefault()}onPageUpKey(i){this.scrollInView(0),i.preventDefault()}onEnterKey(i){this.overlayVisible?-1!==this.focusedOptionIndex()&&(i.shiftKey?this.onOptionSelectRange(i,this.focusedOptionIndex()):this.onOptionSelect({originalEvent:i,option:this.visibleOptions()[this.focusedOptionIndex()]})):this.onArrowDownKey(i),i.preventDefault()}onEscapeKey(i){this.overlayVisible&&this.hide(!0),i.preventDefault()}onDeleteKey(i){this.showClear&&(this.clear(i),i.preventDefault())}onTabKey(i,r=!1){r||(this.overlayVisible&&this.hasFocusableElements()?(Q.D.focus(i.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),i.preventDefault()):(-1!==this.focusedOptionIndex()&&this.onOptionSelect({originalEvent:i,option:this.visibleOptions()[this.focusedOptionIndex()]}),this.overlayVisible&&this.hide(this.filter)))}onShiftKey(){this.startRangeIndex.set(this.focusedOptionIndex())}onContainerClick(i){if(!(this.disabled||this.readonly||i.target.isSameNode(this.focusInputViewChild?.nativeElement))){if("INPUT"===i.target.tagName||"clearicon"===i.target.getAttribute("data-pc-section")||i.target.closest('[data-pc-section="clearicon"]'))return void i.preventDefault();(!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(i.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),this.onClick.emit(i),this.cd.detectChanges()}}onFirstHiddenFocus(i){const r=i.relatedTarget===this.focusInputViewChild?.nativeElement?Q.D.getFirstFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;Q.D.focus(r)}onInputFocus(i){this.focused=!0;const r=-1!==this.focusedOptionIndex()?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit({originalEvent:i})}onInputBlur(i){this.focused=!1,this.onBlur.emit({originalEvent:i}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onFilterInputChange(i){let r=i.target.value?.trim();this._filterValue.set(r),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:i,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0)}onLastHiddenFocus(i){const r=i.relatedTarget===this.focusInputViewChild?.nativeElement?Q.D.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;Q.D.focus(r)}onOptionMouseEnter(i,r){this.focusOnHover&&this.changeFocusedOptionIndex(i,r)}onHeaderCheckboxKeyDown(i){if(this.disabled)i.preventDefault();else switch(i.code){case"Space":case"Enter":this.onToggleAll(i)}}onFilterBlur(i){this.focusedOptionIndex.set(-1)}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onToggleAll(i){if(!this.disabled&&!this.readonly){if(null!=this.selectAll)this.onSelectAllChange.emit({originalEvent:i,checked:!this.allSelected()});else{const r=this.allSelected()?[]:this.visibleOptions().filter(o=>this.isValidOption(o)).map(o=>this.getOptionValue(o));this.updateModel(r,i)}Q.D.focus(this.headerCheckboxViewChild.nativeElement),this.headerCheckboxFocus=!0,i.preventDefault(),i.stopPropagation()}}changeFocusedOptionIndex(i,r){this.focusedOptionIndex()!==r&&(this.focusedOptionIndex.set(r),this.scrollInView())}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(i=-1){if(this.itemsViewChild&&this.itemsViewChild.nativeElement){const o=Q.D.findSingle(this.itemsViewChild.nativeElement,`li[id="${-1!==i?`${this.id}_${i}`:this.focusedOptionId}"]`);o?o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(-1!==i?i:this.focusedOptionIndex())},0)}}get focusedOptionId(){return-1!==this.focusedOptionIndex()?`${this.id}_${this.focusedOptionIndex()}`:null}writeValue(i){this.value=i,this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}allSelected(){return null!==this.selectAll?this.selectAll:q.BF.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(i=>this.isOptionGroup(i)||this.isOptionDisabled(i)||this.isSelected(i))}show(i){this.overlayVisible=!0;const r=-1!==this.focusedOptionIndex()?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),i&&Q.D.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}hide(i){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter(),i&&Q.D.focus(this.focusInputViewChild?.nativeElement),this.onPanelHide.emit(),this.cd.markForCheck()}onOverlayAnimationStart(i){switch(i.toState){case"visible":if(this.itemsWrapper=Q.D.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-multiselect-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this._options()&&this._options().length)if(this.virtualScroll){const r=q.BF.isNotEmpty(this.modelValue())?this.focusedOptionIndex():-1;-1!==r&&this.scroller?.scrollToIndex(r)}else{let r=Q.D.findSingle(this.itemsWrapper,".p-multiselect-item.p-highlight");r&&r.scrollIntoView({block:"nearest",inline:"center"})}this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();case"void":this.itemsWrapper=null,this.onModelTouched()}}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue.set(null),this._filteredOptions=null}close(i){this.hide(),i.preventDefault(),i.stopPropagation()}clear(i){this.value=null,this.updateModel(null,i),this.selectedOptions=null,this.onClear.emit(),i.stopPropagation()}removeOption(i,r){let o=this.modelValue().filter(a=>!q.BF.equals(a,i,this.equalityKey()));this.updateModel(o,r),this.onChange.emit({originalEvent:r,value:o,itemValue:i}),r&&r.stopPropagation()}findNextItem(i){let r=i.nextElementSibling;return r?Q.D.hasClass(r.children[0],"p-disabled")||Q.D.isHidden(r.children[0])||Q.D.hasClass(r,"p-multiselect-item-group")?this.findNextItem(r):r.children[0]:null}findPrevItem(i){let r=i.previousElementSibling;return r?Q.D.hasClass(r.children[0],"p-disabled")||Q.D.isHidden(r.children[0])||Q.D.hasClass(r,"p-multiselect-item-group")?this.findPrevItem(r):r.children[0]:null}findNextOptionIndex(i){const r=i<this.visibleOptions().length-1?this.visibleOptions().slice(i+1).findIndex(o=>this.isValidOption(o)):-1;return r>-1?r+i+1:i}findPrevOptionIndex(i){const r=i>0?q.BF.findLastIndex(this.visibleOptions().slice(0,i),o=>this.isValidOption(o)):-1;return r>-1?r:i}findLastSelectedOptionIndex(){return this.hasSelectedOption()?q.BF.findLastIndex(this.visibleOptions(),i=>this.isValidSelectedOption(i)):-1}findLastFocusedOptionIndex(){const i=this.findLastSelectedOptionIndex();return i<0?this.findLastOptionIndex():i}findLastOptionIndex(){return q.BF.findLastIndex(this.visibleOptions(),i=>this.isValidOption(i))}searchOptions(i,r){this.searchValue=(this.searchValue||"")+r;let o=-1,a=!1;return-1!==this.focusedOptionIndex()?(o=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(l=>this.isOptionMatched(l)),o=-1===o?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(l=>this.isOptionMatched(l)):o+this.focusedOptionIndex()):o=this.visibleOptions().findIndex(l=>this.isOptionMatched(l)),-1!==o&&(a=!0),-1===o&&-1===this.focusedOptionIndex()&&(o=this.findFirstFocusedOptionIndex()),-1!==o&&this.changeFocusedOptionIndex(i,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let i=[];for(let r of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(r),this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&i.push({...r,[this.optionGroupChildren]:o})}this._filteredOptions=i}else this._filteredOptions=this.filterService.filter(this.options,this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);else this._filteredOptions=null}hasFocusableElements(){return Q.D.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}static \u0275fac=function(r){return new(r||n)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(L.E),t.rXU(L.r1),t.rXU(L.si))};static \u0275cmp=t.VBU({type:n,selectors:[["p-multiSelect"]],contentQueries:function(r,o,a){if(1&r&&(t.wni(a,L.wi,5),t.wni(a,L.Y9,5),t.wni(a,L.Ei,4)),2&r){let l;t.mGM(l=t.lsd())&&(o.footerFacet=l.first),t.mGM(l=t.lsd())&&(o.headerFacet=l.first),t.mGM(l=t.lsd())&&(o.templates=l)}},viewQuery:function(r,o){if(1&r&&(t.GBs(Ga,5),t.GBs(Na,5),t.GBs(Ua,5),t.GBs($a,5),t.GBs(Ha,5),t.GBs(Ka,5),t.GBs(Xa,5),t.GBs(za,5),t.GBs(Ya,5)),2&r){let a;t.mGM(a=t.lsd())&&(o.containerViewChild=a.first),t.mGM(a=t.lsd())&&(o.overlayViewChild=a.first),t.mGM(a=t.lsd())&&(o.filterInputChild=a.first),t.mGM(a=t.lsd())&&(o.focusInputViewChild=a.first),t.mGM(a=t.lsd())&&(o.itemsViewChild=a.first),t.mGM(a=t.lsd())&&(o.scroller=a.first),t.mGM(a=t.lsd())&&(o.lastHiddenFocusableElementOnOverlay=a.first),t.mGM(a=t.lsd())&&(o.firstHiddenFocusableElementOnOverlay=a.first),t.mGM(a=t.lsd())&&(o.headerCheckboxViewChild=a.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(r,o){2&r&&t.AVh("p-inputwrapper-focus",o.focused||o.overlayVisible)("p-inputwrapper-filled",o.filled)},inputs:{id:"id",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:"selectionLimit",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize",selectAll:"selectAll",focusOnHover:"focusOnHover",filterFields:"filterFields",selectOnFocus:"selectOnFocus",autoOptionFocus:"autoOptionFocus"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove",onSelectAllChange:"onSelectAllChange"},features:[t.Jv_([pc])],ngContentSelectors:Qa,decls:16,vars:41,consts:[["container",""],["focusInput",""],["overlay",""],["token",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["headerCheckbox",""],["filterInput",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["role","combobox",3,"focus","blur","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-multiselect-trigger"],["class","p-multiselect-trigger-icon",4,"ngIf"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],[1,"p-multiselect-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-multiselect-token-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-multiselect-token-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-multiselect-clear-icon",3,"click",4,"ngIf"],[1,"p-multiselect-clear-icon",3,"click"],["class","p-multiselect-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-multiselect-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngIf","ngIfElse"],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link","p-button-icon-only",3,"click"],["class","p-multiselect-close-icon",4,"ngIf"],[1,"p-checkbox","p-component",3,"click","keydown","ngClass"],["type","checkbox",3,"focus","blur","readonly","disabled"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],["class","p-checkbox-icon",4,"ngIf"],[1,"p-checkbox-icon"],[1,"p-multiselect-filter-container"],["type","text","role","searchbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"input","keydown","click","blur","value","disabled"],["class","p-multiselect-filter-icon",4,"ngIf"],[1,"p-multiselect-filter-icon"],[1,"p-multiselect-close-icon"],[3,"onLazyLoad","items","itemSize","autoSize","tabindex","lazy","options"],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-multiselect-empty-message",3,"ngStyle",4,"ngIf"],["role","option",1,"p-multiselect-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","selected","label","disabled","template","checkIconTemplate","itemSize","focused","ariaPosInset","ariaSetSize"],[1,"p-multiselect-empty-message",3,"ngStyle"],[1,"p-multiselect-footer"]],template:function(r,o){if(1&r){const a=t.RV6();t.NAR(Wa),t.j41(0,"div",14,0),t.bIt("click",function(p){return t.eBV(a),t.Njj(o.onContainerClick(p))}),t.j41(2,"div",15)(3,"input",16,1),t.bIt("focus",function(p){return t.eBV(a),t.Njj(o.onInputFocus(p))})("blur",function(p){return t.eBV(a),t.Njj(o.onInputBlur(p))})("keydown",function(p){return t.eBV(a),t.Njj(o.onKeyDown(p))}),t.k0s()(),t.j41(5,"div",17)(6,"div",18),t.DNE(7,cl,3,2,"ng-container",19)(8,dl,1,0,"ng-container",20),t.k0s(),t.DNE(9,hl,3,2,"ng-container",19),t.k0s(),t.j41(10,"div",21),t.DNE(11,bl,3,2,"ng-container",19)(12,Tl,2,3,"span",22),t.k0s(),t.j41(13,"p-overlay",23,2),t.mxI("visibleChange",function(p){return t.eBV(a),t.DH7(o.overlayVisible,p)||(o.overlayVisible=p),t.Njj(p)}),t.bIt("onAnimationStart",function(p){return t.eBV(a),t.Njj(o.onOverlayAnimationStart(p))})("onHide",function(){return t.eBV(a),t.Njj(o.hide())}),t.DNE(15,dc,12,18,"ng-template",24),t.k0s()()}2&r&&(t.HbH(o.styleClass),t.Y8G("ngClass",o.containerClass)("ngStyle",o.style),t.BMQ("id",o.id),t.R7$(2),t.BMQ("data-p-hidden-accessible",!0),t.R7$(),t.Y8G("pTooltip",o.tooltip)("tooltipPosition",o.tooltipPosition)("positionStyle",o.tooltipPositionStyle)("tooltipStyleClass",o.tooltipStyleClass),t.BMQ("aria-disabled",o.disabled)("id",o.inputId)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",o.overlayVisible)("aria-controls",o.id+"_list")("tabindex",o.disabled?-1:o.tabindex)("aria-activedescendant",o.focused?o.focusedOptionId:void 0),t.R7$(2),t.Y8G("pTooltip",o.tooltip)("tooltipPosition",o.tooltipPosition)("positionStyle",o.tooltipPositionStyle)("tooltipStyleClass",o.tooltipStyleClass),t.R7$(),t.Y8G("ngClass",o.labelClass),t.R7$(),t.Y8G("ngIf",!o.selectedItemsTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",o.selectedItemsTemplate)("ngTemplateOutletContext",t.l_i(38,qa,o.selectedOptions,o.removeOption.bind(o))),t.R7$(),t.Y8G("ngIf",o.isVisibleClearIcon),t.R7$(2),t.Y8G("ngIf",!o.dropdownIconTemplate),t.R7$(),t.Y8G("ngIf",o.dropdownIconTemplate),t.R7$(),t.R50("visible",o.overlayVisible),t.Y8G("options",o.overlayOptions)("target","@parent")("appendTo",o.appendTo)("autoZIndex",o.autoZIndex)("baseZIndex",o.baseZIndex)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions))},dependencies:()=>[h.YU,h.Sq,h.bT,h.T3,h.B3,st.hJ,L.Ei,at.m,J.n,Be.H,Xe.S,rt.W,lt.I,Pe.A,ct.D,uc],styles:["@layer primeng{.p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer;display:flex}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-token-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100px}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}}\n"],encapsulation:2,changeDetection:0})}return n})(),Ze=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD,st.z_,L.Gg,at.S,J.Z,Be.h,Xe.S,rt.W,lt.I,Pe.A,ct.D,Xe.S,st.z_,L.Gg,Be.h]})}return n})();const _c=(n,s)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":n,"p-progressbar-indeterminate":s}),mc=n=>({$implicit:n});function hc(n,s){if(1&n&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&n){const i=t.XpG(2);t.xc7("display",null!=i.value&&0!==i.value?"flex":"none"),t.BMQ("data-pc-section","label"),t.R7$(),t.Lme("",i.value,"",i.unit,"")}}function fc(n,s){1&n&&t.eu8(0)}function gc(n,s){if(1&n&&(t.j41(0,"div",3)(1,"div",4),t.DNE(2,hc,2,5,"div",5)(3,fc,1,0,"ng-container",6),t.k0s()()),2&n){const i=t.XpG();t.xc7("width",i.value+"%")("background",i.color),t.BMQ("data-pc-section","value"),t.R7$(2),t.Y8G("ngIf",i.showValue&&!i.contentTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",i.contentTemplate)("ngTemplateOutletContext",t.eq3(8,mc,i.value))}}function bc(n,s){if(1&n&&(t.j41(0,"div",7),t.nrm(1,"div",8),t.k0s()),2&n){const i=t.XpG();t.BMQ("data-pc-section","container"),t.R7$(),t.xc7("background",i.color),t.BMQ("data-pc-section","value")}}let vc=(()=>{class n{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(i=>{i.getType(),this.contentTemplate=i.template})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=t.VBU({type:n,selectors:[["p-progressBar"]],contentQueries:function(r,o,a){if(1&r&&t.wni(a,L.Ei,4),2&r){let l;t.mGM(l=t.lsd())&&(o.templates=l)}},hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width","background",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],[1,"p-progressbar-label"],[3,"display",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(r,o){1&r&&(t.j41(0,"div",0),t.DNE(1,gc,4,10,"div",1)(2,bc,2,4,"div",2),t.k0s()),2&r&&(t.HbH(o.styleClass),t.Y8G("ngStyle",o.style)("ngClass",t.l_i(11,_c,"determinate"===o.mode,"indeterminate"===o.mode)),t.BMQ("aria-valuemin",0)("aria-valuenow",o.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),t.R7$(),t.Y8G("ngIf","determinate"===o.mode),t.R7$(),t.Y8G("ngIf","indeterminate"===o.mode))},dependencies:[h.YU,h.bT,h.T3,h.B3],styles:['@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0})}return n})(),Nt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD]})}return n})();const Cc=["sliderHandle"],Tc=["sliderHandleStart"],Ic=["sliderHandleEnd"],yc=(n,s,i,r)=>({"p-slider p-component":!0,"p-disabled":n,"p-slider-horizontal":s,"p-slider-vertical":i,"p-slider-animate":r}),xc=(n,s)=>({left:n,width:s}),Ec=(n,s)=>({bottom:n,height:s}),wc=n=>({height:n}),Sc=n=>({width:n}),Oi=(n,s)=>({left:n,bottom:s}),An=n=>({"p-slider-handle-active":n});function kc(n,s){if(1&n&&t.nrm(0,"span",8),2&n){const i=t.XpG();t.Y8G("ngStyle",t.l_i(2,xc,null!=i.offset?i.offset+"%":i.handleValues[0]+"%",i.diff?i.diff+"%":i.handleValues[1]-i.handleValues[0]+"%")),t.BMQ("data-pc-section","range")}}function Fc(n,s){if(1&n&&t.nrm(0,"span",8),2&n){const i=t.XpG();t.Y8G("ngStyle",t.l_i(2,Ec,null!=i.offset?i.offset+"%":i.handleValues[0]+"%",i.diff?i.diff+"%":i.handleValues[1]-i.handleValues[0]+"%")),t.BMQ("data-pc-section","range")}}function Dc(n,s){if(1&n&&t.nrm(0,"span",8),2&n){const i=t.XpG();t.Y8G("ngStyle",t.eq3(2,wc,i.handleValue+"%")),t.BMQ("data-pc-section","range")}}function Oc(n,s){if(1&n&&t.nrm(0,"span",8),2&n){const i=t.XpG();t.Y8G("ngStyle",t.eq3(2,Sc,i.handleValue+"%")),t.BMQ("data-pc-section","range")}}function Mc(n,s){if(1&n){const i=t.RV6();t.j41(0,"span",9,0),t.bIt("touchstart",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onDragStart(o))})("touchmove",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onDrag(o))})("touchend",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onDragEnd(o))})("mousedown",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onMouseDown(o))})("keydown",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onKeyDown(o))}),t.k0s()}if(2&n){const i=t.XpG();t.xc7("transition",i.dragging?"none":null),t.Y8G("ngStyle",t.l_i(11,Oi,"horizontal"==i.orientation?i.handleValue+"%":null,"vertical"==i.orientation?i.handleValue+"%":null)),t.BMQ("tabindex",i.disabled?null:i.tabindex)("aria-valuemin",i.min)("aria-valuenow",i.value)("aria-valuemax",i.max)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("aria-orientation",i.orientation)("data-pc-section","handle")}}function Rc(n,s){if(1&n){const i=t.RV6();t.j41(0,"span",10,1),t.bIt("keydown",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onKeyDown(o,0))})("mousedown",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onMouseDown(o,0))})("touchstart",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onDragStart(o,0))})("touchmove",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onDrag(o,0))})("touchend",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onDragEnd(o))}),t.k0s()}if(2&n){const i=t.XpG();t.xc7("transition",i.dragging?"none":null),t.Y8G("ngStyle",t.l_i(12,Oi,i.rangeStartLeft,i.rangeStartBottom))("ngClass",t.eq3(15,An,0==i.handleIndex)),t.BMQ("tabindex",i.disabled?null:i.tabindex)("aria-valuemin",i.min)("aria-valuenow",i.value?i.value[0]:null)("aria-valuemax",i.max)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("aria-orientation",i.orientation)("data-pc-section","startHandler")}}function jc(n,s){if(1&n){const i=t.RV6();t.j41(0,"span",11,2),t.bIt("keydown",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onKeyDown(o,1))})("mousedown",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onMouseDown(o,1))})("touchstart",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onDragStart(o,1))})("touchmove",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onDrag(o,1))})("touchend",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onDragEnd(o))}),t.k0s()}if(2&n){const i=t.XpG();t.xc7("transition",i.dragging?"none":null),t.Y8G("ngStyle",t.l_i(12,Oi,i.rangeEndLeft,i.rangeEndBottom))("ngClass",t.eq3(15,An,1==i.handleIndex)),t.BMQ("tabindex",i.disabled?null:i.tabindex)("aria-valuemin",i.min)("aria-valuenow",i.value?i.value[1]:null)("aria-valuemax",i.max)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("aria-orientation",i.orientation)("data-pc-section","endHandler")}}const Pc={provide:V.kq,useExisting:(0,t.Rfq)(()=>Mi),multi:!0};let Mi=(()=>{class n{document;platformId;el;renderer;ngZone;cd;animate;disabled;min=0;max=100;orientation="horizontal";step;range;style;styleClass;ariaLabel;ariaLabelledBy;tabindex=0;onChange=new t.bkB;onSlideEnd=new t.bkB;sliderHandle;sliderHandleStart;sliderHandleEnd;value;values;handleValue;handleValues=[];diff;offset;bottom;onModelChange=()=>{};onModelTouched=()=>{};dragging;dragListener;mouseupListener;initX;initY;barWidth;barHeight;sliderHandleClick;handleIndex=0;startHandleValue;startx;starty;constructor(i,r,o,a,l,p){this.document=i,this.platformId=r,this.el=o,this.renderer=a,this.ngZone=l,this.cd=p}onMouseDown(i,r){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:r,this.bindDragListeners(),i.target.focus(),i.preventDefault(),this.animate&&Q.D.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onDragStart(i,r){if(!this.disabled){var o=i.changedTouches[0];this.startHandleValue=this.range?this.handleValues[r]:this.handleValue,this.dragging=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:r,"horizontal"===this.orientation?(this.startx=parseInt(o.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(o.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&Q.D.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),i.preventDefault()}}onDrag(i){if(!this.disabled){var o,r=i.changedTouches[0];o="horizontal"===this.orientation?Math.floor(100*(parseInt(r.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(r.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(i,o),i.preventDefault()}}onDragEnd(i){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:i,values:this.values}:{originalEvent:i,value:this.value}),this.animate&&Q.D.addClass(this.el.nativeElement.children[0],"p-slider-animate"),i.preventDefault())}onBarClick(i){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(i),this.onSlideEnd.emit(this.range?{originalEvent:i,values:this.values}:{originalEvent:i,value:this.value})),this.sliderHandleClick=!1)}onKeyDown(i,r){switch(this.handleIndex=r,i.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(i,r),i.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(i,r),i.preventDefault();break;case"PageDown":this.decrementValue(i,r,!0),i.preventDefault();break;case"PageUp":this.incrementValue(i,r,!0),i.preventDefault();break;case"Home":this.updateValue(this.min,i),i.preventDefault();break;case"End":this.updateValue(this.max,i),i.preventDefault()}}decrementValue(i,r,o=!1){let a;a=this.range?this.step?this.values[r]-this.step:this.values[r]-1:this.step?this.value-this.step:!this.step&&o?this.value-10:this.value-1,this.updateValue(a,i),i.preventDefault()}incrementValue(i,r,o=!1){let a;a=this.range?this.step?this.values[r]+this.step:this.values[r]+1:this.step?this.value+this.step:!this.step&&o?this.value+10:this.value+1,this.updateValue(a,i),i.preventDefault()}handleChange(i){let r=this.calculateHandleValue(i);this.setValueFromHandle(i,r)}bindDragListeners(){(0,h.UE)(this.platformId)&&this.ngZone.runOutsideAngular(()=>{const i=this.el?this.el.nativeElement.ownerDocument:this.document;this.dragListener||(this.dragListener=this.renderer.listen(i,"mousemove",r=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(r)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(i,"mouseup",r=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:r,values:this.values}:{originalEvent:r,value:this.value}),this.animate&&Q.D.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&(this.dragListener(),this.dragListener=null),this.mouseupListener&&(this.mouseupListener(),this.mouseupListener=null)}setValueFromHandle(i,r){let o=this.getValueFromHandle(r);this.range?this.step?this.handleStepChange(o,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=r,this.updateValue(o,i)):this.step?this.handleStepChange(o,this.value):(this.handleValue=r,this.updateValue(o,i)),this.cd.markForCheck()}handleStepChange(i,r){let o=i-r,a=r,l=this.step;o<0?a=r+Math.ceil(i/l-r/l)*l:o>0&&(a=r+Math.floor(i/l-r/l)*l),this.updateValue(a),this.updateHandleValue()}writeValue(i){this.range?this.values=i||[0,0]:this.value=i||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let i=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=i.left+Q.D.getWindowScrollLeft(),this.initY=i.top+Q.D.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(i){return"horizontal"===this.orientation?100*(i.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-i.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(i,r){if(this.range){let o=i;0==this.handleIndex?(o<this.min?(o=this.min,this.handleValues[0]=0):o>this.values[1]&&o>this.max&&(o=this.max,this.handleValues[0]=100),this.sliderHandleStart?.nativeElement.focus()):(o>this.max?(o=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):o<this.min?(o=this.min,this.handleValues[1]=0):o<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd?.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(o),this.onModelChange([this.minVal,this.maxVal]),this.onChange.emit({event:r,values:this.values})}else i<this.min?(i=this.min,this.handleValue=0):i>this.max&&(i=this.max,this.handleValue=100),this.value=this.getNormalizedValue(i),this.onModelChange(this.value),this.onChange.emit({event:r,value:this.value}),this.sliderHandle?.nativeElement.focus();this.updateHandleValue()}getValueFromHandle(i){return i/100*(this.max-this.min)+this.min}getDecimalsCount(i){return i&&Math.floor(i)!==i&&i.toString().split(".")[1].length||0}getNormalizedValue(i){let r=this.getDecimalsCount(this.step);return r>0?+parseFloat(i.toString()).toFixed(r):Math.floor(i)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}static \u0275fac=function(r){return new(r||n)(t.rXU(h.qQ),t.rXU(t.Agw),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:n,selectors:[["p-slider"]],viewQuery:function(r,o){if(1&r&&(t.GBs(Cc,5),t.GBs(Tc,5),t.GBs(Ic,5)),2&r){let a;t.mGM(a=t.lsd())&&(o.sliderHandle=a.first),t.mGM(a=t.lsd())&&(o.sliderHandleStart=a.first),t.mGM(a=t.lsd())&&(o.sliderHandleEnd=a.first)}},hostAttrs:[1,"p-element"],inputs:{animate:"animate",disabled:"disabled",min:"min",max:"max",orientation:"orientation",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[t.Jv_([Pc])],decls:8,vars:18,consts:[["sliderHandle",""],["sliderHandleStart",""],["sliderHandleEnd",""],[3,"click","ngStyle","ngClass"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle","role","slider",3,"transition","ngStyle","touchstart","touchmove","touchend","mousedown","keydown",4,"ngIf"],["class","p-slider-handle","role","slider",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],["role","slider",1,"p-slider-handle",3,"touchstart","touchmove","touchend","mousedown","keydown","ngStyle"],["role","slider",1,"p-slider-handle",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","ngClass"],[1,"p-slider-handle",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","ngClass"]],template:function(r,o){1&r&&(t.j41(0,"div",3),t.bIt("click",function(l){return o.onBarClick(l)}),t.DNE(1,kc,1,5,"span",4)(2,Fc,1,5,"span",4)(3,Dc,1,4,"span",4)(4,Oc,1,4,"span",4)(5,Mc,2,14,"span",5)(6,Rc,2,17,"span",6)(7,jc,2,17,"span",7),t.k0s()),2&r&&(t.HbH(o.styleClass),t.Y8G("ngStyle",o.style)("ngClass",t.ziG(13,yc,o.disabled,"horizontal"==o.orientation,"vertical"==o.orientation,o.animate)),t.BMQ("data-pc-name","slider")("data-pc-section","root"),t.R7$(),t.Y8G("ngIf",o.range&&"horizontal"==o.orientation),t.R7$(),t.Y8G("ngIf",o.range&&"vertical"==o.orientation),t.R7$(),t.Y8G("ngIf",!o.range&&"vertical"==o.orientation),t.R7$(),t.Y8G("ngIf",!o.range&&"horizontal"==o.orientation),t.R7$(),t.Y8G("ngIf",!o.range),t.R7$(),t.Y8G("ngIf",o.range),t.R7$(),t.Y8G("ngIf",o.range))},dependencies:[h.YU,h.bT,h.B3],styles:["@layer primeng{.p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}}\n"],encapsulation:2,changeDetection:0})}return n})(),vt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD]})}return n})();var H=_(3811),de=_(9998),xe=_(1830),ie=_(1626),Ut=_(6018);let Ln=(()=>{class n extends Je.h{pathId;ngOnInit(){this.pathId="url(#"+(0,q._Y)()+")"}static \u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(n)))(o||n)}})();static \u0275cmp=t.VBU({type:n,selectors:[["UploadIcon"]],standalone:!0,features:[t.Vt3,t.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,o){1&r&&(t.qSk(),t.j41(0,"svg",0)(1,"g"),t.nrm(2,"path",1),t.k0s(),t.j41(3,"defs")(4,"clipPath",2),t.nrm(5,"rect",3),t.k0s()()()),2&r&&(t.HbH(o.getClassNames()),t.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),t.R7$(),t.BMQ("clip-path",o.pathId),t.R7$(3),t.Y8G("id",o.pathId))},encapsulation:2})}return n})();var ge=_(9969),Bn=_(9329),Vn=_(1962);const Ac=(n,s)=>({showTransitionParams:n,hideTransitionParams:s}),Lc=n=>({value:"visible",params:n});function Bc(n,s){if(1&n&&t.nrm(0,"span"),2&n){const i=t.XpG().$implicit;t.HbH("p-message-icon pi "+i.icon),t.BMQ("data-pc-section","icon")}}function Vc(n,s){1&n&&t.nrm(0,"CheckIcon"),2&n&&t.BMQ("data-pc-section","icon")}function Gc(n,s){1&n&&t.nrm(0,"InfoCircleIcon"),2&n&&t.BMQ("data-pc-section","icon")}function Nc(n,s){1&n&&t.nrm(0,"TimesCircleIcon"),2&n&&t.BMQ("data-pc-section","icon")}function Uc(n,s){1&n&&t.nrm(0,"ExclamationTriangleIcon"),2&n&&t.BMQ("data-pc-section","icon")}function $c(n,s){if(1&n&&(t.j41(0,"span",10),t.qex(1),t.DNE(2,Vc,1,1,"CheckIcon",11)(3,Gc,1,1,"InfoCircleIcon",11)(4,Nc,1,1,"TimesCircleIcon",11)(5,Uc,1,1,"ExclamationTriangleIcon",11),t.bVm(),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.Y8G("ngIf","success"===i.severity),t.R7$(),t.Y8G("ngIf","info"===i.severity),t.R7$(),t.Y8G("ngIf","error"===i.severity),t.R7$(),t.Y8G("ngIf","warn"===i.severity)}}function Hc(n,s){if(1&n&&t.nrm(0,"span",14),2&n){const i=t.XpG(2).$implicit;t.Y8G("innerHTML",i.summary,t.npT),t.BMQ("data-pc-section","summary")}}function Kc(n,s){if(1&n&&t.nrm(0,"span",15),2&n){const i=t.XpG(2).$implicit;t.Y8G("innerHTML",i.detail,t.npT),t.BMQ("data-pc-section","detail")}}function Xc(n,s){if(1&n&&(t.qex(0),t.DNE(1,Hc,1,2,"span",12)(2,Kc,1,2,"span",13),t.bVm()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",i.summary),t.R7$(),t.Y8G("ngIf",i.detail)}}function zc(n,s){if(1&n&&(t.j41(0,"span",18),t.EFF(1),t.k0s()),2&n){const i=t.XpG(2).$implicit;t.BMQ("data-pc-section","summary"),t.R7$(),t.JRh(i.summary)}}function Yc(n,s){if(1&n&&(t.j41(0,"span",19),t.EFF(1),t.k0s()),2&n){const i=t.XpG(2).$implicit;t.BMQ("data-pc-section","detail"),t.R7$(),t.JRh(i.detail)}}function Wc(n,s){if(1&n&&t.DNE(0,zc,2,2,"span",16)(1,Yc,2,2,"span",17),2&n){const i=t.XpG().$implicit;t.Y8G("ngIf",i.summary),t.R7$(),t.Y8G("ngIf",i.detail)}}function Qc(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",20),t.bIt("click",function(){t.eBV(i);const o=t.XpG().index,a=t.XpG(2);return t.Njj(a.removeMessage(o))}),t.nrm(1,"TimesIcon",21),t.k0s()}if(2&n){const i=t.XpG(3);t.BMQ("aria-label",i.closeAriaLabel)("data-pc-section","closebutton"),t.R7$(),t.Y8G("styleClass","p-message-close-icon"),t.BMQ("data-pc-section","closeicon")}}function qc(n,s){if(1&n&&(t.j41(0,"div",5)(1,"div",6),t.DNE(2,Bc,1,3,"span",7)(3,$c,6,4,"span",8)(4,Xc,3,2,"ng-container",3)(5,Wc,2,2,"ng-template",null,1,t.C5r)(7,Qc,2,4,"button",9),t.k0s()()),2&n){const i=s.$implicit,r=t.sdS(6),o=t.XpG(2);t.HbH("p-message p-message-"+i.severity),t.Y8G("@messageAnimation",t.eq3(12,Lc,t.l_i(9,Ac,o.showTransitionOptions,o.hideTransitionOptions))),t.R7$(),t.BMQ("data-pc-section","wrapper"),t.R7$(),t.Y8G("ngIf",i.icon),t.R7$(),t.Y8G("ngIf",!i.icon),t.R7$(),t.Y8G("ngIf",!o.escape)("ngIfElse",r),t.R7$(3),t.Y8G("ngIf",o.closable)}}function Jc(n,s){if(1&n&&(t.qex(0),t.DNE(1,qc,8,14,"div",4),t.bVm()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.messages)}}function Zc(n,s){1&n&&t.eu8(0)}function ed(n,s){if(1&n&&(t.j41(0,"div",22)(1,"div",6),t.DNE(2,Zc,1,0,"ng-container",23),t.k0s()()),2&n){const i=t.XpG();t.Y8G("ngClass","p-message p-message-"+i.severity),t.R7$(2),t.Y8G("ngTemplateOutlet",i.contentTemplate)}}let td=(()=>{class n{messageService;el;cd;config;set value(i){this.messages=i,this.startMessageLifes(this.messages)}closable=!0;style;styleClass;enableService=!0;key;escape=!0;severity;showTransitionOptions="300ms ease-out";hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)";valueChange=new t.bkB;templates;messages;messageSubscription;clearSubscription;timerSubscriptions=[];contentTemplate;constructor(i,r,o,a){this.messageService=i,this.el=r,this.cd=o,this.config=a}ngAfterContentInit(){this.templates?.forEach(i=>{i.getType(),this.contentTemplate=i.template}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(i=>{if(i){Array.isArray(i)||(i=[i]);const r=i.filter(o=>this.key===o.key);this.messages=this.messages?[...this.messages,...r]:[...r],this.startMessageLifes(r),this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(i=>{i?this.key===i&&(this.messages=null):this.messages=null,this.cd.markForCheck()}))}hasMessages(){let i=this.el.nativeElement.parentElement;return!(!i||!i.offsetParent)&&(null!=this.contentTemplate||this.messages&&this.messages.length>0)}clear(){this.messages=[],this.valueChange.emit(this.messages)}removeMessage(i){this.messages=this.messages?.filter((r,o)=>o!==i),this.valueChange.emit(this.messages)}get icon(){const i=this.severity||(this.hasMessages()?this.messages[0].severity:null);if(this.hasMessages())switch(i){case"success":return"pi-check";case"info":default:return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle"}return null}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.timerSubscriptions?.forEach(i=>i.unsubscribe())}startMessageLifes(i){i?.forEach(r=>r.life&&this.startMessageLife(r))}startMessageLife(i){const r=(0,K.O)(i.life).subscribe(()=>{this.messages=this.messages?.filter(o=>o!==i),this.timerSubscriptions=this.timerSubscriptions?.filter(o=>o!==r),this.valueChange.emit(this.messages),this.cd.markForCheck()});this.timerSubscriptions.push(r)}static \u0275fac=function(r){return new(r||n)(t.rXU(L.bg,8),t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(L.r1))};static \u0275cmp=t.VBU({type:n,selectors:[["p-messages"]],contentQueries:function(r,o,a){if(1&r&&t.wni(a,L.Ei,4),2&r){let l;t.mGM(l=t.lsd())&&(o.templates=l)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:"closable",style:"style",styleClass:"styleClass",enableService:"enableService",key:"key",escape:"escape",severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange"},decls:4,vars:8,consts:[["staticMessage",""],["escapeOut",""],["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["role","alert",3,"class",4,"ngFor","ngForOf"],["role","alert"],[1,"p-message-wrapper"],[3,"class",4,"ngIf"],["class","p-message-icon",4,"ngIf"],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-message-icon"],[4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[3,"styleClass"],["role","alert",3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(r,o){if(1&r&&(t.j41(0,"div",2),t.DNE(1,Jc,2,1,"ng-container",3)(2,ed,3,2,"ng-template",null,0,t.C5r),t.k0s()),2&r){const a=t.sdS(3);t.HbH(o.styleClass),t.Y8G("ngStyle",o.style),t.BMQ("aria-atomic",!0)("aria-live","assertive")("data-pc-name","message"),t.R7$(),t.Y8G("ngIf",!o.contentTemplate)("ngIfElse",a)}},dependencies:()=>[h.YU,h.Sq,h.bT,h.T3,h.B3,J.n,Xe.S,Vn.e,lt.I,Bn.P,Pe.A],styles:["@layer primeng{.p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center;flex:none}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}.p-messages .p-message.ng-animating{overflow:hidden}}\n"],encapsulation:2,data:{animation:[(0,ge.hZ)("messageAnimation",[(0,ge.kY)(":enter",[(0,ge.iF)({opacity:0,transform:"translateY(-25%)"}),(0,ge.i0)("{{showTransitionParams}}")]),(0,ge.kY)(":leave",[(0,ge.i0)("{{hideTransitionParams}}",(0,ge.iF)({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})}return n})(),Ri=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD,J.Z,Xe.S,Vn.e,lt.I,Bn.P,Pe.A]})}return n})();var Ct=_(345);const id=["advancedfileinput"],nd=["basicfileinput"],od=["content"],rd=(n,s)=>({"p-focus":n,"p-disabled":s}),sd=n=>({$implicit:n}),ad=(n,s,i,r)=>({"p-button p-component p-fileupload-choose":!0,"p-button-icon-only":n,"p-fileupload-choose-selected":s,"p-focus":i,"p-disabled":r});function ld(n,s){if(1&n&&t.nrm(0,"span",20),2&n){const i=t.XpG(2);t.HbH(i.chooseIcon),t.Y8G("ngClass","p-button-icon p-button-icon-left"),t.BMQ("aria-label",!0)("data-pc-section","chooseicon")}}function cd(n,s){1&n&&t.nrm(0,"PlusIcon",23),2&n&&(t.Y8G("styleClass","p-button-icon p-button-icon-left"),t.BMQ("aria-label",!0)("data-pc-section","chooseicon"))}function dd(n,s){}function pd(n,s){1&n&&t.DNE(0,dd,0,0,"ng-template")}function ud(n,s){if(1&n&&(t.j41(0,"span",24),t.DNE(1,pd,1,0,null,14),t.k0s()),2&n){const i=t.XpG(3);t.BMQ("aria-label",!0)("data-pc-section","chooseicon"),t.R7$(),t.Y8G("ngTemplateOutlet",i.chooseIconTemplate)}}function _d(n,s){if(1&n&&(t.qex(0),t.DNE(1,cd,1,3,"PlusIcon",21)(2,ud,2,3,"span",22),t.bVm()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",!i.chooseIconTemplate),t.R7$(),t.Y8G("ngIf",i.chooseIconTemplate)}}function md(n,s){if(1&n&&t.nrm(0,"span",27),2&n){const i=t.XpG(3);t.Y8G("ngClass",i.uploadIcon),t.BMQ("aria-hidden",!0)}}function hd(n,s){1&n&&t.nrm(0,"UploadIcon",23),2&n&&t.Y8G("styleClass","p-button-icon p-button-icon-left")}function fd(n,s){}function gd(n,s){1&n&&t.DNE(0,fd,0,0,"ng-template")}function bd(n,s){if(1&n&&(t.j41(0,"span",24),t.DNE(1,gd,1,0,null,14),t.k0s()),2&n){const i=t.XpG(4);t.BMQ("aria-hidden",!0),t.R7$(),t.Y8G("ngTemplateOutlet",i.uploadIconTemplate)}}function vd(n,s){if(1&n&&(t.qex(0),t.DNE(1,hd,1,1,"UploadIcon",21)(2,bd,2,2,"span",22),t.bVm()),2&n){const i=t.XpG(3);t.R7$(),t.Y8G("ngIf",!i.uploadIconTemplate),t.R7$(),t.Y8G("ngIf",i.uploadIconTemplate)}}function Cd(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-button",25),t.bIt("onClick",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.upload())}),t.DNE(1,md,1,2,"span",26)(2,vd,3,2,"ng-container",11),t.k0s()}if(2&n){const i=t.XpG(2);t.Y8G("label",i.uploadButtonLabel)("disabled",!i.hasFiles()||i.isFileLimitExceeded())("styleClass",i.uploadStyleClass),t.R7$(),t.Y8G("ngIf",i.uploadIcon),t.R7$(),t.Y8G("ngIf",!i.uploadIcon)}}function Td(n,s){if(1&n&&t.nrm(0,"span",27),2&n){const i=t.XpG(3);t.Y8G("ngClass",i.cancelIcon)}}function Id(n,s){1&n&&t.nrm(0,"TimesIcon",23),2&n&&(t.Y8G("styleClass","p-button-icon p-button-icon-left"),t.BMQ("aria-hidden",!0))}function yd(n,s){}function xd(n,s){1&n&&t.DNE(0,yd,0,0,"ng-template")}function Ed(n,s){if(1&n&&(t.j41(0,"span",24),t.DNE(1,xd,1,0,null,14),t.k0s()),2&n){const i=t.XpG(4);t.BMQ("aria-hidden",!0),t.R7$(),t.Y8G("ngTemplateOutlet",i.cancelIconTemplate)}}function wd(n,s){if(1&n&&(t.qex(0),t.DNE(1,Id,1,2,"TimesIcon",21)(2,Ed,2,2,"span",22),t.bVm()),2&n){const i=t.XpG(3);t.R7$(),t.Y8G("ngIf",!i.cancelIconTemplate),t.R7$(),t.Y8G("ngIf",i.cancelIconTemplate)}}function Sd(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-button",25),t.bIt("onClick",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.clear())}),t.DNE(1,Td,1,1,"span",26)(2,wd,3,2,"ng-container",11),t.k0s()}if(2&n){const i=t.XpG(2);t.Y8G("label",i.cancelButtonLabel)("disabled",!i.hasFiles()||i.uploading)("styleClass",i.cancelStyleClass),t.R7$(),t.Y8G("ngIf",i.cancelIcon),t.R7$(),t.Y8G("ngIf",!i.cancelIcon)}}function kd(n,s){1&n&&t.eu8(0)}function Fd(n,s){if(1&n&&t.nrm(0,"p-progressBar",28),2&n){const i=t.XpG(2);t.Y8G("value",i.progress)("showValue",!1)}}function Dd(n,s){if(1&n){const i=t.RV6();t.j41(0,"img",35),t.bIt("error",function(o){t.eBV(i);const a=t.XpG(5);return t.Njj(a.imageError(o))}),t.k0s()}if(2&n){const i=t.XpG().$implicit,r=t.XpG(4);t.Y8G("src",i.objectURL,t.B4B)("width",r.previewWidth)}}function Od(n,s){1&n&&t.nrm(0,"TimesIcon")}function Md(n,s){}function Rd(n,s){1&n&&t.DNE(0,Md,0,0,"ng-template")}function jd(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",31)(1,"div"),t.DNE(2,Dd,1,2,"img",32),t.k0s(),t.j41(3,"div",33),t.EFF(4),t.k0s(),t.j41(5,"div"),t.EFF(6),t.k0s(),t.j41(7,"div")(8,"button",34),t.bIt("click",function(o){const a=t.eBV(i).index,l=t.XpG(4);return t.Njj(l.remove(o,a))}),t.DNE(9,Od,1,0,"TimesIcon",11)(10,Rd,1,0,null,14),t.k0s()()()}if(2&n){const i=s.$implicit,r=t.XpG(4);t.R7$(2),t.Y8G("ngIf",r.isImage(i)),t.R7$(2),t.JRh(i.name),t.R7$(2),t.JRh(r.formatSize(i.size)),t.R7$(2),t.HbH(r.removeStyleClass),t.Y8G("disabled",r.uploading),t.R7$(),t.Y8G("ngIf",!r.cancelIconTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",r.cancelIconTemplate)}}function Pd(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,jd,11,8,"div",30),t.k0s()),2&n){const i=t.XpG(3);t.R7$(),t.Y8G("ngForOf",i.files)}}function Ad(n,s){}function Ld(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,Ad,0,0,"ng-template",36),t.k0s()),2&n){const i=t.XpG(3);t.R7$(),t.Y8G("ngForOf",i.files)("ngForTemplate",i.fileTemplate)}}function Bd(n,s){if(1&n&&(t.j41(0,"div",29),t.DNE(1,Pd,2,1,"div",11)(2,Ld,2,2,"div",11),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",!i.fileTemplate),t.R7$(),t.Y8G("ngIf",i.fileTemplate)}}function Vd(n,s){1&n&&t.eu8(0)}function Gd(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"span",8),t.bIt("focus",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.onFocus())})("blur",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.onBlur())})("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.choose())})("keydown.enter",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.choose())}),t.j41(3,"input",9,0),t.bIt("change",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onFileSelect(o))}),t.k0s(),t.DNE(5,ld,1,5,"span",10)(6,_d,3,2,"ng-container",11),t.j41(7,"span",12),t.EFF(8),t.k0s()(),t.DNE(9,Cd,3,5,"p-button",13)(10,Sd,3,5,"p-button",13)(11,kd,1,0,"ng-container",14),t.k0s(),t.j41(12,"div",15,1),t.bIt("dragenter",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onDragEnter(o))})("dragleave",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onDragLeave(o))})("drop",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onDrop(o))}),t.DNE(14,Fd,1,2,"p-progressBar",16),t.nrm(15,"p-messages",17),t.DNE(16,Bd,3,2,"div",18)(17,Vd,1,0,"ng-container",19),t.k0s()()}if(2&n){const i=t.XpG();t.HbH(i.styleClass),t.Y8G("ngClass","p-fileupload p-fileupload-advanced p-component")("ngStyle",i.style),t.BMQ("data-pc-name","fileupload")("data-pc-section","root"),t.R7$(),t.BMQ("data-pc-section","buttonbar"),t.R7$(),t.HbH(i.chooseStyleClass),t.Y8G("ngClass",t.l_i(30,rd,i.focus,i.disabled||i.isChooseDisabled())),t.BMQ("data-pc-section","choosebutton"),t.R7$(),t.Y8G("multiple",i.multiple)("accept",i.accept)("disabled",i.disabled||i.isChooseDisabled()),t.BMQ("title","")("data-pc-section","input"),t.R7$(2),t.Y8G("ngIf",i.chooseIcon),t.R7$(),t.Y8G("ngIf",!i.chooseIcon),t.R7$(),t.BMQ("data-pc-section","choosebuttonlabel"),t.R7$(),t.JRh(i.chooseButtonLabel),t.R7$(),t.Y8G("ngIf",!i.auto&&i.showUploadButton),t.R7$(),t.Y8G("ngIf",!i.auto&&i.showCancelButton),t.R7$(),t.Y8G("ngTemplateOutlet",i.toolbarTemplate),t.R7$(),t.BMQ("data-pc-section","content"),t.R7$(2),t.Y8G("ngIf",i.hasFiles()),t.R7$(),t.Y8G("value",i.msgs)("enableService",!1),t.R7$(),t.Y8G("ngIf",i.hasFiles()),t.R7$(),t.Y8G("ngTemplateOutlet",i.contentTemplate)("ngTemplateOutletContext",t.eq3(33,sd,i.files))}}function Nd(n,s){if(1&n&&t.nrm(0,"span",27),2&n){const i=t.XpG(3);t.Y8G("ngClass",i.uploadIcon)}}function Ud(n,s){1&n&&t.nrm(0,"UploadIcon",23),2&n&&t.Y8G("styleClass","p-button-icon p-button-icon-left")}function $d(n,s){}function Hd(n,s){1&n&&t.DNE(0,$d,0,0,"ng-template")}function Kd(n,s){if(1&n&&(t.j41(0,"span",24),t.DNE(1,Hd,1,0,null,14),t.k0s()),2&n){const i=t.XpG(4);t.R7$(),t.Y8G("ngTemplateOutlet",i.uploadIconTemplate)}}function Xd(n,s){if(1&n&&(t.qex(0),t.DNE(1,Ud,1,1,"UploadIcon",21)(2,Kd,2,1,"span",22),t.bVm()),2&n){const i=t.XpG(3);t.R7$(),t.Y8G("ngIf",!i.uploadIconTemplate),t.R7$(),t.Y8G("ngIf",i.uploadIconTemplate)}}function zd(n,s){if(1&n&&(t.qex(0),t.DNE(1,Nd,1,1,"span",26)(2,Xd,3,2,"ng-container",11),t.bVm()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",i.uploadIcon),t.R7$(),t.Y8G("ngIf",!i.uploadIcon)}}function Yd(n,s){if(1&n&&t.nrm(0,"span",43),2&n){const i=t.XpG(3);t.Y8G("ngClass",i.chooseIcon)}}function Wd(n,s){1&n&&t.nrm(0,"PlusIcon",23),2&n&&(t.Y8G("styleClass","p-button-icon p-button-icon-left pi"),t.BMQ("aria-hidden",!0)("data-pc-section","uploadicon"))}function Qd(n,s){}function qd(n,s){1&n&&t.DNE(0,Qd,0,0,"ng-template")}function Jd(n,s){if(1&n&&(t.j41(0,"span",45),t.DNE(1,qd,1,0,null,14),t.k0s()),2&n){const i=t.XpG(4);t.BMQ("aria-hidden",!0)("data-pc-section","uploadicon"),t.R7$(),t.Y8G("ngTemplateOutlet",i.chooseIconTemplate)}}function Zd(n,s){if(1&n&&(t.qex(0),t.DNE(1,Wd,1,3,"PlusIcon",21)(2,Jd,2,3,"span",44),t.bVm()),2&n){const i=t.XpG(3);t.R7$(),t.Y8G("ngIf",!i.chooseIconTemplate),t.R7$(),t.Y8G("ngIf",i.chooseIconTemplate)}}function ep(n,s){if(1&n&&t.DNE(0,Yd,1,1,"span",42)(1,Zd,3,2,"ng-container",11),2&n){const i=t.XpG(2);t.Y8G("ngIf",i.chooseIcon),t.R7$(),t.Y8G("ngIf",!i.chooseIcon)}}function tp(n,s){if(1&n&&(t.j41(0,"span",12),t.EFF(1),t.k0s()),2&n){const i=t.XpG(2);t.BMQ("data-pc-section","label"),t.R7$(),t.JRh(i.basicButtonLabel)}}function ip(n,s){if(1&n){const i=t.RV6();t.j41(0,"input",46,3),t.bIt("change",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.onFileSelect(o))})("focus",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.onFocus())})("blur",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.onBlur())}),t.k0s()}if(2&n){const i=t.XpG(2);t.Y8G("accept",i.accept)("multiple",i.multiple)("disabled",i.disabled),t.BMQ("data-pc-section","input")}}function np(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",37),t.nrm(1,"p-messages",17),t.j41(2,"span",38),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.onBasicUploaderClick())})("keydown",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onBasicKeydown(o))}),t.DNE(3,zd,3,2,"ng-container",39)(4,ep,2,2,"ng-template",null,2,t.C5r)(6,tp,2,2,"span",40)(7,ip,2,4,"input",41),t.k0s()()}if(2&n){const i=t.sdS(5),r=t.XpG();t.BMQ("data-pc-name","fileupload"),t.R7$(),t.Y8G("value",r.msgs)("enableService",!1),t.R7$(),t.HbH(r.styleClass),t.Y8G("ngClass",t.ziG(12,ad,!r.basicButtonLabel,r.hasFiles(),r.focus,r.disabled))("ngStyle",r.style),t.BMQ("data-pc-section","choosebutton"),t.R7$(),t.Y8G("ngIf",r.hasFiles()&&!r.auto)("ngIfElse",i),t.R7$(3),t.Y8G("ngIf",r.basicButtonLabel),t.R7$(),t.Y8G("ngIf",!r.hasFiles())}}let op=(()=>{class n{document;platformId;renderer;el;sanitizer;zone;http;cd;config;name;url;method="post";multiple;accept;disabled;auto;withCredentials;maxFileSize;invalidFileSizeMessageSummary="{0}: Invalid file size, ";invalidFileSizeMessageDetail="maximum upload size is {0}.";invalidFileTypeMessageSummary="{0}: Invalid file type, ";invalidFileTypeMessageDetail="allowed file types: {0}.";invalidFileLimitMessageDetail="limit is {0} at most.";invalidFileLimitMessageSummary="Maximum number of files exceeded, ";style;styleClass;previewWidth=50;chooseLabel;uploadLabel;cancelLabel;chooseIcon;uploadIcon;cancelIcon;showUploadButton=!0;showCancelButton=!0;mode="advanced";headers;customUpload;fileLimit;uploadStyleClass;cancelStyleClass;removeStyleClass;chooseStyleClass;onBeforeUpload=new t.bkB;onSend=new t.bkB;onUpload=new t.bkB;onError=new t.bkB;onClear=new t.bkB;onRemove=new t.bkB;onSelect=new t.bkB;onProgress=new t.bkB;uploadHandler=new t.bkB;onImageError=new t.bkB;templates;advancedFileInput;basicFileInput;content;set files(i){this._files=[];for(let r=0;r<i.length;r++){let o=i[r];this.validate(o)&&(this.isImage(o)&&(o.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i[r]))),this._files.push(i[r]))}}get files(){return this._files}get basicButtonLabel(){return this.auto||!this.hasFiles()?this.chooseLabel:this.uploadLabel??this.files[0].name}_files=[];progress=0;dragHighlight;msgs;fileTemplate;contentTemplate;toolbarTemplate;chooseIconTemplate;uploadIconTemplate;cancelIconTemplate;uploadedFileCount=0;focus;uploading;duplicateIEEvent;translationSubscription;dragOverListener;constructor(i,r,o,a,l,p,S,O,N){this.document=i,this.platformId=r,this.renderer=o,this.el=a,this.sanitizer=l,this.zone=p,this.http=S,this.cd=O,this.config=N}ngAfterContentInit(){this.templates?.forEach(i=>{switch(i.getType()){case"file":default:this.fileTemplate=i.template;break;case"content":this.contentTemplate=i.template;break;case"toolbar":this.toolbarTemplate=i.template;break;case"chooseicon":this.chooseIconTemplate=i.template;break;case"uploadicon":this.uploadIconTemplate=i.template;break;case"cancelicon":this.cancelIconTemplate=i.template}})}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){(0,h.UE)(this.platformId)&&"advanced"===this.mode&&this.zone.runOutsideAngular(()=>{this.content&&(this.dragOverListener=this.renderer.listen(this.content.nativeElement,"dragover",this.onDragOver.bind(this)))})}getTranslation(i){return this.config.getTranslation(i)}choose(){this.advancedFileInput?.nativeElement.click()}onFileSelect(i){if("drop"!==i.type&&this.isIE11()&&this.duplicateIEEvent)return void(this.duplicateIEEvent=!1);this.msgs=[],this.multiple||(this.files=[]);let r=i.dataTransfer?i.dataTransfer.files:i.target.files;for(let o=0;o<r.length;o++){let a=r[o];this.isFileSelected(a)||this.validate(a)&&(this.isImage(a)&&(a.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(r[o]))),this.files.push(r[o]))}this.onSelect.emit({originalEvent:i,files:r,currentFiles:this.files}),this.fileLimit&&this.checkFileLimit(),this.hasFiles()&&this.auto&&("advanced"!==this.mode||!this.isFileLimitExceeded())&&this.upload(),"drop"!==i.type&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(i){for(let r of this.files)if(r.name+r.type+r.size===i.name+i.type+i.size)return!0;return!1}isIE11(){if((0,h.UE)(this.platformId))return!!this.document.defaultView.MSInputMethodContext&&!!this.document.documentMode}validate(i){return this.msgs=this.msgs||[],this.accept&&!this.isFileTypeValid(i)?(this.msgs.push({severity:"error",summary:this.invalidFileTypeMessageSummary.replace("{0}",i.name),detail:this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}),!1):!(this.maxFileSize&&i.size>this.maxFileSize&&(this.msgs.push({severity:"error",summary:this.invalidFileSizeMessageSummary.replace("{0}",i.name),detail:this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}),1))}isFileTypeValid(i){let r=this.accept?.split(",").map(o=>o.trim());for(let o of r)if(this.isWildcard(o)?this.getTypeClass(i.type)===this.getTypeClass(o):i.type==o||this.getFileExtension(i).toLowerCase()===o.toLowerCase())return!0;return!1}getTypeClass(i){return i.substring(0,i.indexOf("/"))}isWildcard(i){return-1!==i.indexOf("*")}getFileExtension(i){return"."+i.name.split(".").pop()}isImage(i){return/^image\//.test(i.type)}onImageLoad(i){window.URL.revokeObjectURL(i.src)}upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let i=new FormData;this.onBeforeUpload.emit({formData:i});for(let r=0;r<this.files.length;r++)i.append(this.name,this.files[r],this.files[r].name);this.http.request(this.method,this.url,{body:i,headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(r=>{switch(r.type){case ie.hv.Sent:this.onSend.emit({originalEvent:r,formData:i});break;case ie.hv.Response:this.uploading=!1,this.progress=0,r.status>=200&&r.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:r,files:this.files})):this.onError.emit({files:this.files}),this.clear();break;case ie.hv.UploadProgress:r.loaded&&(this.progress=Math.round(100*r.loaded/r.total)),this.onProgress.emit({originalEvent:r,progress:this.progress})}this.cd.markForCheck()},r=>{this.uploading=!1,this.onError.emit({files:this.files,error:r})})}}clear(){this.files=[],this.uploadedFileCount=0,this.onClear.emit(),this.clearInputElement(),this.cd.markForCheck()}remove(i,r){this.clearInputElement(),this.onRemove.emit({originalEvent:i,file:this.files[r]}),this.files.splice(r,1),this.checkFileLimit()}isFileLimitExceeded(){const r=this.auto?this.files.length:this.files.length+this.uploadedFileCount;return this.fileLimit&&this.fileLimit<=r&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<r}isChooseDisabled(){return this.auto?this.fileLimit&&this.fileLimit<=this.files.length:this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(){this.msgs??=[],this.isFileLimitExceeded()&&this.msgs.push({severity:"error",summary:this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString()),detail:this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())})}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}onDragEnter(i){this.disabled||(i.stopPropagation(),i.preventDefault())}onDragOver(i){this.disabled||(Q.D.addClass(this.content?.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,i.stopPropagation(),i.preventDefault())}onDragLeave(i){this.disabled||Q.D.removeClass(this.content?.nativeElement,"p-fileupload-highlight")}onDrop(i){if(!this.disabled){Q.D.removeClass(this.content?.nativeElement,"p-fileupload-highlight"),i.stopPropagation(),i.preventDefault();let r=i.dataTransfer?i.dataTransfer.files:i.target.files;(this.multiple||r&&1===r.length)&&this.onFileSelect(i)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(i){const a=this.getTranslation(L.Yj.FILE_SIZE_TYPES);if(0===i)return`0 ${a[0]}`;const l=Math.floor(Math.log(i)/Math.log(1024));return`${(i/Math.pow(1024,l)).toFixed(3)} ${a[l]}`}onBasicUploaderClick(){this.hasFiles()?this.upload():this.basicFileInput?.nativeElement.click()}onBasicKeydown(i){switch(i.code){case"Space":case"Enter":this.onBasicUploaderClick(),i.preventDefault()}}imageError(i){this.onImageError.emit(i)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(L.Yj.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(L.Yj.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(L.Yj.CANCEL)}ngOnDestroy(){this.content&&this.content.nativeElement&&this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)(t.rXU(h.qQ),t.rXU(t.Agw),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(Ct.up),t.rXU(t.SKi),t.rXU(ie.Qq),t.rXU(t.gRc),t.rXU(L.r1))};static \u0275cmp=t.VBU({type:n,selectors:[["p-fileUpload"]],contentQueries:function(r,o,a){if(1&r&&t.wni(a,L.Ei,4),2&r){let l;t.mGM(l=t.lsd())&&(o.templates=l)}},viewQuery:function(r,o){if(1&r&&(t.GBs(id,5),t.GBs(nd,5),t.GBs(od,5)),2&r){let a;t.mGM(a=t.lsd())&&(o.advancedFileInput=a.first),t.mGM(a=t.lsd())&&(o.basicFileInput=a.first),t.mGM(a=t.lsd())&&(o.content=a.first)}},hostAttrs:[1,"p-element"],inputs:{name:"name",url:"url",method:"method",multiple:"multiple",accept:"accept",disabled:"disabled",auto:"auto",withCredentials:"withCredentials",maxFileSize:"maxFileSize",invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:"previewWidth",chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:"showUploadButton",showCancelButton:"showCancelButton",mode:"mode",headers:"headers",customUpload:"customUpload",fileLimit:"fileLimit",uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError"},decls:2,vars:2,consts:[["advancedfileinput",""],["content",""],["chooseSection",""],["basicfileinput",""],[3,"ngClass","ngStyle","class",4,"ngIf"],["class","p-fileupload p-fileupload-basic p-component",4,"ngIf"],[3,"ngClass","ngStyle"],[1,"p-fileupload-buttonbar"],["pRipple","","tabindex","0",1,"p-button","p-component","p-fileupload-choose",3,"focus","blur","click","keydown.enter","ngClass"],["type","file",3,"change","multiple","accept","disabled"],[3,"ngClass","class",4,"ngIf"],[4,"ngIf"],[1,"p-button-label"],["type","button",3,"label","disabled","styleClass","onClick",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-fileupload-content",3,"dragenter","dragleave","drop"],[3,"value","showValue",4,"ngIf"],[3,"value","enableService"],["class","p-fileupload-files",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-button-icon p-button-icon-left",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon","p-button-icon-left"],["type","button",3,"onClick","label","disabled","styleClass"],["class","p-button-icon p-button-icon-left",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"ngClass"],[3,"value","showValue"],[1,"p-fileupload-files"],["class","p-fileupload-row",4,"ngFor","ngForOf"],[1,"p-fileupload-row"],[3,"src","width","error",4,"ngIf"],[1,"p-fileupload-filename"],["type","button","pButton","",1,"p-button-icon-only",3,"click","disabled"],[3,"error","src","width"],["ngFor","",3,"ngForOf","ngForTemplate"],[1,"p-fileupload","p-fileupload-basic","p-component"],["tabindex","0","pRipple","",3,"click","keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["class","p-button-label",4,"ngIf"],["type","file",3,"accept","multiple","disabled","change","focus","blur",4,"ngIf"],["class","p-button-icon p-button-icon-left pi",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass"],["class","p-button-icon p-button-icon-left pi",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi"],["type","file",3,"change","focus","blur","accept","multiple","disabled"]],template:function(r,o){1&r&&t.DNE(0,Gd,18,35,"div",4)(1,np,8,17,"div",5),2&r&&(t.Y8G("ngIf","advanced"===o.mode),t.R7$(),t.Y8G("ngIf","basic"===o.mode))},dependencies:()=>[h.YU,h.Sq,h.bT,h.T3,h.B3,d._f,d.$n,vc,td,J.n,Ut.c,Ln,Pe.A],styles:["@layer primeng{.p-fileupload-content{position:relative}.p-fileupload-row{display:flex;align-items:center}.p-fileupload-row>div{flex:1 1 auto;width:25%}.p-fileupload-row>div:last-child{text-align:right}.p-fileupload-content .p-progressbar{width:100%;position:absolute;top:0;left:0}.p-button.p-fileupload-choose{position:relative;overflow:hidden}.p-button.p-fileupload-choose input[type=file],.p-fileupload-choose.p-fileupload-choose-selected input[type=file]{display:none}.p-fluid .p-fileupload .p-button{width:auto}.p-fileupload-filename{word-break:break-all}}\n"],encapsulation:2,changeDetection:0})}return n})(),et=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD,ie.q1,L.Gg,d.tm,Nt,Ri,J.Z,Ut.c,Ln,Pe.A,L.Gg,d.tm,Nt,Ri]})}return n})();var be=_(6781),rp=_(9789);let sp=(()=>{class n extends Je.h{pathId;ngOnInit(){this.pathId="url(#"+(0,q._Y)()+")"}static \u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(n)))(o||n)}})();static \u0275cmp=t.VBU({type:n,selectors:[["RefreshIcon"]],standalone:!0,features:[t.Vt3,t.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,o){1&r&&(t.qSk(),t.j41(0,"svg",0)(1,"g"),t.nrm(2,"path",1),t.k0s(),t.j41(3,"defs")(4,"clipPath",2),t.nrm(5,"rect",3),t.k0s()()()),2&r&&(t.HbH(o.getClassNames()),t.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),t.R7$(),t.BMQ("clip-path",o.pathId),t.R7$(3),t.Y8G("id",o.pathId))},encapsulation:2})}return n})(),ap=(()=>{class n extends Je.h{pathId;ngOnInit(){this.pathId="url(#"+(0,q._Y)()+")"}static \u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(n)))(o||n)}})();static \u0275cmp=t.VBU({type:n,selectors:[["SearchMinusIcon"]],standalone:!0,features:[t.Vt3,t.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,o){1&r&&(t.qSk(),t.j41(0,"svg",0)(1,"g"),t.nrm(2,"path",1),t.k0s(),t.j41(3,"defs")(4,"clipPath",2),t.nrm(5,"rect",3),t.k0s()()()),2&r&&(t.HbH(o.getClassNames()),t.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),t.R7$(),t.BMQ("clip-path",o.pathId),t.R7$(3),t.Y8G("id",o.pathId))},encapsulation:2})}return n})(),lp=(()=>{class n extends Je.h{pathId;ngOnInit(){this.pathId="url(#"+(0,q._Y)()+")"}static \u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(n)))(o||n)}})();static \u0275cmp=t.VBU({type:n,selectors:[["SearchPlusIcon"]],standalone:!0,features:[t.Vt3,t.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,o){1&r&&(t.qSk(),t.j41(0,"svg",0)(1,"g"),t.nrm(2,"path",1),t.k0s(),t.j41(3,"defs")(4,"clipPath",2),t.nrm(5,"rect",3),t.k0s()()()),2&r&&(t.HbH(o.getClassNames()),t.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),t.R7$(),t.BMQ("clip-path",o.pathId),t.R7$(3),t.Y8G("id",o.pathId))},encapsulation:2})}return n})(),cp=(()=>{class n extends Je.h{pathId;ngOnInit(){this.pathId="url(#"+(0,q._Y)()+")"}static \u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(n)))(o||n)}})();static \u0275cmp=t.VBU({type:n,selectors:[["UndoIcon"]],standalone:!0,features:[t.Vt3,t.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,o){1&r&&(t.qSk(),t.j41(0,"svg",0)(1,"g"),t.nrm(2,"path",1),t.k0s(),t.j41(3,"defs")(4,"clipPath",2),t.nrm(5,"rect",3),t.k0s()()()),2&r&&(t.HbH(o.getClassNames()),t.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),t.R7$(),t.BMQ("clip-path",o.pathId),t.R7$(3),t.Y8G("id",o.pathId))},encapsulation:2})}return n})();var ji=_(4282);let Pi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD,L.Gg,sp,rp.b,cp,ap,lp,Pe.A,ji.A,L.Gg]})}return n})();var $t=_(8148),Tt=_(8807),Mp=_(8472),Rp=_(9214);const jp=["mask"],Pp=["container"],Ap=n=>({"p-galleria-mask p-component-overlay p-component-overlay-enter":!0,"p-galleria-visible":n}),Lp=(n,s)=>({showTransitionParams:n,hideTransitionParams:s}),Bp=n=>({value:"visible",params:n});function Vp(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-galleriaContent",7),t.bIt("@animation.start",function(o){t.eBV(i);const a=t.XpG(3);return t.Njj(a.onAnimationStart(o))})("@animation.done",function(o){t.eBV(i);const a=t.XpG(3);return t.Njj(a.onAnimationEnd(o))})("maskHide",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.onMaskHide())})("activeItemChange",function(o){t.eBV(i);const a=t.XpG(3);return t.Njj(a.onActiveItemChange(o))}),t.k0s()}if(2&n){const i=t.XpG(3);t.Y8G("@animation",t.eq3(8,Bp,t.l_i(5,Lp,i.showTransitionOptions,i.hideTransitionOptions)))("value",i.value)("activeIndex",i.activeIndex)("numVisible",i.numVisibleLimit||i.numVisible)("ngStyle",i.containerStyle)}}function Gp(n,s){if(1&n&&(t.j41(0,"div",5,2),t.DNE(2,Vp,1,10,"p-galleriaContent",6),t.k0s()),2&n){const i=t.XpG(2);t.HbH(i.maskClass),t.Y8G("ngClass",t.eq3(6,Ap,i.visible)),t.BMQ("role",i.fullScreen?"dialog":"region")("aria-modal",i.fullScreen?"true":void 0),t.R7$(2),t.Y8G("ngIf",i.visible)}}function Np(n,s){if(1&n&&(t.j41(0,"div",null,1),t.DNE(2,Gp,3,8,"div",4),t.k0s()),2&n){const i=t.XpG();t.R7$(2),t.Y8G("ngIf",i.maskVisible)}}function Up(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-galleriaContent",8),t.bIt("activeItemChange",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onActiveItemChange(o))}),t.k0s()}if(2&n){const i=t.XpG();t.Y8G("value",i.value)("activeIndex",i.activeIndex)("numVisible",i.numVisibleLimit||i.numVisible)}}const $p=["closeButton"],Hp=(n,s,i)=>({"p-galleria p-component":!0,"p-galleria-fullscreen":n,"p-galleria-indicator-onitem":s,"p-galleria-item-nav-onhover":i}),Kp=()=>({});function Xp(n,s){1&n&&t.nrm(0,"TimesIcon",11),2&n&&t.Y8G("styleClass","p-galleria-close-icon")}function zp(n,s){}function Yp(n,s){1&n&&t.DNE(0,zp,0,0,"ng-template")}function Wp(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",8),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.maskHide.emit())}),t.DNE(1,Xp,1,1,"TimesIcon",9)(2,Yp,1,0,null,10),t.k0s()}if(2&n){const i=t.XpG(2);t.BMQ("aria-label",i.closeAriaLabel())("data-pc-section","closebutton"),t.R7$(),t.Y8G("ngIf",!i.galleria.closeIconTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",i.galleria.closeIconTemplate)}}function Qp(n,s){if(1&n&&(t.j41(0,"div",12),t.nrm(1,"p-galleriaItemSlot",13),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("templates",i.galleria.templates)}}function qp(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-galleriaThumbnails",14),t.bIt("onActiveIndexChange",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.onActiveIndexChange(o))})("stopSlideShow",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.stopSlideShow())}),t.k0s()}if(2&n){const i=t.XpG(2);t.Y8G("containerId",i.id)("value",i.value)("activeIndex",i.activeIndex)("templates",i.galleria.templates)("numVisible",i.numVisible)("responsiveOptions",i.galleria.responsiveOptions)("circular",i.galleria.circular)("isVertical",i.isVertical())("contentHeight",i.galleria.verticalThumbnailViewPortHeight)("showThumbnailNavigators",i.galleria.showThumbnailNavigators)("slideShowActive",i.slideShowActive)}}function Jp(n,s){if(1&n&&(t.j41(0,"div",15),t.nrm(1,"p-galleriaItemSlot",16),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("templates",i.galleria.templates)}}function Zp(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",1),t.DNE(1,Wp,3,4,"button",2)(2,Qp,2,1,"div",3),t.j41(3,"div",4)(4,"p-galleriaItem",5),t.bIt("onActiveIndexChange",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onActiveIndexChange(o))})("startSlideShow",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.startSlideShow())})("stopSlideShow",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.stopSlideShow())}),t.k0s(),t.DNE(5,qp,1,11,"p-galleriaThumbnails",6),t.k0s(),t.DNE(6,Jp,2,1,"div",7),t.k0s()}if(2&n){const i=t.XpG();t.HbH(i.galleriaClass()),t.Y8G("ngClass",t.sMw(23,Hp,i.galleria.fullScreen,i.galleria.showIndicatorsOnItem,i.galleria.showItemNavigatorsOnHover&&!i.galleria.fullScreen))("ngStyle",i.galleria.fullScreen?t.lJ4(27,Kp):i.galleria.containerStyle),t.BMQ("id",i.id)("role","region"),t.R7$(),t.Y8G("ngIf",i.galleria.fullScreen),t.R7$(),t.Y8G("ngIf",i.galleria.templates&&i.galleria.headerFacet),t.R7$(),t.BMQ("aria-live",i.galleria.autoPlay?"polite":"off"),t.R7$(),t.Y8G("id",i.id)("value",i.value)("activeIndex",i.activeIndex)("circular",i.galleria.circular)("templates",i.galleria.templates)("showIndicators",i.galleria.showIndicators)("changeItemOnIndicatorHover",i.galleria.changeItemOnIndicatorHover)("indicatorFacet",i.galleria.indicatorFacet)("captionFacet",i.galleria.captionFacet)("showItemNavigators",i.galleria.showItemNavigators)("autoPlay",i.galleria.autoPlay)("slideShowActive",i.slideShowActive),t.R7$(),t.Y8G("ngIf",i.galleria.showThumbnails),t.R7$(),t.Y8G("ngIf",i.galleria.templates&&i.galleria.footerFacet)}}function eu(n,s){1&n&&t.eu8(0)}function tu(n,s){if(1&n&&(t.qex(0),t.DNE(1,eu,1,0,"ng-container",1),t.bVm()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",i.contentTemplate)("ngTemplateOutletContext",i.context)}}const iu=n=>({"p-galleria-item-prev p-galleria-item-nav p-link":!0,"p-disabled":n}),nu=n=>({"p-galleria-item-next p-galleria-item-nav p-link":!0,"p-disabled":n}),ou=n=>({"p-galleria-indicator":!0,"p-highlight":n});function ru(n,s){1&n&&t.nrm(0,"ChevronLeftIcon",11),2&n&&t.Y8G("styleClass","p-galleria-item-prev-icon")}function su(n,s){}function au(n,s){1&n&&t.DNE(0,su,0,0,"ng-template")}function lu(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",8),t.bIt("click",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.navBackward(o))}),t.DNE(1,ru,1,1,"ChevronLeftIcon",9)(2,au,1,0,null,10),t.k0s()}if(2&n){const i=t.XpG();t.Y8G("ngClass",t.eq3(4,iu,i.isNavBackwardDisabled()))("disabled",i.isNavBackwardDisabled()),t.R7$(),t.Y8G("ngIf",!i.galleria.itemPreviousIconTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",i.galleria.itemPreviousIconTemplate)}}function cu(n,s){1&n&&t.nrm(0,"ChevronRightIcon",11),2&n&&t.Y8G("styleClass","p-galleria-item-next-icon")}function du(n,s){}function pu(n,s){1&n&&t.DNE(0,du,0,0,"ng-template")}function uu(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",12),t.bIt("click",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.navForward(o))}),t.DNE(1,cu,1,1,"ChevronRightIcon",9)(2,pu,1,0,null,10),t.k0s()}if(2&n){const i=t.XpG();t.Y8G("ngClass",t.eq3(4,nu,i.isNavForwardDisabled()))("disabled",i.isNavForwardDisabled()),t.R7$(),t.Y8G("ngIf",!i.galleria.itemNextIconTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",i.galleria.itemNextIconTemplate)}}function _u(n,s){if(1&n&&(t.j41(0,"div",13),t.nrm(1,"p-galleriaItemSlot",14),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("item",i.activeItem)("templates",i.templates)}}function mu(n,s){1&n&&t.nrm(0,"button",20)}function hu(n,s){if(1&n){const i=t.RV6();t.j41(0,"li",17),t.bIt("click",function(){const o=t.eBV(i).index,a=t.XpG(2);return t.Njj(a.onIndicatorClick(o))})("mouseenter",function(){const o=t.eBV(i).index,a=t.XpG(2);return t.Njj(a.onIndicatorMouseEnter(o))})("keydown",function(o){const a=t.eBV(i).index,l=t.XpG(2);return t.Njj(l.onIndicatorKeyDown(o,a))}),t.DNE(1,mu,1,0,"button",18),t.nrm(2,"p-galleriaItemSlot",19),t.k0s()}if(2&n){const i=s.index,r=t.XpG(2);t.Y8G("ngClass",t.eq3(7,ou,r.isIndicatorItemActive(i))),t.BMQ("aria-label",r.ariaPageLabel(i+1))("aria-selected",r.activeIndex===i)("aria-controls",r.id+"_item_"+i),t.R7$(),t.Y8G("ngIf",!r.indicatorFacet),t.R7$(),t.Y8G("index",i)("templates",r.templates)}}function fu(n,s){if(1&n&&(t.j41(0,"ul",15),t.DNE(1,hu,3,9,"li",16),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.value)}}const gu=["itemsContainer"],bu=n=>({height:n}),vu=n=>({"p-galleria-thumbnail-prev p-link":!0,"p-disabled":n}),Cu=(n,s,i,r)=>({"p-galleria-thumbnail-item":!0,"p-galleria-thumbnail-item-current":n,"p-galleria-thumbnail-item-active":s,"p-galleria-thumbnail-item-start":i,"p-galleria-thumbnail-item-end":r}),Tu=n=>({"p-galleria-thumbnail-next p-link":!0,"p-disabled":n});function Iu(n,s){1&n&&t.nrm(0,"ChevronLeftIcon",11),2&n&&t.Y8G("styleClass","p-galleria-thumbnail-prev-icon")}function yu(n,s){1&n&&t.nrm(0,"ChevronUpIcon",11),2&n&&t.Y8G("styleClass","p-galleria-thumbnail-prev-icon")}function xu(n,s){if(1&n&&(t.qex(0),t.DNE(1,Iu,1,1,"ChevronLeftIcon",10)(2,yu,1,1,"ChevronUpIcon",10),t.bVm()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",!i.isVertical),t.R7$(),t.Y8G("ngIf",i.isVertical)}}function Eu(n,s){}function wu(n,s){1&n&&t.DNE(0,Eu,0,0,"ng-template")}function Su(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",7),t.bIt("click",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.navBackward(o))}),t.DNE(1,xu,3,2,"ng-container",8)(2,wu,1,0,null,9),t.k0s()}if(2&n){const i=t.XpG();t.Y8G("ngClass",t.eq3(5,vu,i.isNavBackwardDisabled()))("disabled",i.isNavBackwardDisabled()),t.BMQ("aria-label",i.ariaPrevButtonLabel()),t.R7$(),t.Y8G("ngIf",!i.galleria.previousThumbnailIconTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",i.galleria.previousThumbnailIconTemplate)}}function ku(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",12),t.bIt("keydown",function(o){const a=t.eBV(i).index,l=t.XpG();return t.Njj(l.onThumbnailKeydown(o,a))}),t.j41(1,"div",13),t.bIt("click",function(){const o=t.eBV(i).index,a=t.XpG();return t.Njj(a.onItemClick(o))})("touchend",function(){const o=t.eBV(i).index,a=t.XpG();return t.Njj(a.onItemClick(o))})("keydown.enter",function(){const o=t.eBV(i).index,a=t.XpG();return t.Njj(a.onItemClick(o))}),t.nrm(2,"p-galleriaItemSlot",14),t.k0s()()}if(2&n){const i=s.$implicit,r=s.index,o=t.XpG();t.Y8G("ngClass",t.ziG(10,Cu,o.activeIndex===r,o.isItemActive(r),o.firstItemAciveIndex()===r,o.lastItemActiveIndex()===r)),t.BMQ("aria-selected",o.activeIndex===r)("aria-controls",o.containerId+"_item_"+r)("data-pc-section","thumbnailitem")("data-p-active",o.activeIndex===r),t.R7$(),t.BMQ("tabindex",o.activeIndex===r?0:-1)("aria-current",o.activeIndex===r?"page":void 0)("aria-label",o.ariaPageLabel(r+1)),t.R7$(),t.Y8G("item",i)("templates",o.templates)}}function Fu(n,s){1&n&&t.nrm(0,"ChevronRightIcon",16),2&n&&t.Y8G("ngClass","p-galleria-thumbnail-next-icon")}function Du(n,s){1&n&&t.nrm(0,"ChevronDownIcon",16),2&n&&t.Y8G("ngClass","p-galleria-thumbnail-next-icon")}function Ou(n,s){if(1&n&&(t.qex(0),t.DNE(1,Fu,1,1,"ChevronRightIcon",15)(2,Du,1,1,"ChevronDownIcon",15),t.bVm()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",!i.isVertical),t.R7$(),t.Y8G("ngIf",i.isVertical)}}function Mu(n,s){}function Ru(n,s){1&n&&t.DNE(0,Mu,0,0,"ng-template")}function ju(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",7),t.bIt("click",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.navForward(o))}),t.DNE(1,Ou,3,2,"ng-container",8)(2,Ru,1,0,null,9),t.k0s()}if(2&n){const i=t.XpG();t.Y8G("ngClass",t.eq3(5,Tu,i.isNavForwardDisabled()))("disabled",i.isNavForwardDisabled()),t.BMQ("aria-label",i.ariaNextButtonLabel()),t.R7$(),t.Y8G("ngIf",!i.galleria.nextThumbnailIconTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",i.galleria.nextThumbnailIconTemplate)}}let Ht=(()=>{class n{document;platformId;element;cd;config;get activeIndex(){return this._activeIndex}set activeIndex(i){this._activeIndex=i}fullScreen=!1;id;value;numVisible=3;responsiveOptions;showItemNavigators=!1;showThumbnailNavigators=!0;showItemNavigatorsOnHover=!1;changeItemOnIndicatorHover=!1;circular=!1;autoPlay=!1;shouldStopAutoplayByClick=!0;transitionInterval=4e3;showThumbnails=!0;thumbnailsPosition="bottom";verticalThumbnailViewPortHeight="300px";showIndicators=!1;showIndicatorsOnItem=!1;indicatorsPosition="bottom";baseZIndex=0;maskClass;containerClass;containerStyle;showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";get visible(){return this._visible}set visible(i){this._visible=i,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}activeIndexChange=new t.bkB;visibleChange=new t.bkB;mask;container;templates;_visible=!1;_activeIndex=0;headerFacet;footerFacet;indicatorFacet;captionFacet;closeIconTemplate;previousThumbnailIconTemplate;nextThumbnailIconTemplate;itemPreviousIconTemplate;itemNextIconTemplate;maskVisible=!1;numVisibleLimit=0;constructor(i,r,o,a,l){this.document=i,this.platformId=r,this.element=o,this.cd=a,this.config=l}ngAfterContentInit(){this.templates?.forEach(i=>{switch(i.getType()){case"header":this.headerFacet=i.template;break;case"footer":this.footerFacet=i.template;break;case"indicator":this.indicatorFacet=i.template;break;case"closeicon":this.closeIconTemplate=i.template;break;case"itemnexticon":this.itemNextIconTemplate=i.template;break;case"itempreviousicon":this.itemPreviousIconTemplate=i.template;break;case"previousthumbnailicon":this.previousThumbnailIconTemplate=i.template;break;case"nextthumbnailicon":this.nextThumbnailIconTemplate=i.template;break;case"caption":this.captionFacet=i.template}})}ngOnChanges(i){this.numVisibleLimit=i.value&&i.value.currentValue?.length<this.numVisible?i.value.currentValue.length:0}onMaskHide(){this.visible=!1,this.visibleChange.emit(!1)}onActiveItemChange(i){this.activeIndex!==i&&(this.activeIndex=i,this.activeIndexChange.emit(i))}onAnimationStart(i){switch(i.toState){case"visible":this.enableModality(),setTimeout(()=>{Q.D.focus(Q.D.findSingle(this.container.nativeElement,'[data-pc-section="closebutton"]'))},25);break;case"void":Q.D.addClass(this.mask?.nativeElement,"p-component-overlay-leave")}}onAnimationEnd(i){"void"===i.toState&&this.disableModality()}enableModality(){Q.D.blockBodyScroll(),this.cd.markForCheck(),this.mask&&q.Q$.set("modal",this.mask.nativeElement,this.baseZIndex||this.config.zIndex.modal)}disableModality(){Q.D.unblockBodyScroll(),this.maskVisible=!1,this.cd.markForCheck(),this.mask&&q.Q$.clear(this.mask.nativeElement)}ngOnDestroy(){this.fullScreen&&Q.D.removeClass(this.document.body,"p-overflow-hidden"),this.mask&&this.disableModality()}static \u0275fac=function(r){return new(r||n)(t.rXU(h.qQ),t.rXU(t.Agw),t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(L.r1))};static \u0275cmp=t.VBU({type:n,selectors:[["p-galleria"]],contentQueries:function(r,o,a){if(1&r&&t.wni(a,L.Ei,4),2&r){let l;t.mGM(l=t.lsd())&&(o.templates=l)}},viewQuery:function(r,o){if(1&r&&(t.GBs(jp,5),t.GBs(Pp,5)),2&r){let a;t.mGM(a=t.lsd())&&(o.mask=a.first),t.mGM(a=t.lsd())&&(o.container=a.first)}},hostAttrs:[1,"p-element"],inputs:{activeIndex:"activeIndex",fullScreen:"fullScreen",id:"id",value:"value",numVisible:"numVisible",responsiveOptions:"responsiveOptions",showItemNavigators:"showItemNavigators",showThumbnailNavigators:"showThumbnailNavigators",showItemNavigatorsOnHover:"showItemNavigatorsOnHover",changeItemOnIndicatorHover:"changeItemOnIndicatorHover",circular:"circular",autoPlay:"autoPlay",shouldStopAutoplayByClick:"shouldStopAutoplayByClick",transitionInterval:"transitionInterval",showThumbnails:"showThumbnails",thumbnailsPosition:"thumbnailsPosition",verticalThumbnailViewPortHeight:"verticalThumbnailViewPortHeight",showIndicators:"showIndicators",showIndicatorsOnItem:"showIndicatorsOnItem",indicatorsPosition:"indicatorsPosition",baseZIndex:"baseZIndex",maskClass:"maskClass",containerClass:"containerClass",containerStyle:"containerStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",visible:"visible"},outputs:{activeIndexChange:"activeIndexChange",visibleChange:"visibleChange"},features:[t.OA$],decls:3,vars:2,consts:[["windowed",""],["container",""],["mask",""],[4,"ngIf","ngIfElse"],[3,"ngClass","class",4,"ngIf"],[3,"ngClass"],[3,"value","activeIndex","numVisible","ngStyle","maskHide","activeItemChange",4,"ngIf"],[3,"maskHide","activeItemChange","value","activeIndex","numVisible","ngStyle"],[3,"activeItemChange","value","activeIndex","numVisible"]],template:function(r,o){if(1&r&&t.DNE(0,Np,3,1,"div",3)(1,Up,1,3,"ng-template",null,0,t.C5r),2&r){const a=t.sdS(2);t.Y8G("ngIf",o.fullScreen)("ngIfElse",a)}},dependencies:()=>[h.YU,h.bT,h.B3,Pu],styles:["@layer primeng{.p-galleria-content{display:flex;flex-direction:column}.p-galleria-item-wrapper{display:flex;flex-direction:column;position:relative}.p-galleria-item-container{position:relative;display:flex;height:100%}.p-galleria-item-nav{position:absolute;top:50%;margin-top:-.5rem;display:inline-flex;justify-content:center;align-items:center;overflow:hidden}.p-galleria-item-prev{left:0;border-top-left-radius:0;border-bottom-left-radius:0}.p-galleria-item-next{right:0;border-top-right-radius:0;border-bottom-right-radius:0}.p-galleria-item{display:flex;justify-content:center;align-items:center;height:100%;width:100%}.p-galleria-item-nav-onhover .p-galleria-item-nav{pointer-events:none;opacity:0;transition:opacity .2s ease-in-out}.p-galleria-item-nav-onhover .p-galleria-item-wrapper:hover .p-galleria-item-nav{pointer-events:all;opacity:1}.p-galleria-item-nav-onhover .p-galleria-item-wrapper:hover .p-galleria-item-nav.p-disabled{pointer-events:none}.p-galleria-caption{position:absolute;bottom:0;left:0;width:100%}.p-galleria-thumbnail-wrapper{display:flex;flex-direction:column;overflow:auto;flex-shrink:0}.p-galleria-thumbnail-prev,.p-galleria-thumbnail-next{align-self:center;flex:0 0 auto;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-galleria-thumbnail-prev span,.p-galleria-thumbnail-next span{display:flex;justify-content:center;align-items:center}.p-galleria-thumbnail-container{display:flex;flex-direction:row}.p-galleria-thumbnail-items-container{overflow:hidden;width:100%}.p-galleria-thumbnail-items{display:flex}.p-galleria-thumbnail-item{overflow:auto;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:.5}.p-galleria-thumbnail-item:hover{opacity:1;transition:opacity .3s}.p-galleria-thumbnail-item-current{opacity:1}.p-galleria-thumbnails-left .p-galleria-content,.p-galleria-thumbnails-right .p-galleria-content,.p-galleria-thumbnails-left .p-galleria-item-wrapper,.p-galleria-thumbnails-right .p-galleria-item-wrapper{flex-direction:row}.p-galleria-thumbnails-left p-galleriaitem,.p-galleria-thumbnails-top p-galleriaitem{order:2}.p-galleria-thumbnails-left p-galleriathumbnails,.p-galleria-thumbnails-top p-galleriathumbnails{order:1}.p-galleria-thumbnails-left .p-galleria-thumbnail-container,.p-galleria-thumbnails-right .p-galleria-thumbnail-container{flex-direction:column;flex-grow:1}.p-galleria-thumbnails-left .p-galleria-thumbnail-items,.p-galleria-thumbnails-right .p-galleria-thumbnail-items{flex-direction:column;height:100%}.p-galleria-thumbnails-left .p-galleria-thumbnail-wrapper,.p-galleria-thumbnails-right .p-galleria-thumbnail-wrapper{height:100%}.p-galleria-indicators{display:flex;align-items:center;justify-content:center}.p-galleria-indicator>button{display:inline-flex;align-items:center}.p-galleria-indicators-left .p-galleria-item-wrapper,.p-galleria-indicators-right .p-galleria-item-wrapper{flex-direction:row;align-items:center}.p-galleria-indicators-left .p-galleria-item-container,.p-galleria-indicators-top .p-galleria-item-container{order:2}.p-galleria-indicators-left .p-galleria-indicators,.p-galleria-indicators-top .p-galleria-indicators{order:1}.p-galleria-indicators-left .p-galleria-indicators,.p-galleria-indicators-right .p-galleria-indicators{flex-direction:column}.p-galleria-indicator-onitem .p-galleria-indicators{position:absolute;display:flex;z-index:1}.p-galleria-indicator-onitem.p-galleria-indicators-top .p-galleria-indicators{top:0;left:0;width:100%;align-items:flex-start}.p-galleria-indicator-onitem.p-galleria-indicators-right .p-galleria-indicators{right:0;top:0;height:100%;align-items:flex-end}.p-galleria-indicator-onitem.p-galleria-indicators-bottom .p-galleria-indicators{bottom:0;left:0;width:100%;align-items:flex-end}.p-galleria-indicator-onitem.p-galleria-indicators-left .p-galleria-indicators{left:0;top:0;height:100%;align-items:flex-start}.p-galleria-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:transparent;transition-property:background-color}.p-galleria-close{position:absolute;top:0;right:0;display:flex;justify-content:center;align-items:center;overflow:hidden}.p-galleria-mask .p-galleria-item-nav{position:fixed;top:50%;margin-top:-.5rem}.p-galleria-mask.p-galleria-mask-leave{background-color:transparent}.p-items-hidden .p-galleria-thumbnail-item{visibility:hidden}.p-items-hidden .p-galleria-thumbnail-item.p-galleria-thumbnail-item-active{visibility:visible}}\n"],encapsulation:2,data:{animation:[(0,ge.hZ)("animation",[(0,ge.kY)("void => visible",[(0,ge.iF)({transform:"scale(0.7)",opacity:0}),(0,ge.i0)("{{showTransitionParams}}")]),(0,ge.kY)("visible => void",[(0,ge.i0)("{{hideTransitionParams}}",(0,ge.iF)({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0})}return n})(),Pu=(()=>{class n{galleria;cd;differs;config;get activeIndex(){return this._activeIndex}set activeIndex(i){this._activeIndex=i}value=[];numVisible;maskHide=new t.bkB;activeItemChange=new t.bkB;closeButton;id;_activeIndex=0;slideShowActive=!0;interval;styleClass;differ;constructor(i,r,o,a){this.galleria=i,this.cd=r,this.differs=o,this.config=a,this.id=this.galleria.id||(0,q._Y)(),this.differ=this.differs.find(this.galleria).create()}ngDoCheck(){if((0,h.UE)(this.galleria.platformId)){const i=this.differ.diff(this.galleria);i&&i.forEachItem.length>0&&this.cd.markForCheck()}}galleriaClass(){const i=this.galleria.showThumbnails&&this.getPositionClass("p-galleria-thumbnails",this.galleria.thumbnailsPosition),r=this.galleria.showIndicators&&this.getPositionClass("p-galleria-indicators",this.galleria.indicatorsPosition);return(this.galleria.containerClass?this.galleria.containerClass+" ":"")+(i?i+" ":"")+(r?r+" ":"")}startSlideShow(){(0,h.UE)(this.galleria.platformId)&&(this.interval=setInterval(()=>{let i=this.galleria.circular&&this.value.length-1===this.activeIndex?0:this.activeIndex+1;this.onActiveIndexChange(i),this.activeIndex=i},this.galleria.transitionInterval),this.slideShowActive=!0)}stopSlideShow(){this.galleria.autoPlay&&!this.galleria.shouldStopAutoplayByClick||(this.interval&&clearInterval(this.interval),this.slideShowActive=!1)}getPositionClass(i,r){const a=["top","left","bottom","right"].find(l=>l===r);return a?`${i}-${a}`:""}isVertical(){return"left"===this.galleria.thumbnailsPosition||"right"===this.galleria.thumbnailsPosition}onActiveIndexChange(i){this.activeIndex!==i&&(this.activeIndex=i,this.activeItemChange.emit(this.activeIndex))}closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}static \u0275fac=function(r){return new(r||n)(t.rXU(Ht),t.rXU(t.gRc),t.rXU(t.MKu),t.rXU(L.r1))};static \u0275cmp=t.VBU({type:n,selectors:[["p-galleriaContent"]],viewQuery:function(r,o){if(1&r&&t.GBs($p,5),2&r){let a;t.mGM(a=t.lsd())&&(o.closeButton=a.first)}},inputs:{activeIndex:"activeIndex",value:"value",numVisible:"numVisible"},outputs:{maskHide:"maskHide",activeItemChange:"activeItemChange"},decls:1,vars:1,consts:[["pFocusTrap","",3,"ngClass","ngStyle","class",4,"ngIf"],["pFocusTrap","",3,"ngClass","ngStyle"],["type","button","class","p-galleria-close p-link","pRipple","",3,"click",4,"ngIf"],["class","p-galleria-header",4,"ngIf"],[1,"p-galleria-content"],[3,"onActiveIndexChange","startSlideShow","stopSlideShow","id","value","activeIndex","circular","templates","showIndicators","changeItemOnIndicatorHover","indicatorFacet","captionFacet","showItemNavigators","autoPlay","slideShowActive"],[3,"containerId","value","activeIndex","templates","numVisible","responsiveOptions","circular","isVertical","contentHeight","showThumbnailNavigators","slideShowActive","onActiveIndexChange","stopSlideShow",4,"ngIf"],["class","p-galleria-footer",4,"ngIf"],["type","button","pRipple","",1,"p-galleria-close","p-link",3,"click"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],[1,"p-galleria-header"],["type","header",3,"templates"],[3,"onActiveIndexChange","stopSlideShow","containerId","value","activeIndex","templates","numVisible","responsiveOptions","circular","isVertical","contentHeight","showThumbnailNavigators","slideShowActive"],[1,"p-galleria-footer"],["type","footer",3,"templates"]],template:function(r,o){1&r&&t.DNE(0,Zp,7,28,"div",0),2&r&&t.Y8G("ngIf",o.value&&o.value.length>0)},dependencies:()=>[h.YU,h.bT,h.T3,h.B3,J.n,Pe.A,ji.s,Ai,Au,Lu],encapsulation:2,changeDetection:0})}return n})(),Ai=(()=>{class n{templates;index;get item(){return this._item}set item(i){this._item=i,this.templates&&this.templates.forEach(r=>{if(r.getType()===this.type)switch(this.type){case"item":case"caption":case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=r.template}})}type;contentTemplate;context;_item;ngAfterContentInit(){this.templates?.forEach(i=>{if(i.getType()===this.type)switch(this.type){case"item":case"caption":case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=i.template;break;case"indicator":this.context={$implicit:this.index},this.contentTemplate=i.template;break;default:this.context={},this.contentTemplate=i.template}})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=t.VBU({type:n,selectors:[["p-galleriaItemSlot"]],inputs:{templates:"templates",index:"index",item:"item",type:"type"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,o){1&r&&t.DNE(0,tu,2,2,"ng-container",0),2&r&&t.Y8G("ngIf",o.contentTemplate)},dependencies:[h.bT,h.T3],encapsulation:2,changeDetection:0})}return n})(),Au=(()=>{class n{galleria;id;circular=!1;value;showItemNavigators=!1;showIndicators=!0;slideShowActive=!0;changeItemOnIndicatorHover=!0;autoPlay=!1;templates;indicatorFacet;captionFacet;startSlideShow=new t.bkB;stopSlideShow=new t.bkB;onActiveIndexChange=new t.bkB;get activeIndex(){return this._activeIndex}set activeIndex(i){this._activeIndex=i}get activeItem(){return this.value&&this.value[this._activeIndex]}_activeIndex=0;constructor(i){this.galleria=i}ngOnChanges({autoPlay:i}){i?.currentValue&&this.startSlideShow.emit(),i&&!1===i.currentValue&&this.stopTheSlideShow()}next(){this.onActiveIndexChange.emit(this.circular&&this.value.length-1===this.activeIndex?0:this.activeIndex+1)}prev(){this.onActiveIndexChange.emit(this.circular&&0===this.activeIndex?this.value.length-1:0!==this.activeIndex?this.activeIndex-1:0)}stopTheSlideShow(){this.slideShowActive&&this.stopSlideShow&&this.stopSlideShow.emit()}navForward(i){this.stopTheSlideShow(),this.next(),i&&i.cancelable&&i.preventDefault()}navBackward(i){this.stopTheSlideShow(),this.prev(),i&&i.cancelable&&i.preventDefault()}onIndicatorClick(i){this.stopTheSlideShow(),this.onActiveIndexChange.emit(i)}onIndicatorMouseEnter(i){this.changeItemOnIndicatorHover&&(this.stopTheSlideShow(),this.onActiveIndexChange.emit(i))}onIndicatorKeyDown(i,r){switch(i.code){case"Enter":case"Space":this.stopTheSlideShow(),this.onActiveIndexChange.emit(r),i.preventDefault();break;case"ArrowDown":case"ArrowUp":i.preventDefault()}}isNavForwardDisabled(){return!this.circular&&this.activeIndex===this.value.length-1}isNavBackwardDisabled(){return!this.circular&&0===this.activeIndex}isIndicatorItemActive(i){return this.activeIndex===i}ariaSlideLabel(){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.slide:void 0}ariaSlideNumber(i){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.slideNumber.replace(/{slideNumber}/g,i):void 0}ariaPageLabel(i){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.pageLabel.replace(/{page}/g,i):void 0}static \u0275fac=function(r){return new(r||n)(t.rXU(Ht))};static \u0275cmp=t.VBU({type:n,selectors:[["p-galleriaItem"]],inputs:{id:"id",circular:"circular",value:"value",showItemNavigators:"showItemNavigators",showIndicators:"showIndicators",slideShowActive:"slideShowActive",changeItemOnIndicatorHover:"changeItemOnIndicatorHover",autoPlay:"autoPlay",templates:"templates",indicatorFacet:"indicatorFacet",captionFacet:"captionFacet",activeIndex:"activeIndex"},outputs:{startSlideShow:"startSlideShow",stopSlideShow:"stopSlideShow",onActiveIndexChange:"onActiveIndexChange"},features:[t.OA$],decls:8,vars:11,consts:[[1,"p-galleria-item-wrapper"],[1,"p-galleria-item-container"],["type","button","role","navigation","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],["role","group",3,"id"],["type","item",1,"p-galleria-item",3,"item","templates"],["type","button","pRipple","","role","navigation",3,"ngClass","disabled","click",4,"ngIf"],["class","p-galleria-caption",4,"ngIf"],["class","p-galleria-indicators p-reset",4,"ngIf"],["type","button","role","navigation","pRipple","",3,"click","ngClass","disabled"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],["type","button","pRipple","","role","navigation",3,"click","ngClass","disabled"],[1,"p-galleria-caption"],["type","caption",3,"item","templates"],[1,"p-galleria-indicators","p-reset"],["tabindex","0",3,"ngClass","click","mouseenter","keydown",4,"ngFor","ngForOf"],["tabindex","0",3,"click","mouseenter","keydown","ngClass"],["type","button","tabIndex","-1","class","p-link",4,"ngIf"],["type","indicator",3,"index","templates"],["type","button","tabIndex","-1",1,"p-link"]],template:function(r,o){1&r&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,lu,3,6,"button",2),t.j41(3,"div",3),t.nrm(4,"p-galleriaItemSlot",4),t.k0s(),t.DNE(5,uu,3,6,"button",5)(6,_u,2,2,"div",6),t.k0s(),t.DNE(7,fu,2,1,"ul",7),t.k0s()),2&r&&(t.R7$(2),t.Y8G("ngIf",o.showItemNavigators),t.R7$(),t.xc7("width","100%"),t.Y8G("id",o.id+"_item_"+o.activeIndex),t.BMQ("aria-label",o.ariaSlideNumber(o.activeIndex+1))("aria-roledescription",o.ariaSlideLabel()),t.R7$(),t.Y8G("item",o.activeItem)("templates",o.templates),t.R7$(),t.Y8G("ngIf",o.showItemNavigators),t.R7$(),t.Y8G("ngIf",o.captionFacet),t.R7$(),t.Y8G("ngIf",o.showIndicators))},dependencies:()=>[h.YU,h.Sq,h.bT,h.T3,J.n,Tt.v,$t.Y,Ai],encapsulation:2,changeDetection:0})}return n})(),Lu=(()=>{class n{galleria;document;platformId;renderer;cd;containerId;value;isVertical=!1;slideShowActive=!1;circular=!1;responsiveOptions;contentHeight="300px";showThumbnailNavigators=!0;templates;onActiveIndexChange=new t.bkB;stopSlideShow=new t.bkB;itemsContainer;get numVisible(){return this._numVisible}set numVisible(i){this._numVisible=i,this._oldNumVisible=this.d_numVisible,this.d_numVisible=i}get activeIndex(){return this._activeIndex}set activeIndex(i){this._oldactiveIndex=this._activeIndex,this._activeIndex=i}index;startPos=null;thumbnailsStyle=null;sortedResponsiveOptions=null;totalShiftedItems=0;page=0;documentResizeListener;_numVisible=0;d_numVisible=0;_oldNumVisible=0;_activeIndex=0;_oldactiveIndex=0;constructor(i,r,o,a,l){this.galleria=i,this.document=r,this.platformId=o,this.renderer=a,this.cd=l}ngOnInit(){(0,h.UE)(this.platformId)&&(this.createStyle(),this.responsiveOptions&&this.bindDocumentListeners())}ngAfterContentChecked(){let i=this.totalShiftedItems;(this._oldNumVisible!==this.d_numVisible||this._oldactiveIndex!==this._activeIndex)&&this.itemsContainer&&(i=this._activeIndex<=this.getMedianItemIndex()?0:this.value.length-this.d_numVisible+this.getMedianItemIndex()<this._activeIndex?this.d_numVisible-this.value.length:this.value.length-this.d_numVisible<this._activeIndex&&this.d_numVisible%2==0?-1*this._activeIndex+this.getMedianItemIndex()+1:-1*this._activeIndex+this.getMedianItemIndex(),i!==this.totalShiftedItems&&(this.totalShiftedItems=i),this.itemsContainer&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical?`translate3d(0, ${i*(100/this.d_numVisible)}%, 0)`:`translate3d(${i*(100/this.d_numVisible)}%, 0, 0)`),this._oldactiveIndex!==this._activeIndex&&(Q.D.removeClass(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this._oldactiveIndex=this._activeIndex,this._oldNumVisible=this.d_numVisible)}ngAfterViewInit(){(0,Ct.sG)(this.platformId)&&this.calculatePosition()}createStyle(){this.thumbnailsStyle||(this.thumbnailsStyle=this.document.createElement("style"),this.document.body.appendChild(this.thumbnailsStyle));let i=`\n            #${this.containerId} .p-galleria-thumbnail-item {\n                flex: 1 0 ${100/this.d_numVisible}%\n            }\n        `;if(this.responsiveOptions){this.sortedResponsiveOptions=[...this.responsiveOptions],this.sortedResponsiveOptions.sort((r,o)=>{const a=r.breakpoint,l=o.breakpoint;let p=null;return p=null==a&&null!=l?-1:null!=a&&null==l?1:null==a&&null==l?0:"string"==typeof a&&"string"==typeof l?a.localeCompare(l,void 0,{numeric:!0}):a<l?-1:a>l?1:0,-1*p});for(let r=0;r<this.sortedResponsiveOptions.length;r++){let o=this.sortedResponsiveOptions[r];i+=`\n                    @media screen and (max-width: ${o.breakpoint}) {\n                        #${this.containerId} .p-galleria-thumbnail-item {\n                            flex: 1 0 ${100/o.numVisible}%\n                        }\n                    }\n                `}}this.thumbnailsStyle.innerHTML=i}calculatePosition(){if((0,h.UE)(this.platformId)&&this.itemsContainer&&this.sortedResponsiveOptions){let i=window.innerWidth,r={numVisible:this._numVisible};for(let o=0;o<this.sortedResponsiveOptions.length;o++){let a=this.sortedResponsiveOptions[o];parseInt(a.breakpoint,10)>=i&&(r=a)}this.d_numVisible!==r.numVisible&&(this.d_numVisible=r.numVisible,this.cd.markForCheck())}}getTabIndex(i){return this.isItemActive(i)?0:null}navForward(i){this.stopTheSlideShow();let r=this._activeIndex+1;r+this.totalShiftedItems>this.getMedianItemIndex()&&(-1*this.totalShiftedItems<this.getTotalPageNumber()-1||this.circular)&&this.step(-1),this.onActiveIndexChange.emit(this.circular&&this.value.length-1===this._activeIndex?0:r),i.cancelable&&i.preventDefault()}navBackward(i){this.stopTheSlideShow();let r=0!==this._activeIndex?this._activeIndex-1:0;this.d_numVisible-(r+this.totalShiftedItems)-1>this.getMedianItemIndex()&&(-1*this.totalShiftedItems!=0||this.circular)&&this.step(1),this.onActiveIndexChange.emit(this.circular&&0===this._activeIndex?this.value.length-1:r),i.cancelable&&i.preventDefault()}onItemClick(i){this.stopTheSlideShow();let r=i;if(r!==this._activeIndex){const o=r+this.totalShiftedItems;let a=0;r<this._activeIndex?(a=this.d_numVisible-o-1-this.getMedianItemIndex(),a>0&&-1*this.totalShiftedItems!=0&&this.step(a)):(a=this.getMedianItemIndex()-o,a<0&&-1*this.totalShiftedItems<this.getTotalPageNumber()-1&&this.step(a)),this.activeIndex=r,this.onActiveIndexChange.emit(this.activeIndex)}}onThumbnailKeydown(i,r){switch(("Enter"===i.code||"Space"===i.code)&&(this.onItemClick(r),i.preventDefault()),i.code){case"ArrowRight":this.onRightKey();break;case"ArrowLeft":this.onLeftKey();break;case"Home":this.onHomeKey(),i.preventDefault();break;case"End":this.onEndKey(),i.preventDefault();break;case"ArrowUp":case"ArrowDown":i.preventDefault();break;case"Tab":this.onTabKey()}}onRightKey(){const i=Q.D.find(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]'),r=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(r,r+1===i.length?i.length-1:r+1)}onLeftKey(){const i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,i-1<=0?0:i-1)}onHomeKey(){const i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,0)}onEndKey(){const i=Q.D.find(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]'),r=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(r,i.length-1)}onTabKey(){const i=[...Q.D.find(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]')],r=i.findIndex(l=>!0===Q.D.getAttribute(l,"data-p-active")),o=Q.D.findSingle(this.itemsContainer.nativeElement,'[tabindex="0"]'),a=i.findIndex(l=>l===o.parentElement);i[a].children[0].tabIndex="-1",i[r].children[0].tabIndex="0"}findFocusedIndicatorIndex(){const i=[...Q.D.find(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]')],r=Q.D.findSingle(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"] > [tabindex="0"]');return i.findIndex(o=>o===r.parentElement)}changedFocusedIndicator(i,r){const o=Q.D.find(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]');o[i].children[0].tabIndex="-1",o[r].children[0].tabIndex="0",o[r].children[0].focus()}step(i){let r=this.totalShiftedItems+i;i<0&&-1*r+this.d_numVisible>this.value.length-1?r=this.d_numVisible-this.value.length:i>0&&r>0&&(r=0),this.circular&&(i<0&&this.value.length-1===this._activeIndex?r=0:i>0&&0===this._activeIndex&&(r=this.d_numVisible-this.value.length)),this.itemsContainer&&(Q.D.removeClass(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transform=this.isVertical?`translate3d(0, ${r*(100/this.d_numVisible)}%, 0)`:`translate3d(${r*(100/this.d_numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=r}stopTheSlideShow(){this.slideShowActive&&this.stopSlideShow&&this.stopSlideShow.emit()}changePageOnTouch(i,r){r<0?this.navForward(i):this.navBackward(i)}getTotalPageNumber(){return this.value.length>this.d_numVisible?this.value.length-this.d_numVisible+1:0}getMedianItemIndex(){let i=Math.floor(this.d_numVisible/2);return this.d_numVisible%2?i:i-1}onTransitionEnd(){this.itemsContainer&&this.itemsContainer.nativeElement&&(Q.D.addClass(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transition="")}onTouchEnd(i){let r=i.changedTouches[0];this.changePageOnTouch(i,this.isVertical?r.pageY-this.startPos.y:r.pageX-this.startPos.x)}onTouchMove(i){i.cancelable&&i.preventDefault()}onTouchStart(i){let r=i.changedTouches[0];this.startPos={x:r.pageX,y:r.pageY}}isNavBackwardDisabled(){return!this.circular&&0===this._activeIndex||this.value.length<=this.d_numVisible}isNavForwardDisabled(){return!this.circular&&this._activeIndex===this.value.length-1||this.value.length<=this.d_numVisible}firstItemAciveIndex(){return-1*this.totalShiftedItems}lastItemActiveIndex(){return this.firstItemAciveIndex()+this.d_numVisible-1}isItemActive(i){return this.firstItemAciveIndex()<=i&&this.lastItemActiveIndex()>=i}bindDocumentListeners(){(0,h.UE)(this.platformId)&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView||"window","resize",()=>{this.calculatePosition()}))}unbindDocumentListeners(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.thumbnailsStyle&&this.thumbnailsStyle.parentNode?.removeChild(this.thumbnailsStyle)}ariaPrevButtonLabel(){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.prevPageLabel:void 0}ariaNextButtonLabel(){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.nextPageLabel:void 0}ariaPageLabel(i){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.pageLabel.replace(/{page}/g,i):void 0}static \u0275fac=function(r){return new(r||n)(t.rXU(Ht),t.rXU(h.qQ),t.rXU(t.Agw),t.rXU(t.sFG),t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:n,selectors:[["p-galleriaThumbnails"]],viewQuery:function(r,o){if(1&r&&t.GBs(gu,5),2&r){let a;t.mGM(a=t.lsd())&&(o.itemsContainer=a.first)}},inputs:{containerId:"containerId",value:"value",isVertical:"isVertical",slideShowActive:"slideShowActive",circular:"circular",responsiveOptions:"responsiveOptions",contentHeight:"contentHeight",showThumbnailNavigators:"showThumbnailNavigators",templates:"templates",numVisible:"numVisible",activeIndex:"activeIndex"},outputs:{onActiveIndexChange:"onActiveIndexChange",stopSlideShow:"stopSlideShow"},decls:8,vars:6,consts:[["itemsContainer",""],[1,"p-galleria-thumbnail-wrapper"],[1,"p-galleria-thumbnail-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-galleria-thumbnail-items-container",3,"ngStyle"],["role","tablist",1,"p-galleria-thumbnail-items",3,"transitionend","touchstart","touchmove"],[3,"ngClass","keydown",4,"ngFor","ngForOf"],["type","button","pRipple","",3,"click","ngClass","disabled"],[4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[3,"keydown","ngClass"],[1,"p-galleria-thumbnail-item-content",3,"click","touchend","keydown.enter"],["type","thumbnail",3,"item","templates"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(r,o){if(1&r){const a=t.RV6();t.j41(0,"div",1)(1,"div",2),t.DNE(2,Su,3,7,"button",3),t.j41(3,"div",4)(4,"div",5,0),t.bIt("transitionend",function(){return t.eBV(a),t.Njj(o.onTransitionEnd())})("touchstart",function(p){return t.eBV(a),t.Njj(o.onTouchStart(p))})("touchmove",function(p){return t.eBV(a),t.Njj(o.onTouchMove(p))}),t.DNE(6,ku,3,15,"div",6),t.k0s()(),t.DNE(7,ju,3,7,"button",3),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngIf",o.showThumbnailNavigators),t.R7$(),t.Y8G("ngStyle",t.eq3(4,bu,o.isVertical?o.contentHeight:"")),t.R7$(3),t.Y8G("ngForOf",o.value),t.R7$(),t.Y8G("ngIf",o.showThumbnailNavigators))},dependencies:()=>[h.YU,h.Sq,h.bT,h.T3,h.B3,J.n,Tt.v,$t.Y,Ai],encapsulation:2,changeDetection:0})}return n})(),Gn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD,L.Gg,J.Z,Pe.A,Tt.v,$t.Y,Mp.Y,Rp.o,ji.A,h.MD,L.Gg]})}return n})();var Ce=_(9114),Te=_(6150),Bu=_(102),Ve=_(7197);const Vu=["filter"],Gu=()=>["id","nom","description","quantite","article.nom","dataqr","prixUnitaire","dateFabrication","dateExpiration"],Nu=()=>[5,10,20,30],Uu=()=>({width:"75rem"}),$u=()=>["prixHistoriqueAchat","quantiteHistoriqueAchat","dateMisAjoure"],Hu=()=>[10,20,30],Ku=()=>({"background-color":"#b9c7ce",color:"#1a1717"}),Xu=()=>({"max-width":"640px"}),zu=(n,s,i)=>({instock:n,lowstock:s,outofstock:i});function Yu(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",15)(1,"button",16),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.newProduit())}),t.k0s(),t.j41(2,"button",17),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.refresh())}),t.k0s()()}}function Wu(n,s){if(1&n&&t.nrm(0,"p-avatar",20),2&n){const i=t.XpG(2);t.Aen(t.lJ4(3,Ku)),t.Y8G("value",i.produits.length+"")}}function Qu(n,s){if(1&n&&(t.j41(0,"div",18),t.DNE(1,Wu,1,4,"p-avatar",19),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",i.displayusers)}}function qu(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",21)(1,"h5",22),t.EFF(2,"gestion des produits"),t.k0s(),t.j41(3,"span",23),t.nrm(4,"i",24),t.j41(5,"input",25),t.bIt("input",function(o){t.eBV(i);const a=t.XpG(),l=t.sdS(8);return t.Njj(a.onGlobalFilter(l,o))}),t.k0s()()()}}function Ju(n,s){1&n&&(t.j41(0,"tr")(1,"th",26),t.nrm(2,"p-tableHeaderCheckbox"),t.k0s(),t.j41(3,"th",27),t.EFF(4,"Code "),t.nrm(5,"p-sortIcon",28),t.k0s(),t.j41(6,"th",29),t.EFF(7,"Nom "),t.nrm(8,"p-sortIcon",30),t.k0s(),t.j41(9,"th"),t.EFF(10,"Image"),t.k0s(),t.j41(11,"th",31),t.EFF(12,"Prix "),t.nrm(13,"p-sortIcon",32),t.k0s(),t.j41(14,"th",33),t.EFF(15,"Article "),t.nrm(16,"p-sortIcon",34),t.k0s(),t.j41(17,"th",35),t.EFF(18,"Quantit\xe9 "),t.nrm(19,"p-sortIcon",36),t.k0s(),t.j41(20,"th",37),t.EFF(21,"Etat de Stock "),t.nrm(22,"p-sortIcon",38),t.k0s(),t.nrm(23,"th"),t.k0s())}function Zu(n,s){1&n&&t.nrm(0,"img",52)}function e_(n,s){1&n&&t.nrm(0,"img",53),2&n&&t.Y8G("src",s.$implicit,t.B4B)}function t_(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.nrm(2,"p-tableCheckbox",39),t.k0s(),t.j41(3,"td",40)(4,"span",41),t.EFF(5,"Code"),t.k0s(),t.EFF(6),t.k0s(),t.j41(7,"td",40)(8,"span",41),t.EFF(9,"Nom"),t.k0s(),t.EFF(10),t.k0s(),t.j41(11,"td",42)(12,"span",41),t.EFF(13,"Image"),t.k0s(),t.DNE(14,Zu,1,0,"ng-template",43),t.j41(15,"p-galleria",44),t.DNE(16,e_,1,1,"ng-template",45),t.k0s()(),t.j41(17,"td",46)(18,"span",41),t.EFF(19,"Prix"),t.k0s(),t.EFF(20),t.nI1(21,"number"),t.k0s(),t.j41(22,"td",40)(23,"span",41),t.EFF(24,"Article"),t.k0s(),t.EFF(25),t.k0s(),t.j41(26,"td",40)(27,"span",41),t.EFF(28,"Quantit\xe9"),t.k0s(),t.EFF(29),t.k0s(),t.j41(30,"td",40)(31,"span",41),t.EFF(32,"Etat de Stock"),t.k0s(),t.j41(33,"span",47),t.EFF(34),t.k0s()(),t.j41(35,"td")(36,"div",48)(37,"button",49),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.modifierProduit(o.id))}),t.k0s(),t.j41(38,"button",50),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.supprimerProduit(o.id))}),t.k0s(),t.j41(39,"button",51),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.showDetail(o.id))}),t.k0s()()()()}if(2&n){const i=s.$implicit,r=t.XpG();t.R7$(2),t.Y8G("value",i),t.R7$(4),t.SpI("",i.dataqr," "),t.R7$(4),t.SpI("",i.nom," "),t.R7$(4),t.Y8G("ngIf",0==r.loadFileByProduct(i).length),t.R7$(),t.Y8G("value",r.loadFileByProduct(i))("numVisible",5)("circular",!0)("showItemNavigators",!0)("showThumbnails",!1)("responsiveOptions",r.responsiveOptions)("containerStyle",t.lJ4(19,Xu)),t.R7$(5),t.SpI(" ",t.i5U(21,16,i.prixUnitaire+i.gainUnitaire,"1.3-3")," TND "),t.R7$(5),t.JRh(i.article.nom),t.R7$(4),t.SpI("",i.qantite," "),t.R7$(4),t.Y8G("ngClass",t.sMw(20,zu,i.qantite>i.levelstock,i.qantite>0&&i.qantite<=i.levelstock,0==i.qantite)),t.R7$(),t.SpI(" ",i.qantite>i.levelstock?"INSTOCK":0==i.qantite?"OUTOFSTOCK":"LOWSTOCK"," ")}}function i_(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",21)(1,"h5",22),t.EFF(2,"Details suplimentaire sur le changement de prix"),t.k0s(),t.j41(3,"span",23),t.nrm(4,"i",24),t.j41(5,"input",54),t.bIt("input",function(o){t.eBV(i);const a=t.XpG(),l=t.sdS(14);return t.Njj(a.onGlobalFilter(l,o))}),t.k0s()()()}}function n_(n,s){1&n&&(t.j41(0,"tr")(1,"th",55),t.EFF(2,"Prix Historique d'Achat "),t.nrm(3,"p-sortIcon",56),t.k0s(),t.j41(4,"th",57),t.EFF(5,"Quantite Historique d'Achat "),t.nrm(6,"p-sortIcon",58),t.k0s(),t.j41(7,"th",59),t.EFF(8,"dateMisAjoure "),t.nrm(9,"p-sortIcon",60),t.k0s()())}function o_(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",40)(2,"span",41),t.EFF(3,"Code"),t.k0s(),t.EFF(4),t.k0s(),t.j41(5,"td",40)(6,"span",41),t.EFF(7,"Nom"),t.k0s(),t.EFF(8),t.k0s(),t.j41(9,"td",40)(10,"span",41),t.EFF(11,"Telephone"),t.k0s(),t.EFF(12),t.k0s()()),2&n){const i=s.$implicit;t.R7$(4),t.SpI("",i.prixHistoriqueAchat," "),t.R7$(4),t.SpI("",i.quantiteHistoriqueAchat," "),t.R7$(4),t.SpI("",i.dateMisAjoure," ")}}let r_=(()=>{class n{constructor(i,r,o,a,l,p){this.productService=i,this.produitService=r,this.messageService=o,this.confirmationService=a,this.router=l,this.sanitizer=p,this.imageUrl="",this.produits=[],this.historiques=[],this.selectedProducts=[],this.deleteProductsDialog=!1,this.displayusers=!0,this.images=[],this.visible=!1,this.loadingdata=!1,this.loading=!1,this.defaultImageUrl="../../assets/no-picture-taking.png",this.JSON=JSON,this.visibleShowDetails=!1}ngOnInit(){this.getAllProduits()}clear(i){i.clear(),this.filter.nativeElement.value=""}getAllProduits(){this.loadingdata=!0,this.produitService.getProduits().subscribe(i=>{this.produits=i,console.log((new h.TG).transform(this.produits)),this.loadingdata=!1},i=>{this.displayusers=!1,this.messageService.add({severity:"error",summary:"Oops...",detail:"Vous n'avez pas la permission, s'il vous pla\xeet contacter l'administrateur."}),this.loadingdata=!1})}supprimerProduit(i){$().fire({title:"\xcates-vous s\xfbr ?",text:"Voulez-vous supprimer ce produit ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler"}).then(r=>{r.isConfirmed?this.produitService.supprimerProduit(i).subscribe(o=>{console.log(o),o?(this.getAllProduits(),$().fire("Supprim\xe9",o.message,"success")):$().fire("Erreur","La suppression a r\xe9ussi, mais aucun message de confirmation n'a \xe9t\xe9 re\xe7u.","error")},o=>{console.error("Erreur lors de la suppression :",o),$().fire("Erreur","Une erreur est survenue lors de la suppression. Veuillez consulter la console pour plus d'informations.","error")}):r.dismiss===$().DismissReason.cancel&&$().fire("Annul\xe9","La suppression a \xe9t\xe9 annul\xe9e","info")})}onGlobalFilter(i,r){i.filterGlobal(r.target.value,"contains")}modifierProduit(i){this.router.navigate(["/uikit/edit-produit",i])}newProduit(){this.router.navigate(["/uikit/ajout-produit"])}loadFileByProduct(i){let r=[];return i&&i.files&&i.files.length>0&&i.files.forEach(o=>{if(o&&o.path){this.imageUrl=`http://localhost:8081/img/${o.name}`;let a=this.sanitizer.bypassSecurityTrustUrl(this.imageUrl);r.push(a)}}),r}deleteSelectedProducts(){this.deleteProductsDialog=!0}refresh(){this.getAllProduits(),this.router.navigate(["/uikit/produits"])}showDetail(i){this.visibleShowDetails=!0,this.produitService.getHistoriques(i).subscribe(r=>{this.historiques=r},r=>{console.error(r)}),console.log(this.historiques)}closeShowDetails(){this.visibleShowDetails=!1}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(Bu.b),t.rXU(Ve.D),t.rXU(L.bg),t.rXU(L.td),t.rXU(c.Ix),t.rXU(Ct.up))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-produits"]],viewQuery:function(r,o){if(1&r&&t.GBs(Vu,5),2&r){let a;t.mGM(a=t.lsd())&&(o.filter=a.first)}},standalone:!0,features:[t.aNF],decls:20,vars:24,consts:[["dt",""],["dhist",""],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Affichage {first} \xe0 {last} sur {totalRecords} \xe9lements","selectionMode","multiple","dataKey","id",3,"value","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Changement de Prix",3,"visibleChange","visible","modal","closable"],[1,"justify-content-end","p-mt-3","p-ml-auto"],["label","Close",3,"onClick"],[1,"my-2"],["pButton","","pRipple","","label","Ajouter","icon","pi pi-plus",1,"p-button-success","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","label","Actualiser","icon","pi pi-refresh",1,"p-button-primary","p-button-outlined",3,"click"],[1,"col-2","float-end","d-flex","d-inline"],["class","float-end","icon","pi pi-box","pBadge","","styleClass","mr-5","size","large",3,"value","style",4,"ngIf"],["icon","pi pi-box","pBadge","","styleClass","mr-5","size","large",1,"float-end",3,"value"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","id"],["field","id"],["pSortableColumn","nom"],["field","nom"],["pSortableColumn","prixUnitaire"],["field","prixUnitaire"],["pSortableColumn","article.nom"],["field","article.nom"],["pSortableColumn","qantite"],["field","qantite"],["pSortableColumn","inventoryStatus"],["field","inventoryStatus"],[3,"value"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","14%"],["pTemplate","item",3,"ngIf"],[3,"value","numVisible","circular","showItemNavigators","showThumbnails","responsiveOptions","containerStyle"],["pTemplate","item"],[2,"width","14%","min-width","8rem"],[3,"ngClass"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-eye",1,"p-button-rounded","p-button-green","mr-2",3,"click"],[2,"width","80%","height","80%","display","block",3,"src"],[2,"width","100%","display","block",3,"src"],["pInputText","","type","text","placeholder","Recherche...",1,"w-full","sm:w-auto",3,"input"],["pSortableColumn","prixHistoriqueAchat"],["field","prixHistoriqueAchat"],["pSortableColumn","quantiteHistoriqueAchat"],["field","quantiteHistoriqueAchat"],["pSortableColumn","dateMisAjoure"],["field","dateMisAjoure"]],template:function(r,o){if(1&r){const a=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4),t.nrm(3,"p-toast"),t.j41(4,"p-toolbar",5),t.DNE(5,Yu,3,0,"ng-template",6)(6,Qu,2,1,"ng-template",7),t.k0s(),t.j41(7,"p-table",8,0),t.DNE(9,qu,6,0,"ng-template",9)(10,Ju,24,0,"ng-template",10)(11,t_,40,24,"ng-template",11),t.k0s()()()(),t.j41(12,"p-dialog",12),t.mxI("visibleChange",function(p){return t.eBV(a),t.DH7(o.visibleShowDetails,p)||(o.visibleShowDetails=p),t.Njj(p)}),t.j41(13,"p-table",8,1),t.DNE(15,i_,6,0,"ng-template",9)(16,n_,10,0,"ng-template",10)(17,o_,13,3,"ng-template",11),t.k0s(),t.j41(18,"div",13)(19,"p-button",14),t.bIt("onClick",function(){return t.eBV(a),t.Njj(o.closeShowDetails())}),t.k0s()()()}2&r&&(t.R7$(7),t.Y8G("value",o.produits)("rows",10)("globalFilterFields",t.lJ4(19,Gu))("paginator",!0)("rowsPerPageOptions",t.lJ4(20,Nu))("showCurrentPageReport",!0)("rowHover",!0),t.R7$(5),t.Aen(t.lJ4(21,Uu)),t.R50("visible",o.visibleShowDetails),t.Y8G("modal",!0)("closable",!0),t.R7$(),t.Y8G("value",o.historiques)("rows",10)("globalFilterFields",t.lJ4(22,$u))("paginator",!0)("rowsPerPageOptions",t.lJ4(23,Hu))("showCurrentPageReport",!0)("rowHover",!0))},dependencies:[d.tm,d._f,d.$n,L.Ei,v.KQ,w.kr,E.u,E.S,ds,Fa,Rn.wZ,L.Gg,V.YN,Ze,Nt,vt,H.bG,H.XI,H.Tg,H.yc,H.S9,H.nA,h.YU,J.Z,J.n,de.MB,de.y8,xe.m,xe.M,et,be.P,be.l,Pi,h.bT,Gn,h.QX,Ht,Ce.m,Ce.e,Te.EJ,Te.FO],styles:[".instock[_ngcontent-%COMP%]{border-radius:5px;font-weight:700;background-color:#7ede7e}.lowstock[_ngcontent-%COMP%]{font-weight:700;border-radius:5px;background-color:#deb468}.outofstock[_ngcontent-%COMP%]{border-radius:5px;background-color:#d77777;font-weight:700}"]})}return n})();var It=_(467),Ie=_(7480);let Ye=(()=>{class n{el;ngModel;control;cd;autoResize;onResize=new t.bkB;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(i,r,o,a){this.el=i,this.ngModel=r,this.control=o,this.cd=a}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewChecked(){this.updateState()}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(i){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(i){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(i||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)(t.rXU(t.aKT),t.rXU(V.vS,8),t.rXU(V.vO,8),t.rXU(t.gRc))};static \u0275dir=t.FsC({type:n,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(r,o){1&r&&t.bIt("input",function(l){return o.onInput(l)}),2&r&&t.AVh("p-filled",o.filled)("p-inputtextarea-resizable",o.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})}return n})(),Ge=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD]})}return n})();var Nn=_(3854),Ne=_(3568),dt=_(6991);let $n=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD,d.tm,L.Gg,L.Gg]})}return n})();var Ae=_(9851);const y_=["headerchkbox"],x_=["filter"],E_=["lastHiddenFocusableElement"],w_=["firstHiddenFocusableElement"],S_=["scroller"],k_=["list"],F_=[[["p-header"]],[["p-footer"]]],D_=["p-header","p-footer"],Kt=(n,s)=>({$implicit:n,options:s}),Hn=n=>({"p-checkbox-disabled":n}),O_=(n,s,i)=>({"p-highlight":n,"p-focus":s,"p-disabled":i}),Kn=n=>({options:n}),Li=n=>({height:n}),M_=()=>({}),R_=n=>({$implicit:n}),j_=(n,s,i)=>({"p-listbox-item":!0,"p-highlight":n,"p-focus":s,"p-disabled":i}),P_=(n,s)=>({$implicit:n,index:s}),A_=n=>({"p-highlight":n});function L_(n,s){1&n&&t.eu8(0)}function B_(n,s){if(1&n&&(t.j41(0,"div",19),t.SdG(1),t.DNE(2,L_,1,0,"ng-container",20),t.k0s()),2&n){const i=t.XpG();t.R7$(2),t.Y8G("ngTemplateOutlet",i.headerTemplate)("ngTemplateOutletContext",t.l_i(2,Kt,i.modelValue(),i.visibleOptions()))}}function V_(n,s){1&n&&t.nrm(0,"CheckIcon",29),2&n&&(t.Y8G("styleClass","p-checkbox-icon"),t.BMQ("aria-hidden",!0))}function G_(n,s){}function N_(n,s){1&n&&t.DNE(0,G_,0,0,"ng-template")}function U_(n,s){if(1&n&&(t.j41(0,"span",30),t.DNE(1,N_,1,0,null,31),t.k0s()),2&n){const i=t.XpG(4);t.BMQ("aria-hidden",!0),t.R7$(),t.Y8G("ngTemplateOutlet",i.checkIconTemplate)}}function $_(n,s){if(1&n&&(t.qex(0),t.DNE(1,V_,1,2,"CheckIcon",27)(2,U_,2,2,"span",28),t.bVm()),2&n){const i=t.XpG(3);t.R7$(),t.Y8G("ngIf",!i.checkIconTemplate),t.R7$(),t.Y8G("ngIf",i.checkIconTemplate)}}function H_(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",23),t.bIt("click",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.onToggleAll(o))})("keydown",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.onHeaderCheckboxKeyDown(o))}),t.j41(1,"div",24)(2,"input",25,4),t.bIt("focus",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.onHeaderCheckboxFocus(o))})("blur",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.onHeaderCheckboxBlur(o))}),t.k0s()(),t.j41(4,"div",26),t.DNE(5,$_,3,2,"ng-container",15),t.k0s()()}if(2&n){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Hn,i.disabled||i.toggleAllDisabled)),t.R7$(),t.BMQ("data-p-hidden-accessible",!0),t.R7$(),t.Y8G("disabled",i.disabled||i.toggleAllDisabled),t.BMQ("checked",i.allSelected())("aria-label",i.toggleAllAriaLabel),t.R7$(2),t.Y8G("ngClass",t.sMw(10,O_,i.allSelected(),i.headerCheckboxFocus,i.disabled||i.toggleAllDisabled)),t.BMQ("aria-checked",i.allSelected()),t.R7$(),t.Y8G("ngIf",i.allSelected())}}function K_(n,s){1&n&&t.eu8(0)}function X_(n,s){if(1&n&&(t.qex(0),t.DNE(1,K_,1,0,"ng-container",20),t.bVm()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngTemplateOutlet",i.filterTemplate)("ngTemplateOutletContext",t.eq3(2,Kn,i.filterOptions))}}function z_(n,s){1&n&&t.nrm(0,"SearchIcon",29),2&n&&(t.Y8G("styleClass","p-listbox-filter-icon"),t.BMQ("aria-hidden",!0))}function Y_(n,s){}function W_(n,s){1&n&&t.DNE(0,Y_,0,0,"ng-template")}function Q_(n,s){if(1&n&&(t.j41(0,"span",37),t.DNE(1,W_,1,0,null,31),t.k0s()),2&n){const i=t.XpG(4);t.BMQ("aria-hidden",!0),t.R7$(),t.Y8G("ngTemplateOutlet",i.filterIconTemplate)}}function q_(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",34)(1,"input",35,5),t.bIt("input",function(o){t.eBV(i);const a=t.XpG(3);return t.Njj(a.onFilterChange(o))})("keydown",function(o){t.eBV(i);const a=t.XpG(3);return t.Njj(a.onFilterKeyDown(o))})("blur",function(o){t.eBV(i);const a=t.XpG(3);return t.Njj(a.onFilterBlur(o))}),t.k0s(),t.DNE(3,z_,1,2,"SearchIcon",27)(4,Q_,2,2,"span",36),t.k0s()}if(2&n){const i=t.XpG(3);t.R7$(),t.Y8G("value",i._filterValue()||"")("disabled",i.disabled)("tabindex",i.disabled||i.focused?-1:i.tabindex),t.BMQ("aria-owns",i.id+"_list")("aria-activedescendant",i.focusedOptionId)("placeholder",i.filterPlaceHolder)("aria-label",i.ariaFilterLabel),t.R7$(2),t.Y8G("ngIf",!i.filterIconTemplate),t.R7$(),t.Y8G("ngIf",i.filterIconTemplate)}}function J_(n,s){if(1&n&&(t.DNE(0,q_,5,9,"div",32),t.j41(1,"span",33),t.EFF(2),t.k0s()),2&n){const i=t.XpG(2);t.Y8G("ngIf",i.filter),t.R7$(),t.BMQ("data-p-hidden-accessible",!0),t.R7$(),t.SpI(" ",i.filterResultMessageText," ")}}function Z_(n,s){if(1&n&&(t.j41(0,"div",19),t.DNE(1,H_,6,14,"div",21)(2,X_,2,4,"ng-container",22)(3,J_,3,3,"ng-template",null,3,t.C5r),t.k0s()),2&n){const i=t.sdS(4),r=t.XpG();t.R7$(),t.Y8G("ngIf",r.checkbox&&r.multiple&&r.showToggleAll),t.R7$(),t.Y8G("ngIf",r.filterTemplate)("ngIfElse",i)}}function em(n,s){1&n&&t.eu8(0)}function tm(n,s){if(1&n&&t.DNE(0,em,1,0,"ng-container",20),2&n){const i=s.$implicit,r=s.options;t.XpG(2);const o=t.sdS(9);t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.l_i(2,Kt,i,r))}}function im(n,s){1&n&&t.eu8(0)}function nm(n,s){if(1&n&&t.DNE(0,im,1,0,"ng-container",20),2&n){const i=s.options,r=t.XpG(3);t.Y8G("ngTemplateOutlet",r.loaderTemplate)("ngTemplateOutletContext",t.eq3(2,Kn,i))}}function om(n,s){1&n&&(t.qex(0),t.DNE(1,nm,1,4,"ng-template",40),t.bVm())}function rm(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-scroller",38,6),t.bIt("onLazyLoad",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onLazyLoad.emit(o))}),t.DNE(2,tm,1,5,"ng-template",39)(3,om,2,0,"ng-container",15),t.k0s()}if(2&n){const i=t.XpG();t.Aen(t.eq3(9,Li,i.scrollHeight)),t.Y8G("items",i.visibleOptions())("itemSize",i.virtualScrollItemSize)("autoSize",!0)("tabindex",-1)("lazy",i.lazy)("options",i.virtualScrollOptions),t.R7$(3),t.Y8G("ngIf",i.loaderTemplate)}}function sm(n,s){1&n&&t.eu8(0)}function am(n,s){if(1&n&&(t.qex(0),t.DNE(1,sm,1,0,"ng-container",20),t.bVm()),2&n){const i=t.XpG(),r=t.sdS(9);t.R7$(),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.l_i(3,Kt,i.visibleOptions(),t.lJ4(2,M_)))}}function lm(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const i=t.XpG(2).$implicit,r=t.XpG(2);t.R7$(),t.JRh(r.getOptionGroupLabel(i.optionGroup))}}function cm(n,s){1&n&&t.eu8(0)}function dm(n,s){if(1&n&&(t.qex(0),t.j41(1,"li",44),t.DNE(2,lm,2,1,"span",15)(3,cm,1,0,"ng-container",20),t.k0s(),t.bVm()),2&n){const i=t.XpG(),r=i.$implicit,o=i.index,a=t.XpG().options,l=t.XpG();t.R7$(),t.Y8G("ngStyle",t.eq3(5,Li,a.itemSize+"px")),t.BMQ("id",l.id+"_"+l.getOptionIndex(o,a)),t.R7$(),t.Y8G("ngIf",!l.groupTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",l.groupTemplate)("ngTemplateOutletContext",t.eq3(7,R_,r.optionGroup))}}function pm(n,s){1&n&&t.nrm(0,"CheckIcon",29),2&n&&(t.Y8G("styleClass","p-checkbox-icon"),t.BMQ("aria-hidden",!0))}function um(n,s){}function _m(n,s){1&n&&t.DNE(0,um,0,0,"ng-template")}function mm(n,s){if(1&n&&(t.j41(0,"span",30),t.DNE(1,_m,1,0,null,31),t.k0s()),2&n){const i=t.XpG(6);t.BMQ("aria-hidden",!0),t.R7$(),t.Y8G("ngTemplateOutlet",i.checkIconTemplate)}}function hm(n,s){if(1&n&&(t.qex(0),t.DNE(1,pm,1,2,"CheckIcon",27)(2,mm,2,2,"span",28),t.bVm()),2&n){const i=t.XpG(5);t.R7$(),t.Y8G("ngIf",!i.checkIconTemplate),t.R7$(),t.Y8G("ngIf",i.checkIconTemplate)}}function fm(n,s){if(1&n&&(t.j41(0,"div",47)(1,"div",48),t.DNE(2,hm,3,2,"ng-container",15),t.k0s()()),2&n){const i=t.XpG(2).$implicit,r=t.XpG(2);t.Y8G("ngClass",t.eq3(3,Hn,r.disabled||r.isOptionDisabled(i))),t.R7$(),t.Y8G("ngClass",t.eq3(5,A_,r.isSelected(i))),t.R7$(),t.Y8G("ngIf",r.isSelected(i))}}function gm(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const i=t.XpG(2).$implicit,r=t.XpG(2);t.R7$(),t.JRh(r.getOptionLabel(i))}}function bm(n,s){1&n&&t.eu8(0)}function vm(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"li",45),t.bIt("click",function(o){t.eBV(i);const a=t.XpG(),l=a.$implicit,p=a.index,S=t.XpG().options,O=t.XpG();return t.Njj(O.onOptionSelect(o,l,O.getOptionIndex(p,S)))})("dblclick",function(o){t.eBV(i);const a=t.XpG().$implicit,l=t.XpG(2);return t.Njj(l.onOptionDoubleClick(o,a))})("mousedown",function(o){t.eBV(i);const a=t.XpG().index,l=t.XpG().options,p=t.XpG();return t.Njj(p.onOptionMouseDown(o,p.getOptionIndex(a,l)))})("mouseenter",function(o){t.eBV(i);const a=t.XpG().index,l=t.XpG().options,p=t.XpG();return t.Njj(p.onOptionMouseEnter(o,p.getOptionIndex(a,l)))})("touchend",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.onOptionTouchEnd())}),t.DNE(2,fm,3,7,"div",46)(3,gm,2,1,"span",15)(4,bm,1,0,"ng-container",20),t.k0s(),t.bVm()}if(2&n){const i=t.XpG(),r=i.$implicit,o=i.index,a=t.XpG().options,l=t.XpG();t.R7$(),t.Y8G("ngStyle",t.eq3(12,Li,a.itemSize+"px"))("ngClass",t.sMw(14,j_,l.isSelected(r),l.focusedOptionIndex()===l.getOptionIndex(o,a),l.isOptionDisabled(r)))("ariaPosInset",l.getAriaPosInset(l.getOptionIndex(o,a))),t.BMQ("id",l.id+"_"+l.getOptionIndex(o,a))("aria-label",l.getOptionLabel(r))("aria-selected",l.isSelected(r))("aria-disabled",l.isOptionDisabled(r))("aria-setsize",l.ariaSetSize),t.R7$(),t.Y8G("ngIf",l.checkbox&&l.multiple),t.R7$(),t.Y8G("ngIf",!l.itemTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",l.itemTemplate)("ngTemplateOutletContext",t.l_i(18,P_,r,l.getOptionIndex(o,a)))}}function Cm(n,s){if(1&n&&t.DNE(0,dm,4,9,"ng-container",15)(1,vm,5,21,"ng-container",15),2&n){const i=s.$implicit,r=t.XpG(2);t.Y8G("ngIf",r.isOptionGroup(i)),t.R7$(),t.Y8G("ngIf",!r.isOptionGroup(i))}}function Tm(n,s){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const i=t.XpG(3);t.R7$(),t.SpI(" ",i.emptyFilterMessageText," ")}}function Im(n,s){1&n&&t.eu8(0,null,8)}function ym(n,s){if(1&n&&(t.j41(0,"li",49),t.DNE(1,Tm,2,1,"ng-container",22)(2,Im,2,0,"ng-container",31),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),t.R7$(),t.Y8G("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function xm(n,s){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const i=t.XpG(3);t.R7$(),t.SpI(" ",i.emptyMessage," ")}}function Em(n,s){1&n&&t.eu8(0,null,9)}function wm(n,s){if(1&n&&(t.j41(0,"li",49),t.DNE(1,xm,2,1,"ng-container",22)(2,Em,2,0,"ng-container",31),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),t.R7$(),t.Y8G("ngTemplateOutlet",i.emptyTemplate)}}function Sm(n,s){if(1&n){const i=t.RV6();t.j41(0,"ul",41,7),t.bIt("focus",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onListFocus(o))})("blur",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onListBlur(o))})("keydown",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onListKeyDown(o))}),t.DNE(2,Cm,2,2,"ng-template",42)(3,ym,3,3,"li",43)(4,wm,3,3,"li",43),t.k0s()}if(2&n){const i=s.$implicit,r=s.options,o=t.XpG();t.Aen(r.contentStyle),t.Y8G("tabindex",-1)("ngClass",r.contentStyleClass),t.BMQ("aria-multiselectable",!0)("aria-activedescendant",o.focused?o.focusedOptionId:void 0)("aria-label",o.ariaLabel)("aria-multiselectable",o.multiple)("aria-disabled",o.disabled),t.R7$(2),t.Y8G("ngForOf",i),t.R7$(),t.Y8G("ngIf",o.hasFilter()&&o.isEmpty()),t.R7$(),t.Y8G("ngIf",!o.hasFilter()&&o.isEmpty())}}function km(n,s){1&n&&t.eu8(0)}function Fm(n,s){if(1&n&&(t.j41(0,"div",50),t.SdG(1,1),t.DNE(2,km,1,0,"ng-container",20),t.k0s()),2&n){const i=t.XpG();t.R7$(2),t.Y8G("ngTemplateOutlet",i.footerTemplate)("ngTemplateOutletContext",t.l_i(2,Kt,i.modelValue(),i.visibleOptions()))}}function Dm(n,s){if(1&n&&(t.j41(0,"span",18),t.EFF(1),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.SpI(" ",i.emptyMessage," ")}}const Om={provide:V.kq,useExisting:(0,t.Rfq)(()=>Mm),multi:!0};let Mm=(()=>{class n{el;cd;filterService;config;renderer;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!0;selectOnFocus;searchLocale;focusOnHover;filterMessage;filterFields;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;scrollHeight="200px";tabindex=0;multiple;style;styleClass;listStyle;listStyleClass;readonly;disabled;checkbox=!1;filter=!1;filterBy;filterMatchMode="contains";filterLocale;metaKeySelection=!0;dataKey;showToggleAll=!0;optionLabel;optionValue;optionGroupChildren="items";optionGroupLabel="label";optionDisabled;ariaFilterLabel;filterPlaceHolder;emptyFilterMessage;emptyMessage;group;get options(){return this._options()}set options(i){this._options.set(i)}get filterValue(){return this._filterValue()}set filterValue(i){this._filterValue.set(i)}get selectAll(){return this._selectAll}set selectAll(i){this._selectAll=i}onChange=new t.bkB;onClick=new t.bkB;onDblClick=new t.bkB;onFilter=new t.bkB;onFocus=new t.bkB;onBlur=new t.bkB;onSelectAllChange=new t.bkB;headerCheckboxViewChild;filterViewChild;lastHiddenFocusableElement;firstHiddenFocusableElement;scroller;listViewChild;headerFacet;footerFacet;templates;itemTemplate;groupTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;filterIconTemplate;checkIconTemplate;_filterValue=(0,t.vPA)(null);_filteredOptions;filterOptions;filtered;value;onModelChange=()=>{};onModelTouched=()=>{};optionTouched;focus;headerCheckboxFocus;translationSubscription;focused;get containerClass(){return{"p-listbox p-component":!0,"p-focus":this.focused,"p-disabled":this.disabled}}get focusedOptionId(){return-1!==this.focusedOptionIndex()?`${this.id}_${this.focusedOptionIndex()}`:null}get filterResultMessageText(){return q.BF.isNotEmpty(this.visibleOptions())?this.filterMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptyFilterMessageText}get filterMessageText(){return this.filterMessage||this.config.translation.searchMessage||""}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptyFilterMessageText(){return this.emptyFilterMessage||this.config.translation.emptySearchMessage||this.config.translation.emptyFilterMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(i=>!this.isOptionGroup(i)).length}get virtualScrollerDisabled(){return!this.virtualScroll}get searchFields(){return this.filterFields||[this.optionLabel]}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}searchValue;searchTimeout;_selectAll=null;_options=(0,t.vPA)(null);startRangeIndex=(0,t.vPA)(-1);focusedOptionIndex=(0,t.vPA)(-1);modelValue=(0,t.vPA)(null);visibleOptions=(0,t.EWP)(()=>{const i=this.group?this.flatOptions(this._options()):this._options()||[];return this._filterValue()?this.filterService.filter(i,this.searchFields,this._filterValue(),this.filterMatchMode,this.filterLocale):i});constructor(i,r,o,a,l){this.el=i,this.cd=r,this.filterService=o,this.config=a,this.renderer=l}ngOnInit(){this.id=this.id||(0,q._Y)(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:i=>this.onFilterChange(i),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"item":default:this.itemTemplate=i.template;break;case"group":this.groupTemplate=i.template;break;case"header":this.headerTemplate=i.template;break;case"filter":this.filterTemplate=i.template;break;case"footer":this.footerTemplate=i.template;break;case"empty":this.emptyTemplate=i.template;break;case"emptyfilter":this.emptyFilterTemplate=i.template;break;case"filtericon":this.filterIconTemplate=i.template;break;case"checkicon":this.checkIconTemplate=i.template}})}writeValue(i){this.value=i,this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}flatOptions(i){return(i||[]).reduce((r,o,a)=>{r.push({optionGroup:o,group:!0,index:a});const l=this.getOptionGroupChildren(o);return l&&l.forEach(p=>r.push(p)),r},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&!this.multiple){const i=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(i),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()])}}updateModel(i,r){this.value=i,this.modelValue.set(i),this.onModelChange(i),this.onChange.emit({originalEvent:r,value:this.value})}removeOption(i){return this.modelValue().filter(r=>!q.BF.equals(r,this.getOptionValue(i),this.equalityKey()))}onOptionSelect(i,r,o=-1){this.disabled||this.isOptionDisabled(r)||(i&&this.onClick.emit({originalEvent:i,option:r,value:this.value}),this.multiple?this.onOptionSelectMultiple(i,r):this.onOptionSelectSingle(i,r),this.optionTouched=!1,-1!==o&&this.focusedOptionIndex.set(o))}onOptionSelectMultiple(i,r){let o=this.isSelected(r),a=null;if(!this.optionTouched&&this.metaKeySelection){let p=i.metaKey||i.ctrlKey;o?a=p?this.removeOption(r):[this.getOptionValue(r)]:(a=p&&this.modelValue()||[],a=[...a,this.getOptionValue(r)])}else a=o?this.removeOption(r):[...this.modelValue()||[],this.getOptionValue(r)];this.updateModel(a,i)}onOptionSelectSingle(i,r){let o=this.isSelected(r),a=!1,l=null;!this.optionTouched&&this.metaKeySelection?o?(i.metaKey||i.ctrlKey)&&(l=null,a=!0):(l=this.getOptionValue(r),a=!0):(l=o?null:this.getOptionValue(r),a=!0),a&&this.updateModel(l,i)}onOptionSelectRange(i,r=-1,o=-1){if(-1===r&&(r=this.findNearestSelectedOptionIndex(o,!0)),-1===o&&(o=this.findNearestSelectedOptionIndex(r)),-1!==r&&-1!==o){const a=Math.min(r,o),l=Math.max(r,o),p=this.visibleOptions().slice(a,l+1).filter(S=>this.isValidOption(S)).map(S=>this.getOptionValue(S));this.updateModel(p,i)}}onToggleAll(i){if(!this.disabled&&!this.readonly){if(Q.D.focus(this.headerCheckboxViewChild.nativeElement),null!==this.selectAll)this.onSelectAllChange.emit({originalEvent:i,checked:!this.allSelected()});else{const r=this.allSelected()?[]:this.visibleOptions().filter(o=>this.isValidOption(o)).map(o=>this.getOptionValue(o));this.updateModel(r,i),this.onChange.emit({originalEvent:i,value:this.value})}i.preventDefault()}}allSelected(){return null!==this.selectAll?this.selectAll:q.BF.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(i=>this.isOptionGroup(i)||this.isOptionDisabled(i)||this.isSelected(i))}onOptionTouchEnd(){this.disabled||(this.optionTouched=!0)}onOptionMouseDown(i,r){this.changeFocusedOptionIndex(i,r)}onOptionMouseEnter(i,r){this.focusOnHover&&this.changeFocusedOptionIndex(i,r)}onOptionDoubleClick(i,r){this.disabled||this.isOptionDisabled(r)||this.readonly||this.onDblClick.emit({originalEvent:i,option:r,value:this.value})}onFirstHiddenFocus(i){Q.D.focus(this.listViewChild.nativeElement);const r=Q.D.getFirstFocusableElement(this.el.nativeElement,':not([data-p-hidden-focusable="true"])');this.lastHiddenFocusableElement.nativeElement.tabIndex=q.BF.isEmpty(r)?"-1":void 0,this.firstHiddenFocusableElement.nativeElement.tabIndex=-1}onLastHiddenFocus(i){if(i.relatedTarget===this.listViewChild.nativeElement){const o=Q.D.getFirstFocusableElement(this.el.nativeElement,":not(.p-hidden-focusable)");Q.D.focus(o),this.firstHiddenFocusableElement.nativeElement.tabIndex=void 0}else Q.D.focus(this.firstHiddenFocusableElement.nativeElement);this.lastHiddenFocusableElement.nativeElement.tabIndex=-1}onFocusout(i){!this.el.nativeElement.contains(i.relatedTarget)&&this.lastHiddenFocusableElement&&this.firstHiddenFocusableElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=this.lastHiddenFocusableElement.nativeElement.tabIndex=void 0)}onListFocus(i){this.focused=!0;const r=-1!==this.focusedOptionIndex()?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),this.onFocus.emit(i)}onListBlur(i){this.focused=!1,this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.searchValue=""}onHeaderCheckboxFocus(i){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onHeaderCheckboxKeyDown(i){if(this.disabled)i.preventDefault();else switch(i.code){case"Space":case"Enter":this.onToggleAll(i);break;case"Tab":this.onHeaderCheckboxTabKeyDown(i)}}onHeaderCheckboxTabKeyDown(i){Q.D.focus(this.listViewChild.nativeElement),i.preventDefault()}onFilterChange(i){let r=i.target.value?.trim();this._filterValue.set(r),this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.onFilter.emit({originalEvent:i,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0)}onFilterBlur(i){this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1)}onListKeyDown(i){const r=i.metaKey||i.ctrlKey;switch(i.code){case"ArrowDown":this.onArrowDownKey(i);break;case"ArrowUp":this.onArrowUpKey(i);break;case"Home":this.onHomeKey(i);break;case"End":this.onEndKey(i);break;case"PageDown":this.onPageDownKey(i);break;case"PageUp":this.onPageUpKey(i);break;case"Enter":case"Space":this.onSpaceKey(i);break;case"Tab":break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(this.multiple&&"KeyA"===i.code&&r){const o=this.visibleOptions().filter(a=>this.isValidOption(a)).map(a=>this.getOptionValue(a));this.updateModel(o,i),i.preventDefault();break}!r&&q.BF.isPrintableCharacter(i.key)&&(this.searchOptions(i,i.key),i.preventDefault())}}onFilterKeyDown(i){switch(i.code){case"ArrowDown":this.onArrowDownKey(i);break;case"ArrowUp":this.onArrowUpKey(i);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(i,!0);break;case"Home":this.onHomeKey(i,!0);break;case"End":this.onEndKey(i,!0);break;case"Enter":this.onEnterKey(i);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey()}}onArrowDownKey(i){const r=-1!==this.focusedOptionIndex()?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.multiple&&i.shiftKey&&this.onOptionSelectRange(i,this.startRangeIndex(),r),this.changeFocusedOptionIndex(i,r),i.preventDefault()}onArrowUpKey(i){const r=-1!==this.focusedOptionIndex()?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.multiple&&i.shiftKey&&this.onOptionSelectRange(i,r,this.startRangeIndex()),this.changeFocusedOptionIndex(i,r),i.preventDefault()}onArrowLeftKey(i,r=!1){r&&this.focusedOptionIndex.set(-1)}onHomeKey(i,r=!1){if(r)i.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex.set(-1);else{let o=i.metaKey||i.ctrlKey,a=this.findFirstOptionIndex();this.multiple&&i.shiftKey&&o&&this.onOptionSelectRange(i,a,this.startRangeIndex()),this.changeFocusedOptionIndex(i,a)}i.preventDefault()}onEndKey(i,r=!1){if(r){const o=i.currentTarget,a=o.value.length;o.setSelectionRange(a,a),this.focusedOptionIndex.set(-1)}else{let o=i.metaKey||i.ctrlKey,a=this.findLastOptionIndex();this.multiple&&i.shiftKey&&o&&this.onOptionSelectRange(i,this.startRangeIndex(),a),this.changeFocusedOptionIndex(i,a)}i.preventDefault()}onPageDownKey(i){this.scrollInView(0),i.preventDefault()}onPageUpKey(i){this.scrollInView(this.visibleOptions().length-1),i.preventDefault()}onEnterKey(i){-1!==this.focusedOptionIndex()&&(this.multiple&&i.shiftKey?this.onOptionSelectRange(i,this.focusedOptionIndex()):this.onOptionSelect(i,this.visibleOptions()[this.focusedOptionIndex()])),i.preventDefault()}onSpaceKey(i){this.onEnterKey(i)}onShiftKey(){const i=this.focusedOptionIndex();this.startRangeIndex.set(i)}getOptionGroupChildren(i){return this.optionGroupChildren?q.BF.resolveFieldData(i,this.optionGroupChildren):i.items}getOptionGroupLabel(i){return this.optionGroupLabel?q.BF.resolveFieldData(i,this.optionGroupLabel):i&&void 0!==i.label?i.label:i}getOptionLabel(i){return this.optionLabel?q.BF.resolveFieldData(i,this.optionLabel):null!=i.label?i.label:i}getOptionIndex(i,r){return this.virtualScrollerDisabled?i:r&&r.getItemOptions(i).index}getOptionValue(i){return this.optionValue?q.BF.resolveFieldData(i,this.optionValue):!this.optionLabel&&i&&void 0!==i.value?i.value:i}getAriaPosInset(i){return(this.optionGroupLabel?i-this.visibleOptions().slice(0,i).filter(r=>this.isOptionGroup(r)).length:i)+1}hasSelectedOption(){return q.BF.isNotEmpty(this.modelValue())}isOptionGroup(i){return this.optionGroupLabel&&i.optionGroup&&i.group}changeFocusedOptionIndex(i,r){this.focusedOptionIndex()!==r&&(this.focusedOptionIndex.set(r),this.scrollInView(),this.selectOnFocus&&!this.multiple&&this.onOptionSelect(i,this.visibleOptions()[r]))}searchOptions(i,r){this.searchValue=(this.searchValue||"")+r;let o=-1,a=!1;return-1!==this.focusedOptionIndex()?(o=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(l=>this.isOptionMatched(l)),o=-1===o?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(l=>this.isOptionMatched(l)):o+this.focusedOptionIndex()):o=this.visibleOptions().findIndex(l=>this.isOptionMatched(l)),-1!==o&&(a=!0),-1===o&&-1===this.focusedOptionIndex()&&(o=this.findFirstFocusedOptionIndex()),-1!==o&&this.changeFocusedOptionIndex(i,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}isOptionMatched(i){return this.isValidOption(i)&&this.getOptionLabel(i).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}scrollInView(i=-1){const o=Q.D.findSingle(this.listViewChild.nativeElement,`li[id="${-1!==i?`${this.id}_${i}`:this.focusedOptionId}"]`);o?o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||this.virtualScroll&&this.scroller.scrollToIndex(-1!==i?i:this.focusedOptionIndex())}findFirstOptionIndex(){return this.visibleOptions().findIndex(i=>this.isValidOption(i))}findLastOptionIndex(){return q.BF.findLastIndex(this.visibleOptions(),i=>this.isValidOption(i))}findFirstFocusedOptionIndex(){const i=this.findFirstSelectedOptionIndex();return i<0?this.findFirstOptionIndex():i}findLastFocusedOptionIndex(){const i=this.findLastSelectedOptionIndex();return i<0?this.findLastOptionIndex():i}findLastSelectedOptionIndex(){return this.hasSelectedOption()?q.BF.findLastIndex(this.visibleOptions(),i=>this.isValidSelectedOption(i)):-1}findNextOptionIndex(i){const r=i<this.visibleOptions().length-1?this.visibleOptions().slice(i+1).findIndex(o=>this.isValidOption(o)):-1;return r>-1?r+i+1:i}findNextSelectedOptionIndex(i){const r=this.hasSelectedOption()&&i<this.visibleOptions().length-1?this.visibleOptions().slice(i+1).findIndex(o=>this.isValidSelectedOption(o)):-1;return r>-1?r+i+1:-1}findPrevSelectedOptionIndex(i){const r=this.hasSelectedOption()&&i>0?q.BF.findLastIndex(this.visibleOptions().slice(0,i),o=>this.isValidSelectedOption(o)):-1;return r>-1?r:-1}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(i=>this.isValidSelectedOption(i)):-1}findPrevOptionIndex(i){const r=i>0?q.BF.findLastIndex(this.visibleOptions().slice(0,i),o=>this.isValidOption(o)):-1;return r>-1?r:i}findNearestSelectedOptionIndex(i,r=!1){let o=-1;return this.hasSelectedOption()&&(r?(o=this.findPrevSelectedOptionIndex(i),o=-1===o?this.findNextSelectedOptionIndex(i):o):(o=this.findNextSelectedOptionIndex(i),o=-1===o?this.findPrevSelectedOptionIndex(i):o)),o>-1?o:i}equalityKey(){return this.optionValue?null:this.dataKey}isValidSelectedOption(i){return this.isValidOption(i)&&this.isSelected(i)}isOptionDisabled(i){return!!this.optionDisabled&&q.BF.resolveFieldData(i,this.optionDisabled)}isSelected(i){const r=this.getOptionValue(i);return this.multiple?(this.modelValue()||[]).some(o=>q.BF.equals(o,r,this.equalityKey())):q.BF.equals(this.modelValue(),r,this.equalityKey())}isValidOption(i){return i&&!(this.isOptionDisabled(i)||this.isOptionGroup(i))}isEmpty(){return!this._options()||this._options()&&0===this._options().length}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue.set(null)}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)(t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(L.E),t.rXU(L.r1),t.rXU(t.sFG))};static \u0275cmp=t.VBU({type:n,selectors:[["p-listbox"]],contentQueries:function(r,o,a){if(1&r&&(t.wni(a,L.Y9,5),t.wni(a,L.wi,5),t.wni(a,L.Ei,4)),2&r){let l;t.mGM(l=t.lsd())&&(o.headerFacet=l.first),t.mGM(l=t.lsd())&&(o.footerFacet=l.first),t.mGM(l=t.lsd())&&(o.templates=l)}},viewQuery:function(r,o){if(1&r&&(t.GBs(y_,5),t.GBs(x_,5),t.GBs(E_,5),t.GBs(w_,5),t.GBs(S_,5),t.GBs(k_,5)),2&r){let a;t.mGM(a=t.lsd())&&(o.headerCheckboxViewChild=a.first),t.mGM(a=t.lsd())&&(o.filterViewChild=a.first),t.mGM(a=t.lsd())&&(o.lastHiddenFocusableElement=a.first),t.mGM(a=t.lsd())&&(o.firstHiddenFocusableElement=a.first),t.mGM(a=t.lsd())&&(o.scroller=a.first),t.mGM(a=t.lsd())&&(o.listViewChild=a.first)}},hostAttrs:[1,"p-element"],inputs:{id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:"autoOptionFocus",selectOnFocus:"selectOnFocus",searchLocale:"searchLocale",focusOnHover:"focusOnHover",filterMessage:"filterMessage",filterFields:"filterFields",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",scrollHeight:"scrollHeight",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue",selectAll:"selectAll"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onSelectAllChange:"onSelectAllChange"},features:[t.Jv_([Om])],ngContentSelectors:D_,decls:16,vars:24,consts:[["firstHiddenFocusableElement",""],["buildInItems",""],["lastHiddenFocusableElement",""],["builtInFilterElement",""],["headerchkbox",""],["filterInput",""],["scroller",""],["list",""],["emptyFilter",""],["empty",""],[3,"focusout","ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus","tabindex"],["class","p-listbox-header",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-listbox-footer",4,"ngIf"],["role","status","aria-live","polite","class","p-hidden-accessible",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],[1,"p-listbox-header"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"p-checkbox","p-component",3,"click","keydown","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"focus","blur","disabled"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],["class","p-listbox-filter-container",4,"ngIf"],["role","status","attr.aria-live","polite",1,"p-hidden-accessible"],[1,"p-listbox-filter-container"],["type","text","role","searchbox",1,"p-listbox-filter","p-inputtext","p-component",3,"input","keydown","blur","value","disabled","tabindex"],["class","p-listbox-filter-icon",4,"ngIf"],[1,"p-listbox-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","tabindex","lazy","options"],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-listbox-list",3,"focus","blur","keydown","tabindex","ngClass"],["ngFor","",3,"ngForOf"],["class","p-listbox-empty-message","role","option",4,"ngIf"],["role","option",1,"p-listbox-item-group",3,"ngStyle"],["pRipple","","role","option",1,"p-listbox-item",3,"click","dblclick","mousedown","mouseenter","touchend","ngStyle","ngClass","ariaPosInset"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],["role","option",1,"p-listbox-empty-message"],[1,"p-listbox-footer"]],template:function(r,o){if(1&r){const a=t.RV6();t.NAR(F_),t.j41(0,"div",10),t.bIt("focusout",function(p){return t.eBV(a),t.Njj(o.onFocusout(p))}),t.j41(1,"span",11,0),t.bIt("focus",function(p){return t.eBV(a),t.Njj(o.onFirstHiddenFocus(p))}),t.k0s(),t.DNE(3,B_,3,5,"div",12)(4,Z_,5,3,"div",12),t.j41(5,"div",13),t.DNE(6,rm,4,11,"p-scroller",14)(7,am,2,6,"ng-container",15)(8,Sm,5,12,"ng-template",null,1,t.C5r),t.k0s(),t.DNE(10,Fm,3,5,"div",16)(11,Dm,2,1,"span",17),t.j41(12,"span",18),t.EFF(13),t.k0s(),t.j41(14,"span",11,2),t.bIt("focus",function(p){return t.eBV(a),t.Njj(o.onLastHiddenFocus(p))}),t.k0s()()}2&r&&(t.HbH(o.styleClass),t.Y8G("ngClass",o.containerClass)("ngStyle",o.style),t.BMQ("id",o.id),t.R7$(),t.Y8G("tabindex",o.disabled?-1:o.tabindex),t.BMQ("aria-hidden",!0)("data-p-hidden-focusable",!0),t.R7$(2),t.Y8G("ngIf",o.headerFacet||o.headerTemplate),t.R7$(),t.Y8G("ngIf",o.checkbox&&o.multiple&&o.showToggleAll||o.filter),t.R7$(),t.HbH(o.listStyleClass),t.xc7("max-height",o.virtualScroll?"auto":o.scrollHeight||"auto"),t.Y8G("ngClass","p-listbox-list-wrapper")("ngStyle",o.listStyle),t.R7$(),t.Y8G("ngIf",o.virtualScroll),t.R7$(),t.Y8G("ngIf",!o.virtualScroll),t.R7$(3),t.Y8G("ngIf",o.footerFacet||o.footerTemplate),t.R7$(),t.Y8G("ngIf",o.isEmpty()),t.R7$(2),t.SpI(" ",o.selectedMessageText," "),t.R7$(),t.Y8G("tabindex",o.disabled?-1:o.tabindex),t.BMQ("aria-hidden",!0)("data-p-hidden-focusable",!0))},dependencies:()=>[h.YU,h.Sq,h.bT,h.T3,h.B3,L.Ei,J.n,Be.H,rt.W,Xe.S],styles:["@layer primeng{.p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}}\n"],encapsulation:2,changeDetection:0})}return n})(),Xt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD,L.Gg,J.Z,Be.h,rt.W,Xe.S,L.Gg,Be.h]})}return n})();var Rm=_(1874);const jm=["bcElement"];let Xn=(()=>{class n{get options(){return{format:this.format,lineColor:this.lineColor,width:this.width,height:this.height,displayValue:this.displayValue,fontOptions:this.fontOptions,font:this.font,textAlign:this.textAlign,textPosition:this.textPosition,textMargin:this.textMargin,fontSize:this.fontSize,background:this.background,margin:this.margin,marginTop:this.marginTop,marginBottom:this.marginBottom,marginLeft:this.marginLeft,marginRight:this.marginRight,valid:this.valid}}constructor(i){this.renderer=i,this.elementType="svg",this.cssClass="barcode",this.format="CODE128",this.lineColor="#000000",this.width=2,this.height=100,this.displayValue=!1,this.fontOptions="",this.font="monospace",this.textAlign="center",this.textPosition="bottom",this.textMargin=2,this.fontSize=20,this.background="#ffffff",this.margin=10,this.marginTop=10,this.marginBottom=10,this.marginLeft=10,this.marginRight=10,this.value="",this.valid=()=>!0}ngAfterViewInit(){this.createBarcode()}ngOnChanges(){this.bcElement&&this.createBarcode()}createBarcode(){if(!this.value)return;let i;switch(this.elementType){case"img":i=this.renderer.createElement("img");break;case"canvas":i=this.renderer.createElement("canvas");break;default:i=this.renderer.createElement("svg","svg")}Rm(i,this.value,this.options);for(const r of this.bcElement.nativeElement.childNodes)this.renderer.removeChild(this.bcElement.nativeElement,r);this.renderer.appendChild(this.bcElement.nativeElement,i)}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(t.sFG))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["ngx-barcode6"]],viewQuery:function(r,o){if(1&r&&t.GBs(jm,5),2&r){let a;t.mGM(a=t.lsd())&&(o.bcElement=a.first)}},inputs:{elementType:[t.Mj6.None,"bc-element-type","elementType"],cssClass:[t.Mj6.None,"bc-class","cssClass"],format:[t.Mj6.None,"bc-format","format"],lineColor:[t.Mj6.None,"bc-line-color","lineColor"],width:[t.Mj6.None,"bc-width","width"],height:[t.Mj6.None,"bc-height","height"],displayValue:[t.Mj6.None,"bc-display-value","displayValue"],fontOptions:[t.Mj6.None,"bc-font-options","fontOptions"],font:[t.Mj6.None,"bc-font","font"],textAlign:[t.Mj6.None,"bc-text-align","textAlign"],textPosition:[t.Mj6.None,"bc-text-position","textPosition"],textMargin:[t.Mj6.None,"bc-text-margin","textMargin"],fontSize:[t.Mj6.None,"bc-font-size","fontSize"],background:[t.Mj6.None,"bc-background","background"],margin:[t.Mj6.None,"bc-margin","margin"],marginTop:[t.Mj6.None,"bc-margin-top","marginTop"],marginBottom:[t.Mj6.None,"bc-margin-bottom","marginBottom"],marginLeft:[t.Mj6.None,"bc-margin-left","marginLeft"],marginRight:[t.Mj6.None,"bc-margin-right","marginRight"],value:[t.Mj6.None,"bc-value","value"],valid:[t.Mj6.None,"bc-valid","valid"]},features:[t.OA$],decls:2,vars:2,consts:[["bcElement",""]],template:function(r,o){1&r&&t.nrm(0,"div",null,0),2&r&&t.HbH(o.cssClass)},encapsulation:2})}return n})(),zt=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=t.$C({type:n});static#i=this.\u0275inj=t.G2t({})}return n})();function Pm(n,s){if(1&n&&(t.j41(0,"div"),t.nrm(1,"ngx-barcode6",10),t.k0s()),2&n){const i=s.$implicit,r=t.XpG();t.R7$(),t.Mz_("id","contenuImprimerCodeBarreTEst",i,""),t.Y8G("bc-width",1)("bc-format","CODE128")("bc-height",27)("bc-value",r.valueCodeBarre)("bc-display-value",!0)}}let zn=(()=>{class n{constructor(i){this.produitService=i,this.DataCodeBarre=new t.bkB,this.valueCodeBarre="",this.nbcodeBarre=1,this.Sufix="ABC"}ngOnInit(){this.numbersArray=Array.from({length:this.nbcodeBarre},(i,r)=>r)}imprimer(){const i=document.getElementById("contenuImprimerCodeBarreTEst");if(i){const r=window.open("","PRINT","width=1000,height=800");if(!r)return console.error("La fen\xeatre d'impression n'a pas pu \xeatre ouverte."),!1;r.document.write(i.innerHTML),r.document.close(),r.print(),r.close()}return!0}GenationCode(){var i=this;return(0,It.A)(function*(){const r=(new Date).getTime()+"";let o;i.valueCodeBarre=i.Sufix+"-"+r.slice(r.length-7,r.length),i.numbersArray=yield Array.from({length:i.nbcodeBarre},(a,l)=>l),i.DataCodeBarre.emit(i.valueCodeBarre),$().fire({title:"Auto close alert!",html:"I will close in <b></b> milliseconds.",timer:20*i.nbcodeBarre,timerProgressBar:!0,didOpen:()=>{$().showLoading(null);const a=$().getHtmlContainer().querySelector("b");a&&(o=setInterval(()=>{a.textContent=$().getTimerLeft()},100))},willClose:()=>{o&&clearInterval(o)}}).then(a=>{a.dismiss===$().DismissReason.timer&&console.log("I was closed by the timer")})})()}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(Ve.D))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-generationcode"]],inputs:{inputFromParent:"inputFromParent"},outputs:{DataCodeBarre:"DataCodeBarre"},standalone:!0,features:[t.aNF],decls:11,vars:3,consts:[[1,"row","p-2"],[1,"flex-auto","p-1","mt-2","shadow-lg","rounded-4","p-3","surface-card"],[1,"flex"],[1,"flex","flex-column","gap-2"],["for","codebarre",1,"fs-5","fw-bold"],["type","text","pInputText","","maxlength","3","id","codebarre","aria-describedby","codebarre-help",1,"form-control","w-25",3,"ngModelChange","ngModel"],[1,"flex","flex-column","gap-2","p-3","mt-4"],["label","G\xe9n\xe9r\xe9","icon","pi pi-spin pi-cog","styleClass","p-button-raised p-button-text","iconPos","right",3,"click"],["id","contenuImprimerCodeBarreTEst",3,"hidden"],[4,"ngFor","ngForOf"],[1,"fw-bold",3,"bc-width","bc-format","bc-height","id","bc-value","bc-display-value"]],template:function(r,o){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),t.EFF(5,"Suffix"),t.k0s(),t.j41(6,"input",5),t.mxI("ngModelChange",function(l){return t.DH7(o.Sufix,l)||(o.Sufix=l),l}),t.k0s()(),t.j41(7,"div",6)(8,"p-button",7),t.bIt("click",function(){return o.GenationCode()}),t.k0s()()()()(),t.j41(9,"div",8),t.DNE(10,Pm,2,7,"div",9),t.k0s()),2&r&&(t.R7$(6),t.R50("ngModel",o.Sufix),t.R7$(3),t.Y8G("hidden",!0),t.R7$(),t.Y8G("ngForOf",o.numbersArray))},dependencies:[Ie.O3,V.YN,V.me,V.BC,V.tU,V.vS,d.tm,d.$n,zt,Xn,E.u,E.S,h.MD,h.Sq]})}return n})();const Am=["printableContent"];let Yn=(()=>{class n{constructor(){this.valueCodeQR=Date.now().toString(),this.nbcodeQR=1,this.Sufix="ABC",this.qrCodeDownloadLink=""}ngOnInit(){this.numbersArray=Array.from({length:this.nbcodeQR},(i,r)=>r)}imprimer(){alert("print");const i=document.getElementById("printableContent"),r=document.getElementById("imagecodeQr");if(i){const o=window.open("","PRINT","width=600,height=600");o?(o.document.write('<html lang="fr"><head><title>Imprimer</title></head><body>'),o.document.write("<img src="+r.src+"/>"),o.document.write("</body></html>"),o.document.close(),o.print(),o.close()):console.error("La fen\xeatre d'impression n'a pas pu \xeatre ouverte.")}}onChangeURL(i){this.qrCodeDownloadLink=i}GetGeneratedate(){this.valueCodeQR=this.Sufix+"-"+Date.now().toString().substring(0,6)}GenationCode(){this.GetGeneratedate()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-generationqr"]],viewQuery:function(r,o){if(1&r&&t.GBs(Am,5),2&r){let a;t.mGM(a=t.lsd())&&(o.printableContent=a.first)}},standalone:!0,features:[t.aNF],decls:10,vars:3,consts:[[1,"row","p-2"],[1,"flex-auto","p-1","mt-2","shadow-lg","rounded-4","p-2"],[1,"row"],[1,"col"],[1,"fs-5","fw-bold"],["pInputText","","styleClass","p-button-raised p-button-text","id","codebarre","aria-describedby","codebarre-help",1,"form-control","w-50",3,"ngModelChange","maxlength","ngModel"],["label","G\xe9n\xe9r\xe9","icon","pi pi-spin pi-cog","styleClass","p-button-raised p-button-text","iconPos","right",1,"float-end"],["download","qrcode",3,"href"]],template:function(r,o){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),t.EFF(5,"Suffix"),t.k0s(),t.j41(6,"input",5),t.bIt("ngModelChange",function(){return o.GetGeneratedate()}),t.mxI("ngModelChange",function(l){return t.DH7(o.Sufix,l)||(o.Sufix=l),l}),t.k0s()()(),t.nrm(7,"p-button",6),t.j41(8,"a",7),t.EFF(9,"Download"),t.k0s()()()),2&r&&(t.R7$(6),t.Y8G("maxlength",8),t.R50("ngModel",o.Sufix),t.R7$(2),t.Y8G("href",o.qrCodeDownloadLink,t.B4B))},dependencies:[Ie.O3,V.YN,V.me,V.BC,V.tU,V.vS,d.tm,d.$n]})}return n})();var pt=_(491),ve=_(4799),Ue=_(5312);let Wn=(()=>{class n{constructor(i){this.http=i,this.apiUrl=Ue.c.apiUrl}getAllArticles(){return this.http.get(`${this.apiUrl}/articles/read`)}getArticleById(i){return this.http.get(`${this.apiUrl}/articles/${i}`)}addArticle(i){return this.http.post(`${this.apiUrl}/articles/add`,i)}updateArticle(i){return this.http.put(`${this.apiUrl}/articles/update/${i.id}`,i)}deleteArticle(i){return this.http.delete(`${this.apiUrl}/articles/delete/${i}`)}static#e=this.\u0275fac=function(r){return new(r||n)(t.KVO(ie.Qq))};static#t=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yt=(()=>{class n{constructor(){this.showAddUserSubject=!1,this.showAddArticle=!1}closeDialog(){this.showAddUserSubject=!1}openDialog(){this.showAddUserSubject=!0}closeDialogueArticle(){this.showAddArticle=!1}openDialogueArticle(){this.showAddArticle=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Lm=["dt11"],Bm=()=>({height:"600px",width:"500px"}),Vm=()=>["id","code"],Gm=n=>({"ng-invalid ng-dirty":n});function Nm(n,s){1&n&&t.nrm(0,"p-confirmDialog")}function Um(n,s){1&n&&t.nrm(0,"p-toast")}function $m(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-button",9),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.returnBack())}),t.k0s()}}function Hm(n,s){if(1&n&&(t.j41(0,"div",6)(1,"h2",7),t.EFF(2,"Ajouter un produit"),t.k0s(),t.DNE(3,$m,1,0,"p-button",8),t.k0s()),2&n){const i=t.XpG();t.R7$(3),t.Y8G("ngIf",i.showButtunprod)}}function Km(n,s){if(1&n&&(t.j41(0,"div",73)(1,"p"),t.EFF(2),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.nom)}}function Xm(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td",74)(2,"p-button",75),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.removeQR(o))}),t.k0s(),t.j41(3,"p-button",43),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.imprimer(o.code))}),t.k0s()(),t.j41(4,"td"),t.nrm(5,"ngx-barcode6",76),t.k0s()()}if(2&n){const i=s.$implicit;t.R7$(5),t.FS9("id",i.code),t.Y8G("bc-width",1)("bc-format","CODE128")("bc-height",27)("bc-value",i.code)("bc-display-value",!0)}}function zm(n,s){if(1&n&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&n){const i=s.$implicit;t.R7$(),t.Lme(" ",i.name," - ",i.size," bytes ")}}function Ym(n,s){if(1&n&&(t.j41(0,"ul"),t.DNE(1,zm,2,2,"li",77),t.k0s()),2&n){const i=t.XpG(3);t.R7$(),t.Y8G("ngForOf",i.uploadedFiles)}}function Wm(n,s){if(1&n&&t.DNE(0,Ym,2,1,"ul",1),2&n){const i=t.XpG(2);t.Y8G("ngIf",i.uploadedFiles.length)}}function Qm(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"h5",13),t.EFF(4,"Information de produit"),t.k0s()(),t.j41(5,"div",14)(6,"label",15),t.nrm(7,"span",16),t.EFF(8," Nom produit "),t.k0s(),t.j41(9,"input",17),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newProduct.nom,o)||(a.newProduct.nom=o),t.Njj(o)}),t.k0s(),t.j41(10,"small",18),t.EFF(11,"V\xe9rifier bien que votre nom est significatif"),t.k0s()(),t.j41(12,"div",14)(13,"label",19),t.nrm(14,"span",20),t.EFF(15," D\xe9scription "),t.k0s(),t.j41(16,"textarea",21),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newProduct.description,o)||(a.newProduct.description=o),t.Njj(o)}),t.k0s()(),t.j41(17,"div",22)(18,"div",23)(19,"label",19),t.EFF(20,"Date de fabrication"),t.k0s(),t.j41(21,"p-calendar",24),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newProduct.dateFabrication,o)||(a.newProduct.dateFabrication=o),t.Njj(o)}),t.k0s()(),t.j41(22,"div",23)(23,"label",19),t.EFF(24,"Date d'expiration"),t.k0s(),t.j41(25,"p-calendar",24),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newProduct.dateExpiration,o)||(a.newProduct.dateExpiration=o),t.Njj(o)}),t.k0s()(),t.j41(26,"div",23)(27,"label",19),t.EFF(28,"S\xe9lection d'article"),t.k0s(),t.j41(29,"p-dropdown",25),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newProduct.article,o)||(a.newProduct.article=o),t.Njj(o)}),t.DNE(30,Km,3,1,"ng-template",26),t.k0s()(),t.j41(31,"div",27)(32,"button",28),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.openPopArticle())}),t.k0s()()()(),t.j41(33,"div",11)(34,"div",12)(35,"h5",13),t.EFF(36,"Prix & Quantit\xe9"),t.k0s()(),t.j41(37,"div",29)(38,"div",14)(39,"label",30),t.EFF(40,"Prix unitaire "),t.k0s(),t.j41(41,"p-inputNumber",31),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newProduct.prixUnitaire,o)||(a.newProduct.prixUnitaire=o),t.Njj(o)}),t.bIt("ngModelChange",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.setprixgros())}),t.k0s()(),t.j41(42,"div",14)(43,"label",30),t.EFF(44," Gain unitaire"),t.k0s(),t.j41(45,"p-inputNumber",32),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newProduct.gainUnitaire,o)||(a.newProduct.gainUnitaire=o),t.Njj(o)}),t.bIt("ngModelChange",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.setGain())}),t.k0s()()(),t.j41(46,"div",33)(47,"label",30),t.EFF(48,"Prix gros "),t.k0s(),t.j41(49,"p-inputNumber",34),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newProduct.prixGros,o)||(a.newProduct.prixGros=o),t.Njj(o)}),t.k0s()(),t.j41(50,"div",29)(51,"div",14)(52,"label",30),t.EFF(53,"Gain gros "),t.k0s(),t.j41(54,"p-inputNumber",35),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newProduct.gainGros,o)||(a.newProduct.gainGros=o),t.Njj(o)}),t.k0s()(),t.j41(55,"div",14)(56,"label",30),t.EFF(57,"Tax (TVA) "),t.k0s(),t.j41(58,"p-inputNumber",36),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newProduct.taxe,o)||(a.newProduct.taxe=o),t.Njj(o)}),t.k0s()()(),t.j41(59,"div",37)(60,"div",38)(61,"label",30),t.EFF(62,"Quantit\xe9 actuelle "),t.k0s(),t.j41(63,"p-inputNumber",39),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newProduct.qantite,o)||(a.newProduct.qantite=o),t.Njj(o)}),t.bIt("ngModelChange",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.setQtyGros())}),t.k0s()(),t.j41(64,"div",38)(65,"label",30),t.EFF(66,"Quantit\xe9 min gros "),t.k0s(),t.j41(67,"p-inputNumber",39),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newProduct.minQuantiteGros,o)||(a.newProduct.minQuantiteGros=o),t.Njj(o)}),t.k0s()(),t.j41(68,"div",38)(69,"label",30),t.EFF(70,"Min niveau stock "),t.k0s(),t.j41(71,"p-inputNumber",39),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newProduct.levelstock,o)||(a.newProduct.levelstock=o),t.Njj(o)}),t.k0s()()()(),t.j41(72,"div",11)(73,"div",38)(74,"div",40)(75,"h5",13),t.EFF(76,"G\xe9n\xe9ration code barres"),t.k0s()(),t.j41(77,"label",41),t.nrm(78,"span",42),t.EFF(79," Code \xe0 barre "),t.j41(80,"p-button",43),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.imprimer(o.newProduct.dataqr))}),t.k0s()(),t.j41(81,"div",29)(82,"app-generationcode",44),t.bIt("DataCodeBarre",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.setDataCode(o))}),t.k0s()(),t.j41(83,"div",45),t.EFF(84," G\xe9n\xe9ration code QR "),t.k0s(),t.nrm(85,"app-generationqr",46),t.j41(86,"input",47),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newProduct.dataqr,o)||(a.newProduct.dataqr=o),t.Njj(o)}),t.bIt("keyup",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.confirm())}),t.k0s(),t.j41(87,"small",48),t.EFF(88," V\xe9rifier bien que votre Code \xe0 barre"),t.k0s(),t.j41(89,"div",49)(90,"div",50),t.nrm(91,"ngx-barcode6",51),t.k0s(),t.j41(92,"div",52),t.EFF(93),t.k0s()()(),t.j41(94,"div",53)(95,"label",15),t.EFF(96," Groupe Code \xe0 barre "),t.k0s(),t.j41(97,"div",29)(98,"div",54)(99,"input",55),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newCodeGroupe,o)||(a.newCodeGroupe=o),t.Njj(o)}),t.bIt("keydown.enter",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.addtolistCode())}),t.k0s(),t.j41(100,"div",56)(101,"i",57),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.cleartolistCode())}),t.EFF(102,"tout effacer"),t.k0s()()(),t.j41(103,"div",58)(104,"span",59)(105,"input",60),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.searchCode,o)||(a.searchCode=o),t.Njj(o)}),t.bIt("input",function(){t.eBV(i);const o=t.sdS(109),a=t.XpG();return t.Njj(o.filterGlobal(a.searchCode,"contains"))}),t.k0s(),t.nrm(106,"i",61),t.k0s()()(),t.j41(107,"div",62)(108,"p-table",63,0),t.DNE(110,Xm,6,6,"ng-template",64),t.k0s()()()(),t.j41(111,"div",11)(112,"div",65),t.EFF(113," Images de produit "),t.k0s(),t.j41(114,"div",66)(115,"label",67),t.nrm(116,"span",68),t.EFF(117," Images de produit "),t.k0s(),t.j41(118,"div",69)(119,"p-fileUpload",70),t.bIt("onSelect",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onUpload(o))}),t.DNE(120,Wm,1,1,"ng-template",71),t.k0s()(),t.j41(121,"span",72),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.clearFiles())}),t.EFF(122,"Effacer les r\xe9cents"),t.k0s()()()()}if(2&n){const i=t.XpG();t.R7$(9),t.R50("ngModel",i.newProduct.nom),t.R7$(7),t.R50("ngModel",i.newProduct.description),t.Y8G("autoResize",!0),t.R7$(5),t.R50("ngModel",i.newProduct.dateFabrication),t.Y8G("touchUI",!0)("readonlyInput",!0),t.R7$(4),t.R50("ngModel",i.newProduct.dateExpiration),t.Y8G("touchUI",!0)("readonlyInput",!0),t.R7$(4),t.Y8G("options",i.articles),t.R50("ngModel",i.newProduct.article),t.Y8G("filter",!0)("showClear",!0),t.R7$(12),t.Y8G("min",0),t.R50("ngModel",i.newProduct.prixUnitaire),t.R7$(4),t.R50("ngModel",i.newProduct.gainUnitaire),t.Y8G("min",0),t.R7$(),t.Y8G("hidden",!0),t.R7$(3),t.R50("ngModel",i.newProduct.prixGros),t.Y8G("min",0),t.R7$(5),t.R50("ngModel",i.newProduct.gainGros),t.Y8G("min",0),t.R7$(4),t.R50("ngModel",i.newProduct.taxe),t.Y8G("min",0),t.R7$(5),t.R50("ngModel",i.newProduct.qantite),t.Y8G("showButtons",!0)("min",0)("min",0)("minFractionDigits",3),t.R7$(4),t.R50("ngModel",i.newProduct.minQuantiteGros),t.Y8G("showButtons",!0)("min",0)("min",0)("minFractionDigits",3),t.R7$(4),t.R50("ngModel",i.newProduct.levelstock),t.Y8G("showButtons",!0)("min",1)("minFractionDigits",3),t.R7$(11),t.Y8G("inputFromParent",i.data),t.R7$(),t.Y8G("hidden",!0),t.R7$(2),t.Y8G("hidden",!0),t.R7$(),t.R50("ngModel",i.newProduct.dataqr),t.R7$(3),t.FS9("id",i.newProduct.dataqr),t.R7$(2),t.Y8G("bc-width",1)("bc-format","CODE128")("bc-height",27)("bc-value",i.newProduct.dataqr)("bc-display-value",!0),t.R7$(2),t.SpI(" ",i.newProduct.nom,""),t.R7$(6),t.R50("ngModel",i.newCodeGroupe),t.R7$(6),t.R50("ngModel",i.searchCode),t.R7$(3),t.Y8G("value",i.subdataqr)("globalFilterFields",t.lJ4(58,Vm))("loading",i.loading),t.R7$(11),t.FS9("url",i.produitService.apifilePrime),t.Y8G("showUploadButton",!1)("multiple",!0)("maxFileSize",1e5)}}function qm(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",81),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.returnBack())}),t.k0s()}}function Jm(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",78),t.DNE(1,qm,1,0,"button",79),t.j41(2,"button",80),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.ajouterProduit())}),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",i.showButtunprod)}}function Zm(n,s){1&n&&(t.j41(0,"small",91),t.EFF(1,"Name is required."),t.k0s())}function eh(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",82)(1,"label",83),t.EFF(2,"Nom"),t.k0s(),t.j41(3,"input",84),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.article.nom,o)||(a.article.nom=o),t.Njj(o)}),t.k0s(),t.DNE(4,Zm,2,0,"small",85),t.k0s(),t.j41(5,"div",82)(6,"label",86),t.EFF(7,"Description"),t.k0s(),t.j41(8,"textarea",87),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.article.description,o)||(a.article.description=o),t.Njj(o)}),t.k0s()(),t.j41(9,"div",88)(10,"label",89),t.EFF(11," S\xe9lection de l'unit\xe9 "),t.k0s(),t.j41(12,"p-dropdown",90),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.article.unite,o)||(a.article.unite=o),t.Njj(o)}),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(3),t.R50("ngModel",i.article.nom),t.Y8G("ngClass",t.eq3(7,Gm,i.submitted&&!i.article.nom)),t.R7$(),t.Y8G("ngIf",i.submitted&&!i.article.nom),t.R7$(4),t.R50("ngModel",i.article.description),t.R7$(4),t.Y8G("options",i.newArticleunite),t.R50("ngModel",i.article.unite),t.Y8G("showClear",!0)}}function th(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",92),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.hideDialog())}),t.k0s(),t.j41(1,"button",93),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.addArticle())}),t.k0s()}}let Wt=(()=>{class n{constructor(i,r,o,a,l,p,S,O){this.produitService=i,this.articleService=r,this.dialogueService=o,this.route=a,this.sanitizer=l,this.router=p,this.messageService=S,this.confirmationService=O,this.newProduct=new Ne.I,this.SelectedFile=new Blob,this.uploadedFiles=[],this.safeImageUrl=[],this.dataToParent=new t.bkB,this.subdataqr=[],this.loading=!1,this.activityValues=[0,100],this.searchCode="",this.newCodeGroupe="",this.codeISvalide=!0,this.visibleDetails=!1,this.product=new Ne.I,this.SearchArticle="",this.articles=[],this.selectedArticle=new dt.n,this.showButtunprod=!0,this.articleDialog=!1,this.submitted=!1,this.article=new dt.n,this.newArticleunite=["G","CM","ML","PIECE"],this.EventEmitter=t.bkB,this.data="gfg",this.data="kndjh"}ngOnInit(){var i=this;return(0,It.A)(function*(){i.updateRootFromCurrentPath();const r=i.route.snapshot.paramMap.get("id");try{if(r&&!i.shouldStayOnSamePageFacture()){const a=yield i.produitService.getProduitById(Number(r)).toPromise();i.newProduct=a,i.newProduct._dateFabrication=new Date(a._dateFabrication),i.newProduct._dateExpiration=new Date(a._dateExpiration),Array.isArray(a._subdataqr)?a._subdataqr.forEach(l=>{i.subdataqr.push({id:l,code:l})}):console.warn("Product _subdataqr is not an array or is undefined",a._subdataqr),Array.isArray(a._filesList)?i.loadFile(a._filesList):console.warn("Product _filesList is not an array or is undefined",a._filesList)}const o=yield i.produitService.getArticles().toPromise();i.articles=o,console.log("Produit r\xe9cup\xe9r\xe9 !!",i.newProduct)}catch(o){console.error("Erreur lors du chargement des donn\xe9es :",o)}i.produitService.getArticles().subscribe(o=>{i.articles=o})})()}ajouterProduit(){this.newProduct.nom?.trim()?this.newProduct.article.nom&&0!==Object.keys(this.newProduct.article).length?this.codeISvalide?this.newProduct.prixUnitaire<=0?this.messageService.add({severity:"error",summary:"Prix invalide!",detail:"Prix unitaire doit \xeatre sup\xe9rieur \xe0 0 SVP !"}):(this.newProduct.subdataqr=this.subdataqr.map(i=>i.code),this.newProduct.id?this.produitService.modifierProduit(this.newProduct,this.uploadedFiles).subscribe(i=>{i?(this.newProduct=new Ne.I,$().fire("Succ\xe8s","Le produit a \xe9t\xe9 mis \xe0 jour avec succ\xe8s","success"),this.router.navigate(["/uikit/produits"])):$().fire("Erreur Duplication","Code Barre Ou QR Existe d\xe9j\xe0","error")},i=>{console.error("Erreur lors de la mise \xe0 jour du produit :",i),$().fire("Erreur","Une erreur s'est produite lors de la mise \xe0 jour du produit","error")}):this.produitService.addProduit(this.newProduct,this.uploadedFiles).subscribe(i=>{i?this.confirmationService.confirm({message:"Le produit a \xe9t\xe9 ajout\xe9 avec succ\xe8s. Voulez-vous consulter la liste des produits ?",accept:()=>{this.newProduct=new Ne.I,this.router.navigate(["/uikit/produits"])},reject:()=>{this.newProduct=new Ne.I}}):$().fire("Erreur Duplication","Code Barre Ou QR Existe d\xe9j\xe0","error")},i=>{console.error("Erreur lors de l'ajout du produit :",i),$().fire("Erreur","Une erreur s'est produite lors de l'ajout du produit","error")})):this.messageService.add({severity:"error",summary:"Code est dupliqu\xe9 !",detail:"Votre code barre doit \xeatre unique SVP !"}):this.messageService.add({severity:"error",summary:"Article vide!",detail:"Les d\xe9tails de l'article ne peuvent pas \xeatre vides"}):this.messageService.add({severity:"error",summary:"Nom produit !",detail:"Nom de produit invalide"})}clear(i){i.clear()}onUpload(i){if(i&&i.files){for(let r of i.files)this.uploadedFiles.push(r);this.messageService.add({severity:"info",summary:"File Uploaded",detail:""})}}confirm(){console.log(this.newProduct._dataqr),this.codeISvalide=!0,""!==this.newProduct._dataqr.trim()&&this.produitService.getProduitByQrNom(this.newProduct._dataqr).subscribe(i=>{null!==i?($().fire({title:"Dublication de code!",text:"Code \xe0 barre ou Qr doit etre unique",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"afficher",cancelButtonText:"annuler"}).then(r=>{r.isConfirmed&&(this.product=i,this.visibleDetails=!0)}),this.codeISvalide=!1):this.codeISvalide=!0})}loadFile(i){this.safeImageUrl=[],i.forEach(r=>{this.produitService.getImageProduit(r.name).subscribe(o=>{this.uploadedFiles.push(o),console.log(this.uploadedFiles);const a=new FileReader;a.onloadend=()=>{const l=URL.createObjectURL(o);this.safeImageUrl.push(this.sanitizer.bypassSecurityTrustUrl(l))},a.readAsText(o)},o=>{console.error("Error loading file:",o)})})}onFileSelected(i){if(i.target.files&&i.target.files[0]){this.SelectedFile=i.target.files[0];const r=new FileReader;r.onload=o=>{this.selectedImage=o.target.result},r.readAsDataURL(i.target.files[0])}}setDataCode(i){this.newProduct.dataqr=i}returnBack(){this.produitService.returnBack()}setprixgros(){this.newProduct._prixGros=this.newProduct._prixUnitaire}setQtyGros(){this.newProduct._minQuantiteGros=this.newProduct._qantite}setGain(){this.newProduct._gainGros=this.newProduct._gainUnitaire}removeQR(i){let r=[];this.subdataqr.forEach(o=>{i.id!==o.code&&r.push(o),console.log(o)}),this.subdataqr=r}addtolistCode(){""!==this.newCodeGroupe.trim()&&this.produitService.getProduitByQrNom(this.newCodeGroupe).subscribe(i=>{null!==i?$().fire({title:"Dublication de code!",text:"Code \xe0 barre ou Qr doit etre unique",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"afficher",cancelButtonText:"annuler"}).then(r=>{r.isConfirmed&&(this.product=i,this.visibleDetails=!0)}):null==this.subdataqr.find(r=>r.id===this.newCodeGroupe)&&this.newCodeGroupe!==this.newProduct._dataqr?(this.subdataqr.push({id:this.newCodeGroupe,code:this.newCodeGroupe}),this.newCodeGroupe=""):$().fire("Erreur Duplication","Code Barre  Existe d\xe9ja dans le groupe","error")})}cleartolistCode(){this.subdataqr=[]}imprimer(i){const r=document.getElementById(i);if(r){const o=window.open("","PRINT","width=1000,height=800");if(!o)return console.error("La fen\xeatre d'impression n'a pas pu \xeatre ouverte."),!1;o.document.write(r.innerHTML),o.document.close(),o.print(),o.close()}return!0}updateShowButtun(){this.showButtunprod=!this.root.includes("add-facture")}updateRootFromCurrentPath(){this.root=this.router.url,this.updateShowButtun(),console.log("root",this.root)}clearFiles(){this.uploadedFiles=[]}openPopArticle(){this.articleDialog=!0}hideDialog(){this.articleDialog=!1}addArticle(){this.submitted=!0,""==this.article.nom.trim()?$().fire({title:"Nom article Obligatoire !",text:"Nom article est vide",icon:"error"}):null==this.article.unite?$().fire({title:"Unit\xe9 Obligatoire !",text:"G , CM , ML ,Pi\xe9ce",icon:"error"}):this.produitService.addArticle(this.article).subscribe(i=>{this.article=new dt.n,this.getAllArticles(),$().fire({title:"Enregistrement",text:"votre article est bien enregistr\xe9",icon:"success"})},i=>{console.log(i)}),this.hideDialog()}getAllArticles(){this.produitService.getArticles().subscribe(i=>{this.articles=i},i=>{$().fire({icon:"error",title:"Oops...",text:"Vous n'avez pas la permission s'il vous plait  contacter l'administrateur.  "})})}addNewArticle(){this.dialogueService.openDialogueArticle()}shouldStayOnSamePageFacture(){return this.router.url.includes("/update-facture")}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(Ve.D),t.rXU(Wn),t.rXU(Yt),t.rXU(c.nX),t.rXU(Ct.up),t.rXU(c.Ix),t.rXU(L.bg),t.rXU(L.td))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-produit-ajout"]],viewQuery:function(r,o){if(1&r&&t.GBs(Lm,5),2&r){let a;t.mGM(a=t.lsd())&&(o.dv=a.first)}},outputs:{dataToParent:"dataToParent"},standalone:!0,features:[t.aNF],decls:9,vars:7,consts:[["dt11",""],[4,"ngIf"],["pTemplate","header"],["pTemplate","content"],["pTemplate","footer"],["header","Article Details",1,"p-fluid",3,"visibleChange","visible","modal"],[1,"flex","gap-2","justify-content-between","p-3"],[1,"text-primary-600","font-bold","m-3"],["icon","pi pi-times","styleClass","p-button-rounded p-button-danger p-button-text p-button-raised",3,"click",4,"ngIf"],["icon","pi pi-times","styleClass","p-button-rounded p-button-danger p-button-text p-button-raised",3,"click"],[1,"flex","flex-wrap","gap-2"],[1,"flex-auto","card"],[1,"PrimaryColorTitle","fs-3","font-bold"],[1,"text-bluegray-600","font-bold"],[1,"flex","flex-column","gap-2","p-3"],["for","nomproduit",1,"font-bold","fs-5"],[1,"pi","pi-tags","text-success","font-bold"],["pInputText","","id","nomproduit","aria-describedby","username-help",1,"form-control",3,"ngModelChange","ngModel"],["id","nomproduit-help"],[1,"font-bold","fs-5"],[1,"pi","pi-info-circle","text-success","font-bold","fs-5"],["rows","5","cols","30","pInputTextarea","",3,"ngModelChange","ngModel","autoResize"],[1,"flex","gap-2","p-2","justify-content-between","align-items-center","flex-wrap"],[1,"flex","flex-column","gap-1","p-col-12","p-md-5","p-lg-4"],["dateFormat","yy-mm-dd",3,"ngModelChange","ngModel","touchUI","readonlyInput"],["optionLabel","nom","filterBy","nom","placeholder","Select Article",3,"ngModelChange","options","ngModel","filter","showClear"],["pTemplate","item"],[1,"flex","flex-column","gap-1","p-col-12","p-md-2","p-lg-2"],["pButton","","pRipple","","label","","icon","pi pi-plus",1,"p-button-rounded","p-button-success",3,"click"],[1,"flex"],[1,"form-label","font-bold","fs-5"],["pTooltip","prix unitaire d'achat","mode","currency","inputId","currency-india","currency","TND","currencyDisplay","code","locale","en-IN",3,"ngModelChange","min","ngModel"],["pTooltip","Gain de produit pour le prix unitaire d'achat","mode","currency","inputId","currency-india","currency","TND","currencyDisplay","code","locale","en-IN",3,"ngModelChange","ngModel","min"],[1,"col",3,"hidden"],["pTooltip","prix gros d'achat","mode","currency","inputId","currency-india","currency","TND","currencyDisplay","code","locale","en-IN",3,"ngModelChange","ngModel","min"],["pTooltip","Gain de produit pour le prix gros","mode","currency","inputId","currency-india","currency","TND","currencyDisplay","code","locale","en-IN",3,"ngModelChange","ngModel","min"],["mode","currency","inputId","currency-india","currency","TND","currencyDisplay","code","locale","en-IN",3,"ngModelChange","ngModel","min"],[1,"row","g-3","p-2","shadow-sm"],[1,"col"],["inputId","minmax-buttons","inputId","locale-us","mode","decimal","locale","en-US",3,"ngModelChange","ngModel","showButtons","min","minFractionDigits"],[1,"fs-3","font-bold"],["for","codebarre",1,"font-bold","fs-5"],[1,"pi","pi-qrcode","text-success"],["icon","pi pi-print","styleClass","p-button-rounded p-button-text",3,"click"],[3,"DataCodeBarre","inputFromParent"],[1,"p-3","PrimaryColorTitle","fs-3","fw-bold",3,"hidden"],[3,"hidden"],["pInputText","","id","codebarreG","aria-describedby","codebarre-help",1,"form-control",3,"ngModelChange","keyup","ngModel"],["id","codebarre-help"],[1,"flex","flex-column",3,"id"],[1,"flex","justify-content-center"],[3,"bc-width","bc-format","bc-height","bc-value","bc-display-value"],[1,"flex","justify-content-center",2,"font-size","14px","text-align","center"],[1,"flex-auto"],[1,"p-2","mt-2"],["pInputText","","id","codebarre","aria-describedby","codebarre-help","placeholder","Ajouter code barre",1,"form-control",3,"ngModelChange","keydown.enter","ngModel"],[1,"p-2"],[1,"pi","pi-trash","text-1xl","text-danger","float-end","p-2",2,"cursor","pointer",3,"click"],[1,"col-12","lg:col-4","lg:mb-0"],[1,"p-input-icon-right"],["type","text","pInputText","","placeholder","Rechercher par code bar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"pi","pi-search"],[1,"flex","overflow-y-scroll","shadow-lg","p-2",2,"max-height","300px"],[3,"value","globalFilterFields","loading"],["pTemplate","body"],[1,"p-3","PrimaryColorTitle","fs-3","fw-bold"],[1,"card","flex","justify-content-center","ColorGradient2","shadow-lg","p-2"],["for","nomproduit",1,"fw-bold","fs-5"],[1,"pi","pi-image","text-success"],[2,"max-height","800px","overflow-y","auto"],["name","demo[]","accept","image/*",3,"onSelect","url","showUploadButton","multiple","maxFileSize"],["pTemplate","content",1,"ColorGradient2"],[1,"bi","bi-x-lg","cursor-pointer","p-2","text-danger",3,"click"],[1,"flex","align-items-center","gap-2"],[2,"width","20%"],["icon","pi pi-trash","styleClass","p-button-rounded p-button-text",3,"click"],[1,"fw-bold",3,"bc-width","bc-format","bc-height","id","bc-value","bc-display-value"],[4,"ngFor","ngForOf"],[1,"flex","justify-content-end","align-items-end"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times","class","p-button-text",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","description"],["id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"p-3","PrimaryColorTitle","fs-3","font-bold"],[1,"font-bold","block","mb-2"],["filterBy","nom","placeholder","Select Article",3,"ngModelChange","options","ngModel","showClear"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Annuler","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Ajouter","icon","pi pi-check",1,"p-button-text",3,"click"]],template:function(r,o){1&r&&(t.DNE(0,Nm,1,0,"p-confirmDialog",1),t.j41(1,"p-card"),t.DNE(2,Um,1,0,"p-toast",1)(3,Hm,4,1,"ng-template",2)(4,Qm,123,59,"ng-template",3)(5,Jm,3,1,"ng-template",4),t.k0s(),t.j41(6,"p-dialog",5),t.mxI("visibleChange",function(l){return t.DH7(o.articleDialog,l)||(o.articleDialog=l),l}),t.DNE(7,eh,13,9,"ng-template",3)(8,th,2,0,"ng-template",4),t.k0s()),2&r&&(t.Y8G("ngIf",o.showButtunprod),t.R7$(2),t.Y8G("ngIf",o.showButtunprod),t.R7$(4),t.Aen(t.lJ4(6,Bm)),t.R50("visible",o.articleDialog),t.Y8G("modal",!0))},dependencies:[d.tm,d._f,d.$n,L.Ei,Ie.O3,Ie.YI,E.u,E.S,Ge,Ye,Nn.I,w.ms,V.me,V.BC,V.YS,V.vS,J.Z,J.n,L.Gg,de.MB,de.y8,$n,Ae.rO,Ae.Vv,be.P,be.l,H.bG,H.XI,Xt,et,op,zn,Yn,zt,Xn,h.MD,h.YU,h.Sq,h.bT,pt.D,pt.Z,ve.F,ve.T]})}return n})();var $e=_(494);const ih=["dt1"],nh=()=>["nom","description","unite"],oh=()=>[5,10,20,30,50],rh=()=>({height:"600px",width:"500px"}),Qn=()=>({width:"450px"}),sh=()=>({"background-color":"#b9c7ce",color:"#1a1717"}),ah=n=>({"ng-invalid ng-dirty":n});function lh(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",17)(1,"button",18),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.showDialogCreate())}),t.k0s(),t.j41(2,"button",19),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.refresh())}),t.k0s()()}}function ch(n,s){if(1&n&&t.nrm(0,"p-avatar",22),2&n){const i=t.XpG(2);t.Aen(t.lJ4(3,sh)),t.Y8G("value",i.articles.length+"")}}function dh(n,s){if(1&n&&(t.j41(0,"div",20),t.DNE(1,ch,1,4,"p-avatar",21),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",i.displayusers)}}function ph(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",23)(1,"h5",24),t.EFF(2,"Gestion des articles"),t.k0s(),t.j41(3,"span",25),t.nrm(4,"i",26),t.j41(5,"input",27),t.bIt("input",function(o){t.eBV(i);const a=t.XpG(),l=t.sdS(8);return t.Njj(a.onGlobalFilter(l,o))}),t.k0s()()()}}function uh(n,s){1&n&&(t.j41(0,"tr")(1,"th",28),t.nrm(2,"p-tableHeaderCheckbox"),t.k0s(),t.j41(3,"th",29),t.EFF(4,"Code "),t.nrm(5,"p-sortIcon",30),t.k0s(),t.j41(6,"th",31),t.EFF(7,"Nom "),t.nrm(8,"p-sortIcon",32),t.k0s(),t.j41(9,"th",33),t.EFF(10,"Description "),t.nrm(11,"p-sortIcon",34),t.k0s(),t.j41(12,"th",35),t.EFF(13,"Unite "),t.nrm(14,"p-sortIcon",36),t.k0s(),t.nrm(15,"th"),t.k0s())}function _h(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.nrm(2,"p-tableCheckbox",37),t.k0s(),t.j41(3,"td",38)(4,"span",39),t.EFF(5,"Code"),t.k0s(),t.EFF(6),t.k0s(),t.j41(7,"td",38)(8,"span",39),t.EFF(9,"Nom"),t.k0s(),t.EFF(10),t.k0s(),t.j41(11,"td",38)(12,"span",39),t.EFF(13,"Description"),t.k0s(),t.EFF(14),t.k0s(),t.j41(15,"td",40)(16,"span",39),t.EFF(17,"Unite"),t.k0s(),t.EFF(18),t.k0s(),t.j41(19,"td",41)(20,"div",42)(21,"button",43),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.editArticle(o))}),t.k0s(),t.j41(22,"button",44),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.removeArticle(o))}),t.k0s()()()()}if(2&n){const i=s.$implicit;t.R7$(2),t.Y8G("value",i),t.R7$(4),t.SpI("",i.id," "),t.R7$(4),t.SpI("",i.nom," "),t.R7$(4),t.JRh(i.description),t.R7$(4),t.JRh(i.unite)}}function mh(n,s){1&n&&(t.j41(0,"small",54),t.EFF(1,"Name is required."),t.k0s())}function hh(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",45)(1,"label",46),t.EFF(2,"Nom"),t.k0s(),t.j41(3,"input",47),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.article.nom,o)||(a.article.nom=o),t.Njj(o)}),t.k0s(),t.DNE(4,mh,2,0,"small",48),t.k0s(),t.j41(5,"div",45)(6,"label",49),t.EFF(7,"Description"),t.k0s(),t.j41(8,"textarea",50),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.article.description,o)||(a.article.description=o),t.Njj(o)}),t.k0s()(),t.j41(9,"div",51)(10,"label",52),t.EFF(11," S\xe9lection de l'unit\xe9 "),t.k0s(),t.j41(12,"p-dropdown",53),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.article.unite,o)||(a.article.unite=o),t.Njj(o)}),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(3),t.R50("ngModel",i.article.nom),t.Y8G("ngClass",t.eq3(7,ah,i.submitted&&!i.article.nom)),t.R7$(),t.Y8G("ngIf",i.submitted&&!i.article.nom),t.R7$(4),t.R50("ngModel",i.article.description),t.R7$(4),t.Y8G("options",i.newArticleunite),t.R50("ngModel",i.article.unite),t.Y8G("showClear",!0)}}function fh(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",55),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.hideDialog())}),t.k0s(),t.j41(1,"button",56),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.addArticle())}),t.k0s()}}function gh(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",57),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.deleteProductsDialog=!1)}),t.k0s(),t.j41(1,"button",58),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.confirmDeleteSelected())}),t.k0s()}}function bh(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",57),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.deleteProductDialog=!1)}),t.k0s(),t.j41(1,"button",58),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.confirmDelete())}),t.k0s()}}let vh=(()=>{class n{constructor(i,r,o,a,l){this.produitService=i,this.messageService=r,this.router=o,this.articleService=a,this.dialogueService=l,this.articles=[],this.article=new dt.n,this.selectedArticles=[],this.loading=!1,this.SearchArticle="",this.visibleArticle=!1,this.newArticleunite=["G","CM","ML","PIECE"],this.displayusers=!0,this.articleDialog=!1,this.submitted=!1,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.UNITE=dt.c,this.displayfacture=!1,this.displayusers=!0}ngOnInit(){this.getAllArticles(),this.produitService.existArticle("article")}ShowPopArticle(){this.visibleArticle=!this.visibleArticle}getAllArticles(){this.produitService.getArticles().subscribe(i=>{this.articles=i},i=>{this.displayusers=!1,$().fire({icon:"error",title:"Oops...",text:"Vous n'avez pas la permission s'il vous plait  contacter l'administrateur.  "})})}removeArticle(i){$().fire({title:"tu es s\xfbr ?",text:"Vous ne pourrez pas revenir en arri\xe8re !",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimez-le !"}).then(r=>{r.isConfirmed&&this.produitService.deleteArticle(i).subscribe(o=>{1==o&&($().fire({title:"supprim\xe9!",text:"Votre article a \xe9t\xe9 supprim\xe9.",icon:"success"}),this.getAllArticles())})})}editArticle(i){this.articleDialog=!0,this.article=i}showDialogCreate(){this.articleDialog=!0}addArticle(){this.submitted=!0,this.showDialogCreate(),""==this.article.nom.trim()?$().fire({title:"Nom article Obligatoire !",text:"Nom article est vide",icon:"error"}):null==this.article.unite?$().fire({title:"Unit\xe9 Obligatoire !",text:"G , CM , ML ,Pi\xe9ce",icon:"error"}):this.produitService.addArticle(this.article).subscribe(i=>{this.dialogueService.closeDialogueArticle(),this.article=new dt.n,this.ShowPopArticle(),this.getAllArticles(),$().fire({title:"Enregistrement",text:"votre article est bien enregistr\xe9",icon:"success"})},i=>{console.log(i)}),this.hideDialog()}onGlobalFilter(i,r){i.filterGlobal(r.target.value,"contains")}deleteArticle(i){this.deleteProductDialog=!0,this.article=i}confirmDeleteSelected(){this.selectedArticles.forEach(i=>{this.articleService.deleteArticle(i.id).subscribe(()=>{this.articles=this.articles.filter(r=>r.id!==i.id),this.messageService.add({severity:"success",summary:"Successful",detail:"Article Deleted",life:3e3})},r=>{console.error("Error deleting user:",r)})}),this.deleteProductDialog=!1}confirmDelete(){null!=this.article.id&&this.articleService.deleteArticle(this.article.id).subscribe(()=>{console.log("article deleted"),this.messageService.add({severity:"success",summary:"Successful",detail:"article Deleted",life:3e3}),this.getAllArticles()}),this.deleteProductDialog=!1}hideDialog(){this.articleDialog=!1}deleteSelectedArticles(){this.deleteProductsDialog=!0}refresh(){this.getAllArticles()}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(Ve.D),t.rXU(L.bg),t.rXU(c.Ix),t.rXU(Wn),t.rXU(Yt))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-article"]],viewQuery:function(r,o){if(1&r&&t.GBs(ih,5),2&r){let a;t.mGM(a=t.lsd())&&(o.table=a.first)}},standalone:!0,features:[t.aNF],decls:27,vars:25,consts:[["dt",""],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Affichage {first} \xe0 {last} sur {totalRecords} \xe9lements","selectionMode","multiple","dataKey","id",3,"selectionChange","value","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover","selection"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Article Details",1,"p-fluid","flex","flex-wrap",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","label","Ajouter","icon","pi pi-plus",1,"p-button-success","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","label","Actualiser","icon","pi pi-refresh",1,"p-button-primary","p-button-outlined",3,"click"],[1,"col-2","float-end","d-flex","d-inline"],["class","float-end","icon","pi pi-bars","pBadge","","styleClass","mr-5","size","large",3,"value","style",4,"ngIf"],["icon","pi pi-bars","pBadge","","styleClass","mr-5","size","large",1,"float-end",3,"value"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","recherche...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","id"],["field","id"],["pSortableColumn","nom"],["field","nom"],["pSortableColumn","description"],["field","description"],["pSortableColumn","unite"],["field","unite"],[3,"value"],[2,"min-width","10rem"],[1,"p-column-title"],[2,"min-width","8rem"],[2,"max-width","10rem"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","description"],["id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"p-3","PrimaryColorTitle","fs-3","font-bold"],[1,"font-bold","block","mb-2"],["filterBy","nom","placeholder","Select Article",3,"ngModelChange","options","ngModel","showClear"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Annuler","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Ajouter","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","Annuler",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Supprimer",1,"p-button-text",3,"click"]],template:function(r,o){if(1&r){const a=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.nrm(3,"p-toast"),t.j41(4,"p-toolbar",4),t.DNE(5,lh,3,0,"ng-template",5)(6,dh,2,1,"ng-template",6),t.k0s(),t.j41(7,"p-table",7,0),t.mxI("selectionChange",function(p){return t.eBV(a),t.DH7(o.selectedArticles,p)||(o.selectedArticles=p),t.Njj(p)}),t.DNE(9,ph,6,0,"ng-template",8)(10,uh,16,0,"ng-template",9)(11,_h,23,5,"ng-template",10),t.k0s()()()(),t.j41(12,"p-dialog",11),t.mxI("visibleChange",function(p){return t.eBV(a),t.DH7(o.articleDialog,p)||(o.articleDialog=p),t.Njj(p)}),t.DNE(13,hh,13,9,"ng-template",12)(14,fh,2,0,"ng-template",13),t.k0s(),t.j41(15,"p-dialog",14),t.mxI("visibleChange",function(p){return t.eBV(a),t.DH7(o.deleteProductsDialog,p)||(o.deleteProductsDialog=p),t.Njj(p)}),t.j41(16,"div",15),t.nrm(17,"i",16),t.j41(18,"span"),t.EFF(19,"\xcates-vous s\xfbr de vouloir supprimer?"),t.k0s()(),t.DNE(20,gh,2,0,"ng-template",13),t.k0s(),t.j41(21,"p-dialog",14),t.mxI("visibleChange",function(p){return t.eBV(a),t.DH7(o.deleteProductDialog,p)||(o.deleteProductDialog=p),t.Njj(p)}),t.j41(22,"div",15),t.nrm(23,"i",16),t.j41(24,"span"),t.EFF(25,"\xcates-vous s\xfbr de vouloir supprimer?"),t.k0s()(),t.DNE(26,bh,2,0,"ng-template",13),t.k0s()}2&r&&(t.R7$(7),t.Y8G("value",o.articles)("rows",10)("globalFilterFields",t.lJ4(20,nh))("paginator",!0)("rowsPerPageOptions",t.lJ4(21,oh))("showCurrentPageReport",!0)("rowHover",!0),t.R50("selection",o.selectedArticles),t.R7$(5),t.Aen(t.lJ4(22,rh)),t.R50("visible",o.articleDialog),t.Y8G("modal",!0),t.R7$(3),t.Aen(t.lJ4(23,Qn)),t.R50("visible",o.deleteProductsDialog),t.Y8G("modal",!0),t.R7$(6),t.Aen(t.lJ4(24,Qn)),t.R50("visible",o.deleteProductDialog),t.Y8G("modal",!0))},dependencies:[d.tm,d._f,L.Ei,H.bG,H.XI,H.Tg,H.yc,H.S9,H.nA,be.P,be.l,V.YN,V.me,V.BC,V.YS,V.vS,Xt,Te.EJ,Te.FO,Ce.m,Ce.e,et,Pi,E.u,E.S,J.Z,J.n,de.MB,de.y8,xe.m,xe.M,w.kr,w.ms,Ie.O3,Ge,Ye,h.bT,$e.Ko,h.YU]})}return n})();var Se=_(4694);class Qt{constructor(s=0,i="",r="",o=0,a=0,l="",p=new Se.K,S=[]){this.id=s,this.nom=i,this.adresse=r,this.tel=o,this.capitale=a,this.description=l,this.responsable=p,this.factures=S}get _id(){return this.id}set _id(s){this.id=s}get _nom(){return this.nom}set _nom(s){this.nom=s}get _adresse(){return this.adresse}set _adresse(s){this.adresse=s}get _tel(){return this.tel}set _tel(s){this.tel=s}get _capitale(){return this.capitale}set _capitale(s){this.capitale=s}get _description(){return this.description}set _description(s){this.description=s}get _responsable(){return this.responsable}set _responsable(s){this.responsable=s}get _factures(){return this.factures}set _factures(s){this.factures=s}}var re=_(2182);let qt=(()=>{class n{constructor(i,r){this.http=i,this.router=r,this.depots=[],this.api=Ue.c.apiUrl+"/depot"}getdepots(){const i=(0,re.gf)();if(console.log(i),i){const r=(new ie.Lr).set("Authorization",`Bearer ${i}`).set("Content-Type","application/json; charset=utf8");return this.http.get(`${this.api}/read`,{headers:r})}return new D.c}getAvailableResponsable(){const i=(0,re.gf)();if(console.log(i),i){const r=(new ie.Lr).set("Authorization",`Bearer ${i}`).set("Content-Type","application/json; charset=utf8");return this.http.get(`${this.api}/getResponsableDisponible`,{headers:r})}return new D.c}getDepotById(i){const r=(0,re.gf)();if(console.log(r),r){const o=(new ie.Lr).set("Authorization",`Bearer ${r}`).set("Content-Type","application/json; charset=utf8");return this.http.get(`${this.api}/getDepotById/${i}`,{headers:o})}return new D.c}getDepotByIdRes(i){const r=(0,re.gf)();if(console.log(r),r){const o=(new ie.Lr).set("Authorization",`Bearer ${r}`).set("Content-Type","application/json; charset=utf8");return this.http.get(`${this.api}/getDepotByIdRes/${i}`,{headers:o})}return new D.c}deleteDepot(i){const r=(0,re.gf)();if(console.log("Call Function Depot Delete : "+i),console.log(r),r){const o=(new ie.Lr).set("Authorization",`Bearer ${r}`).set("Content-Type","application/json; charset=utf8");return this.http.delete(`${this.api}/delete/${i}`,{headers:o})}return new D.c}updateDepot(i){const r=(0,re.gf)();if(console.log("Call Function Depot Update  Responsable role: "+(new h.TG).transform(i.responsable.id)),console.log(r),r){const o=(new ie.Lr).set("Authorization",`Bearer ${r}`).set("Content-Type","application/json; charset=utf8");return this.http.put(`${this.api}/update`,{id:i.id,nom:i.nom,adresse:i.adresse,tel:i.tel,capitale:i.capitale,description:i.description,responsable:{id:i.responsable.id},factures:[]},{headers:o})}return new D.c}addDepot(i){const r=(0,re.gf)();if(console.log(r),r){const o=(new ie.Lr).set("Authorization",`Bearer ${r}`).set("Content-Type","application/json; charset=utf8");return this.http.post(`${this.api}/createDto`,i,{headers:o})}return new D.c}returnBack(){console.log("Bouton cliqu\xe9"),$().fire({title:"Vous \xeates s\xfbr?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui",cancelButtonText:"Annuler"}).then(i=>{i.isConfirmed?(console.log("Confirmation re\xe7ue"),this.router.navigate(["/depot"])):(console.log("Annulation re\xe7ue"),$().fire({title:"Annulation",icon:"info",text:"Le retour a \xe9t\xe9 annul\xe9."}))})}exist(i){const r=(0,re.gf)();if(console.log(r),r){const o=(new ie.Lr).set("Authorization",`Bearer ${r}`).set("Content-Type","application/json; charset=utf8");let a={user:{id:(0,re.lL)().id},tableName:i};this.http.post(Ue.c.apiUrl+"/permission/checkpermission",a,{headers:o}).subscribe(l=>{this.permission=l,console.log("=======1111111>><>>>>>> "+(new h.TG).transform(this.permission))})}else this.permission=!1}static#e=this.\u0275fac=function(r){return new(r||n)(t.KVO(ie.Qq),t.KVO(c.Ix))};static#t=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ch=()=>["code","nom","description","capitale","adresse","responsable"],Th=()=>[10,20,30],Ih=()=>({height:"550px",width:"500px"}),yh=()=>({"background-color":"#b9c7ce",color:"#1a1717"}),Jt=n=>({"ng-invalid ng-dirty":n});function xh(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",14)(1,"button",15),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.showDialogCreate())}),t.k0s(),t.j41(2,"button",16),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.refrech())}),t.k0s()()}}function Eh(n,s){if(1&n&&t.nrm(0,"p-avatar",19),2&n){const i=t.XpG(2);t.Aen(t.lJ4(3,yh)),t.Y8G("value",i.depots.length+"")}}function wh(n,s){if(1&n&&(t.j41(0,"div",17),t.DNE(1,Eh,1,4,"p-avatar",18),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",i.displayusers)}}function Sh(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",20)(1,"h5",21),t.EFF(2,"Gestion des Depot"),t.k0s(),t.j41(3,"span",22),t.nrm(4,"i",23),t.j41(5,"input",24),t.bIt("input",function(o){t.eBV(i);const a=t.XpG(),l=t.sdS(8);return t.Njj(a.onGlobalFilter(l,o))}),t.k0s()()()}}function kh(n,s){1&n&&(t.j41(0,"tr")(1,"th",25),t.nrm(2,"p-tableHeaderCheckbox"),t.k0s(),t.j41(3,"th",26),t.EFF(4,"Code "),t.nrm(5,"p-sortIcon",27),t.k0s(),t.j41(6,"th",28),t.EFF(7,"Nom "),t.nrm(8,"p-sortIcon",29),t.k0s(),t.j41(9,"th",30),t.EFF(10,"Telephone "),t.nrm(11,"p-sortIcon",31),t.k0s(),t.j41(12,"th",32),t.EFF(13,"Description "),t.nrm(14,"p-sortIcon",33),t.k0s(),t.j41(15,"th",34),t.EFF(16,"Capitale "),t.nrm(17,"p-sortIcon",35),t.k0s(),t.j41(18,"th",36),t.EFF(19,"Adresse "),t.nrm(20,"p-sortIcon",37),t.k0s(),t.j41(21,"th",38),t.EFF(22,"Responsable "),t.nrm(23,"p-sortIcon",39),t.k0s(),t.nrm(24,"th"),t.k0s())}function Fh(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.nrm(2,"p-tableCheckbox",40),t.k0s(),t.j41(3,"td",41)(4,"span",42),t.EFF(5,"Code"),t.k0s(),t.EFF(6),t.k0s(),t.j41(7,"td",41)(8,"span",42),t.EFF(9,"Nom"),t.k0s(),t.EFF(10),t.k0s(),t.j41(11,"td",41)(12,"span",42),t.EFF(13,"Telephone"),t.k0s(),t.EFF(14),t.k0s(),t.j41(15,"td",41)(16,"span",42),t.EFF(17,"Description"),t.k0s(),t.EFF(18),t.k0s(),t.j41(19,"td",43)(20,"span",42),t.EFF(21,"Capitale"),t.k0s(),t.EFF(22),t.k0s(),t.j41(23,"td",43)(24,"span",42),t.EFF(25,"Adresse"),t.k0s(),t.EFF(26),t.k0s(),t.j41(27,"td",43)(28,"span",42),t.EFF(29,"Responsable"),t.k0s(),t.EFF(30),t.k0s(),t.j41(31,"td")(32,"div",44)(33,"button",45),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.editDepot(o))}),t.k0s(),t.j41(34,"button",46),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.removeDepot(o.id))}),t.k0s()()()()}if(2&n){const i=s.$implicit;t.R7$(2),t.Y8G("value",i),t.R7$(4),t.SpI("",i.id," "),t.R7$(4),t.SpI("",i.nom," "),t.R7$(4),t.SpI("",i.tel," "),t.R7$(4),t.JRh(i.description),t.R7$(4),t.JRh(i.capitale),t.R7$(4),t.JRh(i.adresse),t.R7$(4),t.JRh(i.responsable.lastname)}}function Dh(n,s){1&n&&(t.j41(0,"small",61),t.EFF(1,"nom est requis."),t.k0s())}function Oh(n,s){1&n&&(t.j41(0,"small",61),t.EFF(1,"Le telephone est requise."),t.k0s())}function Mh(n,s){1&n&&(t.j41(0,"small",61),t.EFF(1,"La capitale est requise."),t.k0s())}function Rh(n,s){1&n&&(t.j41(0,"small",61),t.EFF(1,"adresse is required."),t.k0s())}function jh(n,s){if(1&n){const i=t.RV6();t.j41(0,"label",47),t.EFF(1," Selectioner le responsable "),t.k0s(),t.j41(2,"p-dropdown",48),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.depot.responsable,o)||(a.depot.responsable=o),t.Njj(o)}),t.k0s(),t.j41(3,"div",49)(4,"label",50),t.EFF(5,"Nom"),t.k0s(),t.j41(6,"input",51),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.depot.nom,o)||(a.depot.nom=o),t.Njj(o)}),t.k0s(),t.DNE(7,Dh,2,0,"small",52),t.k0s(),t.j41(8,"div",49)(9,"label",53),t.EFF(10,"Telephone"),t.k0s(),t.j41(11,"input",54),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.depot.tel,o)||(a.depot.tel=o),t.Njj(o)}),t.k0s(),t.DNE(12,Oh,2,0,"small",52),t.k0s(),t.j41(13,"div",49)(14,"label",55),t.EFF(15,"Description"),t.k0s(),t.j41(16,"textarea",56),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.depot.description,o)||(a.depot.description=o),t.Njj(o)}),t.k0s()(),t.j41(17,"div",49)(18,"label",57),t.EFF(19,"Capitale"),t.k0s(),t.j41(20,"input",58),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.depot.capitale,o)||(a.depot.capitale=o),t.Njj(o)}),t.k0s(),t.DNE(21,Mh,2,0,"small",52),t.k0s(),t.j41(22,"div",49)(23,"label",59),t.EFF(24,"Adresse"),t.k0s(),t.j41(25,"input",60),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.depot.adresse,o)||(a.depot.adresse=o),t.Njj(o)}),t.k0s(),t.DNE(26,Rh,2,0,"small",52),t.k0s()}if(2&n){const i=t.XpG();t.R7$(2),t.Y8G("options",i.listReponsable),t.R50("ngModel",i.depot.responsable),t.Y8G("showClear",!0),t.R7$(4),t.R50("ngModel",i.depot.nom),t.Y8G("ngClass",t.eq3(16,Jt,i.submitted&&!i.depot.nom)),t.R7$(),t.Y8G("ngIf",i.submitted&&!i.depot.nom),t.R7$(4),t.R50("ngModel",i.depot.tel),t.Y8G("ngClass",t.eq3(18,Jt,i.submitted&&!i.depot.tel)),t.R7$(),t.Y8G("ngIf",i.submitted&&!i.depot.tel),t.R7$(4),t.R50("ngModel",i.depot.description),t.R7$(4),t.R50("ngModel",i.depot.capitale),t.Y8G("ngClass",t.eq3(20,Jt,i.submitted&&!i.depot.capitale)),t.R7$(),t.Y8G("ngIf",i.submitted&&!i.depot.capitale),t.R7$(4),t.R50("ngModel",i.depot.adresse),t.Y8G("ngClass",t.eq3(22,Jt,i.submitted&&!i.depot.adresse)),t.R7$(),t.Y8G("ngIf",i.submitted&&!i.depot.adresse)}}function Ph(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",62),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.hideDialog())}),t.k0s(),t.j41(1,"button",63),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.ajouterDepot())}),t.k0s()}}let Ah=(()=>{class n{constructor(i,r,o){this.depotService=i,this.router=r,this.activatedRoute=o,this.isUpdate=!1,this.depot=new Qt,this.depots=[],this.searchTerm="",this.idp="",this.idf="",this.idd=0,this.viewCardviewTable=!1,this.displayusers=!0,this.submitted=!1,this.depotDialog=!1,this.selectedDepots=[],this.listReponsable=[],this.SelectedResponsableId=0,this.root=this.router.url.split("/")[1],this.displayusers=!0}ngOnInit(){this.getAllDepots(),this.depotService.exist("depot"),console.log("=======***********>>>> "+(new h.TG).transform(this.depotService.permission)),this.getDataResponsable()}getAllDepots(){this.depotService.getdepots().subscribe(i=>{this.depots=i,this.depotService.depots=i,console.log("List of Depost:"+(new h.TG).transform(this.depots))},i=>{this.displayusers=!1,$().fire({icon:"error",title:"Oops...",text:"Vous n'avez pas la permission s'il vous plait  contacter l'administrateur.  "})})}getDataResponsable(){this.depotService.getAvailableResponsable().subscribe(i=>{this.listReponsable=i,console.log("List RESPONSABLE AIVAILBLE"+this.listReponsable)})}onSearch(){this.depots=this.depotService.depots.filter(i=>i.nom.toLowerCase().includes(this.searchTerm.toLowerCase())||i.description.toLowerCase().includes(this.searchTerm.toLowerCase())||i.capitale.toString().includes(this.searchTerm.toLowerCase()))}goToDepotDetails(i){this.router.navigate(["/depot/edit",i])}selectDepot(i){this.idd=i.id,console.log("idf:",this.idd),this.router.navigate(["/ajout-service/",this.idp,this.idf,this.idd])}removeDepot(i){$().fire({title:"\xcates-vous s\xfbr ?",text:"Voulez-vous supprimer ce Depot ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler"}).then(r=>{r.isConfirmed?this.depotService.deleteDepot(i).subscribe(o=>{console.log("response :"+o),this.refrech(),o?(this.refrech(),$().fire("Supprim\xe9",o.message,"success")):$().fire("Erreur","La suppression a r\xe9ussi, mais aucun message de confirmation n'a \xe9t\xe9 re\xe7u.","error")},o=>{console.error("Erreur lors de la suppression :",o),$().fire("Erreur","Une erreur est survenue lors de la suppression. Veuillez consulter la console pour plus d'informations.","error")}):r.dismiss===$().DismissReason.cancel&&$().fire("Annul\xe9","La suppression a \xe9t\xe9 annul\xe9e","info")})}ChangeView(){this.viewCardviewTable=!this.viewCardviewTable}ViewDetailResponsable(i){$().fire({width:900,html:'<div class="cardResponsable p-1">\n        <button class="mail">\n           \n        </button>\n        <div class="profile-pic shadow-lg">\n            \n<img src="../../assets/hacker.png">         \n        </div>\n        <div class="bottom">\n            <div class="content">\n                <span class="name text-break">'+i.lastname+"  "+i.firstname+'</span>\n                <span class="about-me">'+i.email+' </span>\n            </div>\n           <div class="bottom-bottom">\n            <div class="social-links-container">\n                <span class="name text-break">'+i.lastname+"  "+i.firstname+'</span>\n                <span class="about-me text-break">'+i.telephone+' </span>\n            </div>\n                      <span class="about-me bi-person text-danger">'+i.role.toLowerCase()+" </span>             </div>\n        </div>\n    </div>",showConfirmButton:!1,showCloseButton:!0})}refrech(){this.getAllDepots(),this.getDataResponsable(),this.router.navigate(["/uikit/depots"])}showDialogCreate(){this.depotDialog=!0}onGlobalFilter(i,r){i.filterGlobal(r.target.value,"contains")}hideDialog(){this.depotDialog=!1,this.refrech()}deleteSelectedAricles(){}ajouterDepot(){this.depot.nom?(console.log((new h.TG).transform(this.depot)),this.depotService.addDepot(this.depot).subscribe(i=>{console.log("Res of Add depot :"+i),$().fire("Succ\xe8s","Le d\xeapot a \xe9t\xe9 ajout\xe9 avec succ\xe8s !","success"),this.refrech()}),this.depot=new Qt(0,"","",0,0,""),console.log("nouveauResponsableId :",this.depot.responsable.id),Response&&this.refrech()):($().fire("Erreur","Veuillez remplir tous les champs","error"),console.log("nouveauDepot :",this.depot)),this.hideDialog(),this.getAllDepots()}editDepot(i){this.depotDialog=!0,this.depot=i,this.refrech()}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(qt),t.rXU(c.Ix),t.rXU(c.nX))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-depot"]],standalone:!0,features:[t.aNF],decls:15,vars:14,consts:[["dt",""],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Affichage {first} \xe0 {last} sur {totalRecords} \xe9lements","selectionMode","multiple","dataKey","id",3,"value","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Depot Details",1,"p-fluid",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","label","Ajouter","icon","pi pi-plus",1,"p-button-success","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","label","Actualiser","icon","pi pi-refresh",1,"p-button-primary","p-button-outlined",3,"click"],[1,"col-2","float-end","d-flex","d-inline"],["class","float-end","icon","pi pi-book","pBadge","","styleClass","mr-5","size","large",3,"value","style",4,"ngIf"],["icon","pi pi-book","pBadge","","styleClass","mr-5","size","large",1,"float-end",3,"value"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Recherche...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","id"],["field","id"],["pSortableColumn","nom"],["field","nom"],["pSortableColumn","tel"],["field","tel"],["pSortableColumn","description"],["field","description"],["pSortableColumn","capitale"],["field","capitale"],["pSortableColumn","adresse"],["field","adresse"],["pSortableColumn","responsable"],["field","responsable"],[3,"value"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","14%","min-width","8rem"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[1,"block","mb-2"],["optionLabel","firstname","filterBy","nom","placeholder","Select Responsable",3,"ngModelChange","options","ngModel","showClear"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","telephone"],["type","text","pInputText","","id","telephone","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","description"],["id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModelChange","ngModel"],["for","capitale"],["type","text","pInputText","","id","capitale","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","adresse"],["type","text","pInputText","","id","adresse","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"]],template:function(r,o){if(1&r){const a=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.nrm(3,"p-toast"),t.j41(4,"p-toolbar",4),t.DNE(5,xh,3,0,"ng-template",5)(6,wh,2,1,"ng-template",6),t.k0s(),t.j41(7,"p-table",7,0),t.DNE(9,Sh,6,0,"ng-template",8)(10,kh,25,0,"ng-template",9)(11,Fh,35,8,"ng-template",10),t.k0s()()()(),t.j41(12,"p-dialog",11),t.mxI("visibleChange",function(p){return t.eBV(a),t.DH7(o.depotDialog,p)||(o.depotDialog=p),t.Njj(p)}),t.DNE(13,jh,27,24,"ng-template",12)(14,Ph,2,0,"ng-template",13),t.k0s()}2&r&&(t.R7$(7),t.Y8G("value",o.depots)("rows",10)("globalFilterFields",t.lJ4(11,Ch))("paginator",!0)("rowsPerPageOptions",t.lJ4(12,Th))("showCurrentPageReport",!0)("rowHover",!0),t.R7$(5),t.Aen(t.lJ4(13,Ih)),t.R50("visible",o.depotDialog),t.Y8G("modal",!0))},dependencies:[Ce.m,Ce.e,Te.EJ,Te.FO,L.Ei,d.tm,d._f,be.P,be.l,w.kr,w.ms,V.YN,V.me,V.BC,V.YS,V.vS,E.u,E.S,Ge,Ye,h.bT,J.Z,J.n,L.Gg,H.bG,H.XI,H.Tg,H.yc,H.S9,H.nA,de.MB,de.y8,xe.m,xe.M,h.YU]})}return n})();var De=function(n){return n.ENTREE="FACTURE_ACHAT",n.SORTIE="FACTURE_VENTE",n.VIDE="",n}(De||{});class yt{constructor(s,i,r,o,a,l,p,S,O,N,ne,_e,Ee,ke,Oe,we){this.id=s||0,this.reference=i||"",this.depot=r||new Qt,this.lignesFacture=o||[],this.montant=a||0,this.montantTaxe=l||0,this.date=p||new Date,this.dateCreation=S||new Date,this.typeFacture=O||De.ENTREE,this.client=N||new Se.K,this.transporteur=ne||new Se.K,this.provider=_e||new Se.K,this.tranches=Ee||[],this.paye=ke||!1,this.reglement=Oe||0,this.restePayer=we||0}get _id(){return this.id}set _id(s){this.id=s}get _reference(){return this.reference}set _reference(s){this.reference=s}get _lignesFacture(){return this.lignesFacture}set _lignesFacture(s){this.lignesFacture=s}get _montant(){return this.montant}set _montant(s){this.montant=s}get _montantTaxe(){return this.montantTaxe}set _montantTaxe(s){this.montantTaxe=s}get _date(){return this.date}set _date(s){this.date=s}get _dateCreation(){return this.dateCreation}set _dateCreation(s){this.dateCreation=s}get _typeFacture(){return this.typeFacture}set _typeFacture(s){this.typeFacture=s}get _client(){return this.client}set _client(s){this.client=s}get _transporteur(){return this.transporteur}set _transporteur(s){this.transporteur=s}get _provider(){return this.provider}set _provider(s){this.provider=s}get _tranches(){return this.tranches}set _tranches(s){this.tranches=s}get _paye(){return this.paye}set _paye(s){this.paye=s}get _reglement(){return this.reglement}set _reglement(s){this.reglement=s}get _restePayer(){return this.restePayer}set _restePayer(s){this.restePayer=s}getSommeTranches(){return Array.isArray(this.tranches)?this.tranches.reduce((s,i)=>s+i._montantTranche,0):0}updateRestePayer(){this.restePayer=this.montant-this.getSommeTranches()}}var qn=_(935),Jn=_(1683);let Vh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD,d.tm,Jn.ht,ct.D,d.tm,Jn.ht]})}return n})();var Zn=_(672),Zt=_(7983),He=_(5430),xt=_(1880),Bi=_(8757);const Gh=["container"],Nh=["focusInput"],Uh=["multiIn"],$h=["multiContainer"],Hh=["ddBtn"],Kh=["items"],Xh=["scroller"],zh=["overlay"],Yh=n=>({"p-autocomplete-token":!0,"p-focus":n}),Vi=n=>({$implicit:n}),ei=n=>({height:n}),eo=(n,s)=>({$implicit:n,options:s}),Wh=n=>({options:n}),Qh=()=>({}),qh=(n,s,i)=>({"p-highlight":n,"p-focus":s,"p-disabled":i}),Jh=(n,s)=>({$implicit:n,index:s});function Zh(n,s){if(1&n){const i=t.RV6();t.j41(0,"input",20,3),t.bIt("input",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onInput(o))})("keydown",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onKeyDown(o))})("change",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onInputChange(o))})("focus",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onInputFocus(o))})("blur",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onInputBlur(o))})("paste",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onInputPaste(o))})("keyup",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onInputKeyUp(o))}),t.k0s()}if(2&n){const i=t.XpG();t.HbH(i.inputStyleClass),t.Y8G("autofocus",i.autofocus)("ngClass",i.inputClass)("ngStyle",i.inputStyle)("type",i.type)("autocomplete",i.autocomplete)("required",i.required)("name",i.name)("maxlength",i.maxlength)("tabindex",i.disabled?-1:i.tabindex)("readonly",i.readonly)("disabled",i.disabled),t.BMQ("value",i.inputValue())("id",i.inputId)("placeholder",i.placeholder)("size",i.size)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("aria-required",i.required)("aria-expanded",i.overlayVisible)("aria-controls",i.id+"_list")("aria-aria-activedescendant",i.focused?i.focusedOptionId:void 0)}}function ef(n,s){if(1&n){const i=t.RV6();t.j41(0,"TimesIcon",23),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.clear())}),t.k0s()}2&n&&(t.Y8G("styleClass","p-autocomplete-clear-icon"),t.BMQ("aria-hidden",!0))}function tf(n,s){}function nf(n,s){1&n&&t.DNE(0,tf,0,0,"ng-template")}function rf(n,s){if(1&n){const i=t.RV6();t.j41(0,"span",24),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.clear())}),t.DNE(1,nf,1,0,null,17),t.k0s()}if(2&n){const i=t.XpG(2);t.BMQ("aria-hidden",!0),t.R7$(),t.Y8G("ngTemplateOutlet",i.clearIconTemplate)}}function sf(n,s){if(1&n&&(t.qex(0),t.DNE(1,ef,1,2,"TimesIcon",21)(2,rf,2,2,"span",22),t.bVm()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",!i.clearIconTemplate),t.R7$(),t.Y8G("ngIf",i.clearIconTemplate)}}function af(n,s){1&n&&t.eu8(0)}function lf(n,s){if(1&n&&(t.j41(0,"span",35),t.EFF(1),t.k0s()),2&n){const i=t.XpG().$implicit,r=t.XpG(2);t.R7$(),t.JRh(r.getOptionLabel(i))}}function cf(n,s){1&n&&t.nrm(0,"TimesCircleIcon",36),2&n&&(t.Y8G("styleClass","p-autocomplete-token-icon"),t.BMQ("aria-hidden",!0))}function df(n,s){}function pf(n,s){1&n&&t.DNE(0,df,0,0,"ng-template")}function uf(n,s){if(1&n&&(t.j41(0,"span",37),t.DNE(1,pf,1,0,null,17),t.k0s()),2&n){const i=t.XpG(3);t.BMQ("aria-hidden",!0),t.R7$(),t.Y8G("ngTemplateOutlet",i.removeIconTemplate)}}function _f(n,s){if(1&n){const i=t.RV6();t.j41(0,"li",29,5),t.DNE(2,af,1,0,"ng-container",30)(3,lf,2,1,"span",31),t.j41(4,"span",32),t.bIt("click",function(o){const a=t.eBV(i).index,l=t.XpG(2);return t.Njj(l.removeOption(o,a))}),t.DNE(5,cf,1,2,"TimesCircleIcon",33)(6,uf,2,2,"span",34),t.k0s()()}if(2&n){const i=s.$implicit,r=s.index,o=t.XpG(2);t.Y8G("ngClass",t.eq3(11,Yh,o.focusedMultipleOptionIndex()===r)),t.BMQ("id",o.id+"_multiple_option_"+r)("aria-label",o.getOptionLabel(i))("aria-setsize",o.modelValue().length)("aria-posinset",r+1)("aria-selected",!0),t.R7$(2),t.Y8G("ngTemplateOutlet",o.selectedItemTemplate)("ngTemplateOutletContext",t.eq3(13,Vi,i)),t.R7$(),t.Y8G("ngIf",!o.selectedItemTemplate),t.R7$(2),t.Y8G("ngIf",!o.removeIconTemplate),t.R7$(),t.Y8G("ngIf",o.removeIconTemplate)}}function mf(n,s){if(1&n){const i=t.RV6();t.j41(0,"ul",25,4),t.bIt("focus",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onMultipleContainerFocus(o))})("blur",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onMultipleContainerBlur(o))})("keydown",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onMultipleContainerKeyDown(o))}),t.DNE(2,_f,7,15,"li",26),t.j41(3,"li",27)(4,"input",28,3),t.bIt("input",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onInput(o))})("keydown",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onKeyDown(o))})("change",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onInputChange(o))})("focus",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onInputFocus(o))})("blur",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onInputBlur(o))})("paste",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onInputPaste(o))})("keyup",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onInputKeyUp(o))}),t.k0s()()()}if(2&n){const i=t.XpG();t.HbH(i.multiContainerClass),t.Y8G("tabindex",-1),t.BMQ("aria-orientation","horizontal")("aria-activedescendant",i.focused?i.focusedMultipleOptionId:void 0),t.R7$(2),t.Y8G("ngForOf",i.modelValue()),t.R7$(2),t.HbH(i.inputStyleClass),t.Y8G("autofocus",i.autofocus)("ngClass",i.inputClass)("ngStyle",i.inputStyle)("autocomplete",i.autocomplete)("required",i.required)("maxlength",i.maxlength)("tabindex",i.disabled?-1:i.tabindex)("readonly",i.readonly)("disabled",i.disabled),t.BMQ("type",i.type)("id",i.inputId)("name",i.name)("placeholder",i.placeholder)("size",i.size)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("aria-required",i.required)("aria-expanded",i.overlayVisible)("aria-controls",i.id+"_list")("aria-aria-activedescendant",i.focused?i.focusedOptionId:void 0)}}function hf(n,s){1&n&&t.nrm(0,"SpinnerIcon",40),2&n&&(t.Y8G("styleClass","p-autocomplete-loader")("spin",!0),t.BMQ("aria-hidden",!0))}function ff(n,s){}function gf(n,s){1&n&&t.DNE(0,ff,0,0,"ng-template")}function bf(n,s){if(1&n&&(t.j41(0,"span",41),t.DNE(1,gf,1,0,null,17),t.k0s()),2&n){const i=t.XpG(2);t.BMQ("aria-hidden",!0),t.R7$(),t.Y8G("ngTemplateOutlet",i.loadingIconTemplate)}}function vf(n,s){if(1&n&&(t.qex(0),t.DNE(1,hf,1,3,"SpinnerIcon",38)(2,bf,2,2,"span",39),t.bVm()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",!i.loadingIconTemplate),t.R7$(),t.Y8G("ngIf",i.loadingIconTemplate)}}function Cf(n,s){if(1&n&&t.nrm(0,"span",44),2&n){const i=t.XpG(2);t.Y8G("ngClass",i.dropdownIcon),t.BMQ("aria-hidden",!0)}}function Tf(n,s){1&n&&t.nrm(0,"ChevronDownIcon")}function If(n,s){}function yf(n,s){1&n&&t.DNE(0,If,0,0,"ng-template")}function xf(n,s){if(1&n&&(t.qex(0),t.DNE(1,Tf,1,0,"ChevronDownIcon",12)(2,yf,1,0,null,17),t.bVm()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",!i.dropdownIconTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",i.dropdownIconTemplate)}}function Ef(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",42,6),t.bIt("click",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.handleDropdownClick(o))}),t.DNE(2,Cf,1,2,"span",43)(3,xf,3,2,"ng-container",12),t.k0s()}if(2&n){const i=t.XpG();t.Y8G("disabled",i.disabled),t.BMQ("aria-label",i.dropdownAriaLabel)("tabindex",i.tabindex),t.R7$(2),t.Y8G("ngIf",i.dropdownIcon),t.R7$(),t.Y8G("ngIf",!i.dropdownIcon)}}function wf(n,s){1&n&&t.eu8(0)}function Sf(n,s){1&n&&t.eu8(0)}function kf(n,s){if(1&n&&t.DNE(0,Sf,1,0,"ng-container",30),2&n){const i=s.$implicit,r=s.options;t.XpG(2);const o=t.sdS(14);t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.l_i(2,eo,i,r))}}function Ff(n,s){1&n&&t.eu8(0)}function Df(n,s){if(1&n&&t.DNE(0,Ff,1,0,"ng-container",30),2&n){const i=s.options,r=t.XpG(3);t.Y8G("ngTemplateOutlet",r.loaderTemplate)("ngTemplateOutletContext",t.eq3(2,Wh,i))}}function Of(n,s){1&n&&(t.qex(0),t.DNE(1,Df,1,4,"ng-template",47),t.bVm())}function Mf(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-scroller",45,7),t.bIt("onLazyLoad",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onLazyLoad.emit(o))}),t.DNE(2,kf,1,5,"ng-template",46)(3,Of,2,0,"ng-container",12),t.k0s()}if(2&n){const i=t.XpG();t.Aen(t.eq3(8,ei,i.scrollHeight)),t.Y8G("items",i.visibleOptions())("itemSize",i.virtualScrollItemSize||i._itemSize)("autoSize",!0)("lazy",i.lazy)("options",i.virtualScrollOptions),t.R7$(3),t.Y8G("ngIf",i.loaderTemplate)}}function Rf(n,s){1&n&&t.eu8(0)}function jf(n,s){if(1&n&&(t.qex(0),t.DNE(1,Rf,1,0,"ng-container",30),t.bVm()),2&n){const i=t.XpG(),r=t.sdS(14);t.R7$(),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.l_i(3,eo,i.visibleOptions(),t.lJ4(2,Qh)))}}function Pf(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const i=t.XpG(2).$implicit,r=t.XpG(2);t.R7$(),t.JRh(r.getOptionGroupLabel(i.optionGroup))}}function Af(n,s){1&n&&t.eu8(0)}function Lf(n,s){if(1&n&&(t.qex(0),t.j41(1,"li",51),t.DNE(2,Pf,2,1,"span",12)(3,Af,1,0,"ng-container",30),t.k0s(),t.bVm()),2&n){const i=t.XpG(),r=i.$implicit,o=i.index,a=t.XpG().options,l=t.XpG();t.R7$(),t.Y8G("ngStyle",t.eq3(5,ei,a.itemSize+"px")),t.BMQ("id",l.id+"_"+l.getOptionIndex(o,a)),t.R7$(),t.Y8G("ngIf",!l.groupTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",l.groupTemplate)("ngTemplateOutletContext",t.eq3(7,Vi,r.optionGroup))}}function Bf(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const i=t.XpG(2).$implicit,r=t.XpG(2);t.R7$(),t.JRh(r.getOptionLabel(i))}}function Vf(n,s){1&n&&t.eu8(0)}function Gf(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"li",52),t.bIt("click",function(o){t.eBV(i);const a=t.XpG().$implicit,l=t.XpG(2);return t.Njj(l.onOptionSelect(o,a))})("mouseenter",function(o){t.eBV(i);const a=t.XpG().index,l=t.XpG().options,p=t.XpG();return t.Njj(p.onOptionMouseEnter(o,p.getOptionIndex(a,l)))}),t.DNE(2,Bf,2,1,"span",12)(3,Vf,1,0,"ng-container",30),t.k0s(),t.bVm()}if(2&n){const i=t.XpG(),r=i.$implicit,o=i.index,a=t.XpG().options,l=t.XpG();t.R7$(),t.Y8G("ngStyle",t.eq3(12,ei,a.itemSize+"px"))("ngClass",t.sMw(14,qh,l.isSelected(r),l.focusedOptionIndex()===l.getOptionIndex(o,a),l.isOptionDisabled(r))),t.BMQ("id",l.id+"_"+l.getOptionIndex(o,a))("aria-label",l.getOptionLabel(r))("aria-selected",l.isSelected(r))("aria-disabled",l.isOptionDisabled(r))("data-p-focused",l.focusedOptionIndex()===l.getOptionIndex(o,a))("aria-setsize",l.ariaSetSize)("aria-posinset",l.getAriaPosInset(l.getOptionIndex(o,a))),t.R7$(),t.Y8G("ngIf",!l.itemTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",l.itemTemplate)("ngTemplateOutletContext",t.l_i(18,Jh,r,a.getOptions?a.getOptions(o):o))}}function Nf(n,s){if(1&n&&t.DNE(0,Lf,4,9,"ng-container",12)(1,Gf,4,21,"ng-container",12),2&n){const i=s.$implicit,r=t.XpG(2);t.Y8G("ngIf",r.isOptionGroup(i)),t.R7$(),t.Y8G("ngIf",!r.isOptionGroup(i))}}function Uf(n,s){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const i=t.XpG(3);t.R7$(),t.SpI(" ",i.searchResultMessageText," ")}}function $f(n,s){1&n&&t.eu8(0,null,9)}function Hf(n,s){if(1&n&&(t.j41(0,"li",53),t.DNE(1,Uf,2,1,"ng-container",54)(2,$f,2,0,"ng-container",17),t.k0s()),2&n){const i=t.XpG().options,r=t.XpG();t.Y8G("ngStyle",t.eq3(4,ei,i.itemSize+"px")),t.R7$(),t.Y8G("ngIf",!r.emptyTemplate)("ngIfElse",r.empty),t.R7$(),t.Y8G("ngTemplateOutlet",r.emptyTemplate)}}function Kf(n,s){1&n&&t.eu8(0)}function Xf(n,s){if(1&n&&(t.j41(0,"ul",48,8),t.DNE(2,Nf,2,2,"ng-template",49)(3,Hf,3,6,"li",50),t.k0s(),t.DNE(4,Kf,1,0,"ng-container",30)),2&n){const i=s.$implicit,r=s.options,o=t.XpG();t.Aen(r.contentStyle),t.Y8G("ngClass",r.contentStyleClass),t.BMQ("id",o.id+"_list"),t.R7$(2),t.Y8G("ngForOf",i),t.R7$(),t.Y8G("ngIf",!i||i&&0===i.length&&o.showEmptyMessage),t.R7$(),t.Y8G("ngTemplateOutlet",o.footerTemplate)("ngTemplateOutletContext",t.eq3(8,Vi,i))}}const zf={provide:V.kq,useExisting:(0,t.Rfq)(()=>Yf),multi:!0};let Yf=(()=>{class n{document;el;renderer;cd;config;overlayService;zone;minLength=1;delay=300;style;panelStyle;styleClass;panelStyleClass;inputStyle;inputId;inputStyleClass;placeholder;readonly;disabled;scrollHeight="200px";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;maxlength;name;required;size;appendTo;autoHighlight;forceSelection;type="text";autoZIndex=!0;baseZIndex=0;ariaLabel;dropdownAriaLabel;ariaLabelledBy;dropdownIcon;unique=!0;group;completeOnFocus=!1;showClear=!1;field;dropdown;showEmptyMessage;dropdownMode="blank";multiple;tabindex;dataKey;emptyMessage;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autofocus;autocomplete="off";optionGroupChildren="items";optionGroupLabel="label";overlayOptions;get suggestions(){return this._suggestions()}set suggestions(i){this._suggestions.set(i),this.handleSuggestionsChange()}get itemSize(){return this._itemSize}set itemSize(i){this._itemSize=i,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}optionLabel;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!0;selectOnFocus;searchLocale;optionDisabled;focusOnHover;completeMethod=new t.bkB;onSelect=new t.bkB;onUnselect=new t.bkB;onFocus=new t.bkB;onBlur=new t.bkB;onDropdownClick=new t.bkB;onClear=new t.bkB;onKeyUp=new t.bkB;onShow=new t.bkB;onHide=new t.bkB;onLazyLoad=new t.bkB;containerEL;inputEL;multiInputEl;multiContainerEL;dropdownButton;itemsViewChild;scroller;overlayViewChild;templates;_itemSize;itemsWrapper;itemTemplate;emptyTemplate;headerTemplate;footerTemplate;selectedItemTemplate;groupTemplate;loaderTemplate;removeIconTemplate;loadingIconTemplate;clearIconTemplate;dropdownIconTemplate;value;_suggestions=(0,t.vPA)(null);onModelChange=()=>{};onModelTouched=()=>{};timeout;overlayVisible;suggestionsUpdated;highlightOption;highlightOptionChanged;focused=!1;_filled;get filled(){return this._filled}set filled(i){this._filled=i}loading;scrollHandler;listId;searchTimeout;dirty=!1;modelValue=(0,t.vPA)(null);focusedMultipleOptionIndex=(0,t.vPA)(-1);focusedOptionIndex=(0,t.vPA)(-1);visibleOptions=(0,t.EWP)(()=>this.group?this.flatOptions(this._suggestions()):this._suggestions()||[]);inputValue=(0,t.EWP)(()=>{const i=this.modelValue();return i?"object"==typeof i?this.getOptionLabel(i)??i:i:""});get focusedMultipleOptionId(){return-1!==this.focusedMultipleOptionIndex()?`${this.id}_multiple_option_${this.focusedMultipleOptionIndex()}`:null}get focusedOptionId(){return-1!==this.focusedOptionIndex()?`${this.id}_${this.focusedOptionIndex()}`:null}get containerClass(){return{"p-autocomplete p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-focus":this.focused,"p-autocomplete-dd":this.dropdown,"p-autocomplete-multiple":this.multiple,"p-inputwrapper-focus":this.focused,"p-overlay-open":this.overlayVisible}}get multiContainerClass(){return"p-autocomplete-multiple-container p-component p-inputtext"}get panelClass(){return{"p-autocomplete-panel p-component":!0,"p-input-filled":"filled"===this.config.inputStyle,"p-ripple-disabled":!1===this.config.ripple}}get inputClass(){return{"p-autocomplete-input p-inputtext p-component":!this.multiple,"p-autocomplete-dd-input":this.dropdown}}get searchResultMessageText(){return q.BF.isNotEmpty(this.visibleOptions())&&this.overlayVisible?this.searchMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptySearchMessageText}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptySearchMessageText(){return this.emptyMessage||this.config.translation.emptySearchMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(i=>!this.isOptionGroup(i)).length}get virtualScrollerDisabled(){return!this.virtualScroll}constructor(i,r,o,a,l,p,S){this.document=i,this.el=r,this.renderer=o,this.cd=a,this.config=l,this.overlayService=p,this.zone=S,(0,t.QZP)(()=>{this.filled=q.BF.isNotEmpty(this.modelValue())})}ngOnInit(){this.id=this.id||(0,q._Y)(),this.cd.detectChanges()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlayViewChild&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1),this.suggestionsUpdated=!1})}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"item":default:this.itemTemplate=i.template;break;case"group":this.groupTemplate=i.template;break;case"selectedItem":this.selectedItemTemplate=i.template;break;case"header":this.headerTemplate=i.template;break;case"empty":this.emptyTemplate=i.template;break;case"footer":this.footerTemplate=i.template;break;case"loader":this.loaderTemplate=i.template;break;case"removetokenicon":this.removeIconTemplate=i.template;break;case"loadingicon":this.loadingIconTemplate=i.template;break;case"clearicon":this.clearIconTemplate=i.template;break;case"dropdownicon":this.dropdownIconTemplate=i.template}})}handleSuggestionsChange(){if(this.loading){this._suggestions()||this.emptyTemplate?this.show():this.hide();const i=this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.suggestionsUpdated=!0,this.loading=!1,this.cd.markForCheck()}}flatOptions(i){return(i||[]).reduce((r,o,a)=>{r.push({optionGroup:o,group:!0,index:a});const l=this.getOptionGroupChildren(o);return l&&l.forEach(p=>r.push(p)),r},[])}isOptionGroup(i){return this.optionGroupLabel&&i.optionGroup&&i.group}findFirstOptionIndex(){return this.visibleOptions().findIndex(i=>this.isValidOption(i))}findLastOptionIndex(){return q.BF.findLastIndex(this.visibleOptions(),i=>this.isValidOption(i))}findFirstFocusedOptionIndex(){const i=this.findSelectedOptionIndex();return i<0?this.findFirstOptionIndex():i}findLastFocusedOptionIndex(){const i=this.findSelectedOptionIndex();return i<0?this.findLastOptionIndex():i}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(i=>this.isValidSelectedOption(i)):-1}findNextOptionIndex(i){const r=i<this.visibleOptions().length-1?this.visibleOptions().slice(i+1).findIndex(o=>this.isValidOption(o)):-1;return r>-1?r+i+1:i}findPrevOptionIndex(i){const r=i>0?q.BF.findLastIndex(this.visibleOptions().slice(0,i),o=>this.isValidOption(o)):-1;return r>-1?r:i}isValidSelectedOption(i){return this.isValidOption(i)&&this.isSelected(i)}isValidOption(i){return i&&!(this.isOptionDisabled(i)||this.isOptionGroup(i))}isOptionDisabled(i){return!!this.optionDisabled&&q.BF.resolveFieldData(i,this.optionDisabled)}isSelected(i){return q.BF.equals(this.modelValue(),this.getOptionValue(i),this.equalityKey())}isOptionMatched(i,r){return this.isValidOption(i)&&this.getOptionLabel(i).toLocaleLowerCase(this.searchLocale)===r.toLocaleLowerCase(this.searchLocale)}isInputClicked(i){return this.multiple?i.target===this.multiContainerEL.nativeElement||this.multiContainerEL.nativeElement.contains(i.target):i.target===this.inputEL.nativeElement}isDropdownClicked(i){return!!this.dropdownButton?.nativeElement&&(i.target===this.dropdownButton.nativeElement||this.dropdownButton.nativeElement.contains(i.target))}equalityKey(){return this.dataKey}onContainerClick(i){this.disabled||this.loading||this.isInputClicked(i)||this.isDropdownClicked(i)||(!this.overlayViewChild||!this.overlayViewChild.overlayViewChild?.nativeElement.contains(i.target))&&Q.D.focus(this.inputEL.nativeElement)}handleDropdownClick(i){let r;this.overlayVisible?this.hide(!0):(Q.D.focus(this.inputEL.nativeElement),r=this.inputEL.nativeElement.value,"blank"===this.dropdownMode?this.search(i,"","dropdown"):"current"===this.dropdownMode&&this.search(i,r,"dropdown")),this.onDropdownClick.emit({originalEvent:i,query:r})}onInput(i){this.searchTimeout&&clearTimeout(this.searchTimeout);let r=i.target.value;!this.multiple&&!this.forceSelection&&this.updateModel(r),0!==r.length||this.multiple?r.length>=this.minLength?(this.focusedOptionIndex.set(-1),this.searchTimeout=setTimeout(()=>{this.search(i,r,"input")},this.delay)):this.hide():(this.onClear.emit(),setTimeout(()=>{this.hide()},this.delay/2))}onInputChange(i){if(this.forceSelection){let r=!1;if(this.visibleOptions()){const o=this.visibleOptions().find(a=>this.isOptionMatched(a,this.inputEL.nativeElement.value||""));void 0!==o&&(r=!0,!this.isSelected(o)&&this.onOptionSelect(i,o))}r||(this.inputEL.nativeElement.value="",!this.multiple&&this.updateModel(null))}}onInputFocus(i){if(this.disabled)return;!this.dirty&&this.completeOnFocus&&this.search(i,i.target.value,"focus"),this.dirty=!0,this.focused=!0;const r=-1!==this.focusedOptionIndex()?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(i)}onMultipleContainerFocus(i){this.disabled||(this.focused=!0)}onMultipleContainerBlur(i){this.focusedMultipleOptionIndex.set(-1),this.focused=!1}onMultipleContainerKeyDown(i){if(this.disabled)i.preventDefault();else switch(i.code){case"ArrowLeft":this.onArrowLeftKeyOnMultiple(i);break;case"ArrowRight":this.onArrowRightKeyOnMultiple(i);break;case"Backspace":this.onBackspaceKeyOnMultiple(i)}}onInputBlur(i){this.dirty=!1,this.focused=!1,this.focusedOptionIndex.set(-1),this.onModelTouched(),this.onBlur.emit(i)}onInputPaste(i){this.onKeyDown(i)}onInputKeyUp(i){this.onKeyUp.emit(i)}onKeyDown(i){if(this.disabled)i.preventDefault();else switch(i.code){case"ArrowDown":this.onArrowDownKey(i);break;case"ArrowUp":this.onArrowUpKey(i);break;case"ArrowLeft":this.onArrowLeftKey(i);break;case"ArrowRight":this.onArrowRightKey(i);break;case"Home":this.onHomeKey(i);break;case"End":this.onEndKey(i);break;case"PageDown":this.onPageDownKey(i);break;case"PageUp":this.onPageUpKey(i);break;case"Enter":case"NumpadEnter":this.onEnterKey(i);break;case"Escape":this.onEscapeKey(i);break;case"Tab":this.onTabKey(i);break;case"Backspace":this.onBackspaceKey(i)}}onArrowDownKey(i){if(!this.overlayVisible)return;const r=-1!==this.focusedOptionIndex()?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(i,r),i.preventDefault(),i.stopPropagation()}onArrowUpKey(i){if(this.overlayVisible)if(i.altKey)-1!==this.focusedOptionIndex()&&this.onOptionSelect(i,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),i.preventDefault();else{const r=-1!==this.focusedOptionIndex()?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(i,r),i.preventDefault(),i.stopPropagation()}}onArrowLeftKey(i){const r=i.currentTarget;this.focusedOptionIndex.set(-1),this.multiple&&(q.BF.isEmpty(r.value)&&this.hasSelectedOption()?(Q.D.focus(this.multiContainerEL.nativeElement),this.focusedMultipleOptionIndex.set(this.modelValue().length)):i.stopPropagation())}onArrowRightKey(i){this.focusedOptionIndex.set(-1),this.multiple&&i.stopPropagation()}onHomeKey(i){const{currentTarget:r}=i;r.setSelectionRange(0,i.shiftKey?r.value.length:0),this.focusedOptionIndex.set(-1),i.preventDefault()}onEndKey(i){const{currentTarget:r}=i,o=r.value.length;r.setSelectionRange(i.shiftKey?0:o,o),this.focusedOptionIndex.set(-1),i.preventDefault()}onPageDownKey(i){this.scrollInView(this.visibleOptions().length-1),i.preventDefault()}onPageUpKey(i){this.scrollInView(0),i.preventDefault()}onEnterKey(i){this.overlayVisible?(-1!==this.focusedOptionIndex()&&this.onOptionSelect(i,this.visibleOptions()[this.focusedOptionIndex()]),this.hide()):this.onArrowDownKey(i),i.preventDefault()}onEscapeKey(i){this.overlayVisible&&this.hide(!0),i.preventDefault()}onTabKey(i){-1!==this.focusedOptionIndex()&&this.onOptionSelect(i,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide()}onBackspaceKey(i){if(this.multiple){if(q.BF.isNotEmpty(this.modelValue())&&!this.inputEL.nativeElement.value){const r=this.modelValue()[this.modelValue().length-1],o=this.modelValue().slice(0,-1);this.updateModel(o),this.onUnselect.emit({originalEvent:i,value:r})}i.stopPropagation()}}onArrowLeftKeyOnMultiple(i){const r=this.focusedMultipleOptionIndex()<1?0:this.focusedMultipleOptionIndex()-1;this.focusedMultipleOptionIndex.set(r)}onArrowRightKeyOnMultiple(i){let r=this.focusedMultipleOptionIndex();r++,this.focusedMultipleOptionIndex.set(r),r>this.modelValue().length-1&&(this.focusedMultipleOptionIndex.set(-1),Q.D.focus(this.inputEL.nativeElement))}onBackspaceKeyOnMultiple(i){-1!==this.focusedMultipleOptionIndex()&&this.removeOption(i,this.focusedMultipleOptionIndex())}onOptionSelect(i,r,o=!0){const a=this.getOptionValue(r);this.multiple?(this.inputEL.nativeElement.value="",this.isSelected(r)||this.updateModel([...this.modelValue()||[],a])):this.updateModel(a),this.onSelect.emit({originalEvent:i,value:r}),o&&this.hide(!0)}onOptionMouseEnter(i,r){this.focusOnHover&&this.changeFocusedOptionIndex(i,r)}search(i,r,o){null!=r&&("input"===o&&0===r.trim().length||(this.loading=!0,this.completeMethod.emit({originalEvent:i,query:r})))}removeOption(i,r){i.stopPropagation();const o=this.modelValue()[r],a=this.modelValue().filter((l,p)=>p!==r).map(l=>this.getOptionValue(l));this.updateModel(a),this.onUnselect.emit({originalEvent:i,value:o}),Q.D.focus(this.inputEL.nativeElement)}updateModel(i){this.value=i,this.modelValue.set(i),this.onModelChange(i),this.updateInputValue(),this.cd.markForCheck()}updateInputValue(){this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=this.multiple?"":this.inputValue())}autoUpdateModel(){if((this.selectOnFocus||this.autoHighlight)&&this.autoOptionFocus&&!this.hasSelectedOption()){const i=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(i),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)}}scrollInView(i=-1){if(this.itemsViewChild&&this.itemsViewChild.nativeElement){const o=Q.D.findSingle(this.itemsViewChild.nativeElement,`li[id="${-1!==i?`${this.id}_${i}`:this.focusedOptionId}"]`);o?o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(-1!==i?i:this.focusedOptionIndex())},0)}}changeFocusedOptionIndex(i,r){this.focusedOptionIndex()!==r&&(this.focusedOptionIndex.set(r),this.scrollInView(),(this.selectOnFocus||this.autoHighlight)&&this.onOptionSelect(i,this.visibleOptions()[r],!1))}show(i=!1){this.dirty=!0,this.overlayVisible=!0;const r=-1!==this.focusedOptionIndex()?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),i&&Q.D.focus(this.inputEL.nativeElement),i&&Q.D.focus(this.inputEL.nativeElement),this.onShow.emit(),this.cd.markForCheck()}hide(i=!1){const r=()=>{this.dirty=i,this.overlayVisible=!1,this.focusedOptionIndex.set(-1),i&&Q.D.focus(this.inputEL.nativeElement),this.onHide.emit(),this.cd.markForCheck()};setTimeout(()=>{r()},0)}clear(){this.updateModel(null),this.inputEL.nativeElement.value="",this.onClear.emit()}writeValue(i){this.value=i,this.modelValue.set(i),this.updateInputValue(),this.cd.markForCheck()}hasSelectedOption(){return q.BF.isNotEmpty(this.modelValue())}getAriaPosInset(i){return(this.optionGroupLabel?i-this.visibleOptions().slice(0,i).filter(r=>this.isOptionGroup(r)).length:i)+1}getOptionLabel(i){return this.field||this.optionLabel?q.BF.resolveFieldData(i,this.field||this.optionLabel):i&&null!=i.label?i.label:i}getOptionValue(i){return i}getOptionIndex(i,r){return this.virtualScrollerDisabled?i:r&&r.getItemOptions(i).index}getOptionGroupLabel(i){return this.optionGroupLabel?q.BF.resolveFieldData(i,this.optionGroupLabel):i&&null!=i.label?i.label:i}getOptionGroupChildren(i){return this.optionGroupChildren?q.BF.resolveFieldData(i,this.optionGroupChildren):i.items}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}onOverlayAnimationStart(i){if("visible"===i.toState&&(this.itemsWrapper=Q.D.findSingle(this.overlayViewChild.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-autocomplete-panel"),this.virtualScroll&&(this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.scroller.viewInit()),this.visibleOptions()&&this.visibleOptions().length))if(this.virtualScroll){const r=this.modelValue()?this.focusedOptionIndex():-1;-1!==r&&this.scroller?.scrollToIndex(r)}else{let r=Q.D.findSingle(this.itemsWrapper,".p-autocomplete-item.p-highlight");r&&r.scrollIntoView({block:"nearest",inline:"center"})}}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(r){return new(r||n)(t.rXU(h.qQ),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(L.r1),t.rXU(L.si),t.rXU(t.SKi))};static \u0275cmp=t.VBU({type:n,selectors:[["p-autoComplete"]],contentQueries:function(r,o,a){if(1&r&&t.wni(a,L.Ei,4),2&r){let l;t.mGM(l=t.lsd())&&(o.templates=l)}},viewQuery:function(r,o){if(1&r&&(t.GBs(Gh,5),t.GBs(Nh,5),t.GBs(Uh,5),t.GBs($h,5),t.GBs(Hh,5),t.GBs(Kh,5),t.GBs(Xh,5),t.GBs(zh,5)),2&r){let a;t.mGM(a=t.lsd())&&(o.containerEL=a.first),t.mGM(a=t.lsd())&&(o.inputEL=a.first),t.mGM(a=t.lsd())&&(o.multiInputEl=a.first),t.mGM(a=t.lsd())&&(o.multiContainerEL=a.first),t.mGM(a=t.lsd())&&(o.dropdownButton=a.first),t.mGM(a=t.lsd())&&(o.itemsViewChild=a.first),t.mGM(a=t.lsd())&&(o.scroller=a.first),t.mGM(a=t.lsd())&&(o.overlayViewChild=a.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(r,o){2&r&&t.AVh("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focused&&!o.disabled||o.autofocus||o.overlayVisible)("p-autocomplete-clearable",o.showClear&&!o.disabled)},inputs:{minLength:"minLength",delay:"delay",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:"unique",group:"group",completeOnFocus:"completeOnFocus",showClear:"showClear",field:"field",dropdown:"dropdown",showEmptyMessage:"showEmptyMessage",dropdownMode:"dropdownMode",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:"autofocus",autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",overlayOptions:"overlayOptions",suggestions:"suggestions",itemSize:"itemSize",optionLabel:"optionLabel",id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:"autoOptionFocus",selectOnFocus:"selectOnFocus",searchLocale:"searchLocale",optionDisabled:"optionDisabled",focusOnHover:"focusOnHover"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide",onLazyLoad:"onLazyLoad"},features:[t.Jv_([zf])],decls:17,vars:25,consts:[["container",""],["overlay",""],["buildInItems",""],["focusInput",""],["multiContainer",""],["token",""],["ddBtn",""],["scroller",""],["items",""],["empty",""],[3,"click","ngClass","ngStyle"],["pAutoFocus","","aria-autocomplete","list","role","combobox",3,"autofocus","ngClass","ngStyle","class","type","autocomplete","required","name","maxlength","tabindex","readonly","disabled","input","keydown","change","focus","blur","paste","keyup",4,"ngIf"],[4,"ngIf"],["role","listbox",3,"class","tabindex","focus","blur","keydown",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown p-button-icon-only","pRipple","",3,"disabled","click",4,"ngIf"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],["pAutoFocus","","aria-autocomplete","list","role","combobox",3,"input","keydown","change","focus","blur","paste","keyup","autofocus","ngClass","ngStyle","type","autocomplete","required","name","maxlength","tabindex","readonly","disabled"],[3,"styleClass","click",4,"ngIf"],["class","p-autocomplete-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-autocomplete-clear-icon",3,"click"],["role","listbox",3,"focus","blur","keydown","tabindex"],["role","option",3,"ngClass",4,"ngFor","ngForOf"],["role","option",1,"p-autocomplete-input-token"],["pAutoFocus","","role","combobox","aria-autocomplete","list",3,"input","keydown","change","focus","blur","paste","keyup","autofocus","ngClass","ngStyle","autocomplete","required","maxlength","tabindex","readonly","disabled"],["role","option",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],[1,"p-autocomplete-token-icon",3,"click"],[3,"styleClass",4,"ngIf"],["class","p-autocomplete-token-icon",4,"ngIf"],[1,"p-autocomplete-token-label"],[3,"styleClass"],[1,"p-autocomplete-token-icon"],[3,"styleClass","spin",4,"ngIf"],["class","p-autocomplete-loader pi-spin ",4,"ngIf"],[3,"styleClass","spin"],[1,"p-autocomplete-loader","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-autocomplete-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-autocomplete-item-group",3,"ngStyle"],["pRipple","","role","option",1,"p-autocomplete-item",3,"click","mouseenter","ngStyle","ngClass"],["role","option",1,"p-autocomplete-empty-message",3,"ngStyle"],[4,"ngIf","ngIfElse"]],template:function(r,o){if(1&r){const a=t.RV6();t.j41(0,"div",10,0),t.bIt("click",function(p){return t.eBV(a),t.Njj(o.onContainerClick(p))}),t.DNE(2,Zh,2,23,"input",11)(3,sf,3,2,"ng-container",12)(4,mf,6,28,"ul",13)(5,vf,3,2,"ng-container",12)(6,Ef,4,5,"button",14),t.j41(7,"p-overlay",15,1),t.mxI("visibleChange",function(p){return t.eBV(a),t.DH7(o.overlayVisible,p)||(o.overlayVisible=p),t.Njj(p)}),t.bIt("onAnimationStart",function(p){return t.eBV(a),t.Njj(o.onOverlayAnimationStart(p))})("onHide",function(){return t.eBV(a),t.Njj(o.hide())}),t.j41(9,"div",16),t.DNE(10,wf,1,0,"ng-container",17)(11,Mf,4,10,"p-scroller",18)(12,jf,2,6,"ng-container",12)(13,Xf,5,10,"ng-template",null,2,t.C5r),t.k0s(),t.j41(15,"span",19),t.EFF(16),t.k0s()()()}2&r&&(t.HbH(o.styleClass),t.Y8G("ngClass",o.containerClass)("ngStyle",o.style),t.R7$(2),t.Y8G("ngIf",!o.multiple),t.R7$(),t.Y8G("ngIf",o.filled&&!o.disabled&&o.showClear&&!o.loading),t.R7$(),t.Y8G("ngIf",o.multiple),t.R7$(),t.Y8G("ngIf",o.loading),t.R7$(),t.Y8G("ngIf",o.dropdown),t.R7$(),t.R50("visible",o.overlayVisible),t.Y8G("options",o.overlayOptions)("target","@parent")("appendTo",o.appendTo)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions),t.R7$(2),t.HbH(o.panelStyleClass),t.xc7("max-height",o.virtualScroll?"auto":o.scrollHeight),t.Y8G("ngClass",o.panelClass)("ngStyle",o.panelStyle),t.R7$(),t.Y8G("ngTemplateOutlet",o.headerTemplate),t.R7$(),t.Y8G("ngIf",o.virtualScroll),t.R7$(),t.Y8G("ngIf",!o.virtualScroll),t.R7$(4),t.SpI(" ",o.selectedMessageText," "))},dependencies:()=>[h.YU,h.Sq,h.bT,h.T3,h.B3,st.hJ,L.Ei,d._f,J.n,Be.H,xt.q,lt.I,Bi.N,Pe.A,ct.D],styles:["@layer primeng{.p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete-panel{overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{width:-moz-fit-content;width:fit-content;cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{display:flex;cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}}\n"],encapsulation:2,changeDetection:0})}return n})(),Wf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD,st.z_,E.u,d.tm,L.Gg,J.Z,Be.h,xt.u,lt.I,Bi.N,Pe.A,ct.D,st.z_,L.Gg,Be.h,xt.u]})}return n})();var Gi=_(5434);const Qf=["*",[["p-header"]]],qf=["*","p-header"],Jf=(n,s)=>({"p-fieldset p-component":!0,"p-fieldset-toggleable":n,"p-fieldset-expanded":s}),Zf=n=>({transitionParams:n,height:"0"}),eg=n=>({value:"hidden",params:n}),tg=n=>({transitionParams:n,height:"*"}),ig=n=>({value:"visible",params:n});function ng(n,s){1&n&&t.nrm(0,"PlusIcon",11),2&n&&(t.Y8G("styleClass","p-fieldset-toggler"),t.BMQ("data-pc-section","togglericon"))}function og(n,s){1&n&&t.eu8(0)}function rg(n,s){if(1&n&&(t.j41(0,"span",12),t.DNE(1,og,1,0,"ng-container",6),t.k0s()),2&n){const i=t.XpG(3);t.BMQ("data-pc-section","togglericon"),t.R7$(),t.Y8G("ngTemplateOutlet",i.expandIconTemplate)}}function sg(n,s){if(1&n&&(t.qex(0),t.DNE(1,ng,1,2,"PlusIcon",9)(2,rg,2,2,"span",10),t.bVm()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",!i.expandIconTemplate),t.R7$(),t.Y8G("ngIf",i.expandIconTemplate)}}function ag(n,s){1&n&&t.nrm(0,"MinusIcon",11),2&n&&(t.Y8G("styleClass","p-fieldset-toggler"),t.BMQ("aria-hidden",!0)("data-pc-section","togglericon"))}function lg(n,s){1&n&&t.eu8(0)}function cg(n,s){if(1&n&&(t.j41(0,"span",12),t.DNE(1,lg,1,0,"ng-container",6),t.k0s()),2&n){const i=t.XpG(3);t.BMQ("data-pc-section","togglericon"),t.R7$(),t.Y8G("ngTemplateOutlet",i.collapseIconTemplate)}}function dg(n,s){if(1&n&&(t.qex(0),t.DNE(1,ag,1,3,"MinusIcon",9)(2,cg,2,2,"span",10),t.bVm()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",!i.collapseIconTemplate),t.R7$(),t.Y8G("ngIf",i.collapseIconTemplate)}}function pg(n,s){1&n&&t.eu8(0)}function ug(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"a",7),t.bIt("click",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.toggle(o))})("keydown",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onKeyDown(o))}),t.DNE(2,sg,3,2,"ng-container",8)(3,dg,3,2,"ng-container",8)(4,pg,1,0,"ng-container",6),t.k0s(),t.bVm()}if(2&n){const i=t.XpG(),r=t.sdS(4);t.R7$(),t.BMQ("id",i.id+"_header")("aria-controls",i.id+"_content")("aria-expanded",!i.collapsed)("aria-label",i.buttonAriaLabel),t.R7$(),t.Y8G("ngIf",i.collapsed),t.R7$(),t.Y8G("ngIf",!i.collapsed),t.R7$(),t.Y8G("ngTemplateOutlet",r)}}function _g(n,s){1&n&&t.eu8(0)}function mg(n,s){if(1&n&&(t.j41(0,"span",13),t.EFF(1),t.k0s(),t.SdG(2,1),t.DNE(3,_g,1,0,"ng-container",6)),2&n){const i=t.XpG();t.BMQ("data-pc-section","legendtitle"),t.R7$(),t.JRh(i.legend),t.R7$(2),t.Y8G("ngTemplateOutlet",i.headerTemplate)}}function hg(n,s){1&n&&t.eu8(0)}let Et=(()=>{class n{el;legend;toggleable;collapsed=!1;style;styleClass;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";collapsedChange=new t.bkB;onBeforeToggle=new t.bkB;onAfterToggle=new t.bkB;templates;get id(){return(0,q._Y)()}get buttonAriaLabel(){return this.legend}animating;headerTemplate;contentTemplate;collapseIconTemplate;expandIconTemplate;constructor(i){this.el=i}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"header":this.headerTemplate=i.template;break;case"expandicon":this.expandIconTemplate=i.template;break;case"collapseicon":this.collapseIconTemplate=i.template;break;case"content":this.contentTemplate=i.template}})}toggle(i){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:i,collapsed:this.collapsed}),this.collapsed?this.expand():this.collapse(),this.onAfterToggle.emit({originalEvent:i,collapsed:this.collapsed}),i.preventDefault()}onKeyDown(i){("Enter"===i.code||"Space"===i.code)&&(this.toggle(i),i.preventDefault())}expand(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(){this.animating=!1}static \u0275fac=function(r){return new(r||n)(t.rXU(t.aKT))};static \u0275cmp=t.VBU({type:n,selectors:[["p-fieldset"]],contentQueries:function(r,o,a){if(1&r&&t.wni(a,L.Ei,4),2&r){let l;t.mGM(l=t.lsd())&&(o.templates=l)}},hostAttrs:[1,"p-element"],inputs:{legend:"legend",toggleable:"toggleable",collapsed:"collapsed",style:"style",styleClass:"styleClass",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:qf,decls:9,vars:28,consts:[["legendContent",""],[3,"ngClass","ngStyle"],[1,"p-fieldset-legend"],[4,"ngIf","ngIfElse"],["role","region",1,"p-toggleable-content"],[1,"p-fieldset-content"],[4,"ngTemplateOutlet"],["pRipple","","tabindex","0","role","button",3,"click","keydown"],[4,"ngIf"],[3,"styleClass",4,"ngIf"],["class","p-fieldset-toggler",4,"ngIf"],[3,"styleClass"],[1,"p-fieldset-toggler"],[1,"p-fieldset-legend-text"]],template:function(r,o){if(1&r){const a=t.RV6();t.NAR(Qf),t.j41(0,"fieldset",1)(1,"legend",2),t.DNE(2,ug,5,7,"ng-container",3)(3,mg,4,3,"ng-template",null,0,t.C5r),t.k0s(),t.j41(5,"div",4),t.bIt("@fieldsetContent.done",function(){return t.eBV(a),t.Njj(o.onToggleDone())}),t.j41(6,"div",5),t.SdG(7),t.DNE(8,hg,1,0,"ng-container",6),t.k0s()()()}if(2&r){const a=t.sdS(4);t.HbH(o.styleClass),t.Y8G("ngClass",t.l_i(17,Jf,o.toggleable,!o.collapsed&&o.toggleable))("ngStyle",o.style),t.BMQ("id",o.id)("data-pc-name","fieldset")("data-pc-section","root"),t.R7$(),t.BMQ("data-pc-section","legend"),t.R7$(),t.Y8G("ngIf",o.toggleable)("ngIfElse",a),t.R7$(3),t.Y8G("@fieldsetContent",o.collapsed?t.eq3(22,eg,t.eq3(20,Zf,o.transitionOptions)):t.eq3(26,ig,t.eq3(24,tg,o.animating?o.transitionOptions:"0ms"))),t.BMQ("id",o.id+"_content")("aria-labelledby",o.id+"_header")("aria-hidden",o.collapsed)("data-pc-section","toggleablecontent"),t.R7$(),t.BMQ("data-pc-section","content"),t.R7$(2),t.Y8G("ngTemplateOutlet",o.contentTemplate)}},dependencies:()=>[h.YU,h.bT,h.T3,h.B3,J.n,Gi.Q,Ut.c],styles:["@layer primeng{.p-fieldset-legend>a,.p-fieldset-legend>span{display:flex;align-items:center;justify-content:center}.p-fieldset-toggleable .p-fieldset-legend a{cursor:pointer;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-fieldset-legend-text{line-height:1}.p-fieldset-toggleable.p-fieldset-expanded>.p-toggleable-content:not(.ng-animating){overflow:visible}.p-fieldset-toggleable .p-toggleable-content{overflow:hidden}}\n"],encapsulation:2,data:{animation:[(0,ge.hZ)("fieldsetContent",[(0,ge.wk)("hidden",(0,ge.iF)({height:"0"})),(0,ge.wk)("visible",(0,ge.iF)({height:"*"})),(0,ge.kY)("visible <=> hidden",[(0,ge.i0)("{{transitionParams}}")]),(0,ge.kY)("void => *",(0,ge.i0)(0))])]},changeDetection:0})}return n})(),wt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD,J.Z,Gi.Q,Ut.c,L.Gg]})}return n})();var fg=_(4249),gg=_(2886),bg=_(6439),vg=_(1470),Cg=_(2950);let W1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD,Nn.I,J.Z,Be.h,Bi.N,fg.Z,gg.K,bg.J,Cg.w,vg.S,Xe.S,Gi.Q,ct.D,Tt.v,L.Gg,Be.h]})}return n})(),io=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD,L.Gg,at.S,J.Z,Pe.A,$t.Y,Tt.v,L.Gg]})}return n})();var Ke=_(5831),ti=_(8810),Ni=_(9437);let ii=(()=>{class n{constructor(i,r){this.http=i,this.router=r,this.tranches=[],this.api=Ue.c.apiUrl+"/tranche"}getTranches(){const i=(0,re.gf)();if(console.log(i),i){const r=(new ie.Lr).set("Authorization",`Bearer ${i}`).set("Content-Type","application/json; charset=utf8");return this.http.get(`${this.api}/read`,{headers:r})}return new D.c}getTrancheById(i){const r=`${this.api}/getTrancheById/${i}`,o=(0,re.gf)();if(console.log(o),o){const a=(new ie.Lr).set("Authorization",`Bearer ${o}`).set("Content-Type","application/json; charset=utf8");return this.http.get(r,{headers:a})}return new D.c}rechercheTranche(i){return this.tranches.filter(r=>r.montantTranche.toString().toLowerCase().includes(i.toLowerCase())||r.description.toLowerCase().includes(i.toLowerCase())||r.user.lastname.toLowerCase().includes(i.toLowerCase())||r.user.firstname.toLowerCase().includes(i.toLowerCase()))}addTranche(i){this.tranches.push(i),console.log("Data tranche"+(new h.TG).transform(i));const r=(0,re.gf)();if(console.log(r),r){const o=(new ie.Lr).set("Authorization",`Bearer ${r}`).set("Content-Type","application/json; charset=utf8");return this.http.post(this.api+"/create",i,{headers:o})}return new D.c}deleteTranche(i){const r=`${this.api}/delete/${i}`,o=(0,re.gf)();if(o){const a=(new ie.Lr).set("Authorization",`Bearer ${o}`).set("Content-Type","application/json; charset=utf-8");return this.http.delete(r,{headers:a}).pipe((0,Ni.W)(l=>(console.error("Erreur lors de la suppression de la tranche",l),(0,ti.$)(l))))}return(0,ti.$)("Token d'authentification manquant")}modifierTranche(i){const r=`${this.api}/update`,o=(0,re.gf)();if(o){const a=(new ie.Lr).set("Authorization",`Bearer ${o}`).set("Content-Type","application/json; charset=utf8"),l={id:i.id,description:i.description,dateEcheance:i.dateEcheance,montantTranche:i.montantTranche,statutPayement:i.statutPayement,user:{id:i.user.id}};return console.error((new h.TG).transform(l)),this.http.put(r,l,{headers:a})}return new D.c}ajoutererTranche(i){const r=`${this.api}/create`,o=(0,re.gf)();if(o){const a=(new ie.Lr).set("Authorization",`Bearer ${o}`).set("Content-Type","application/json; charset=utf8"),l={id:i.id,description:i.description,dateEcheance:i.dateEcheance,montantTranche:i.montantTranche,statutPayement:i.statutPayement,user:{id:i.user.id}};return console.error((new h.TG).transform(l)),this.http.post(r,l,{headers:a})}return new D.c}returnBack(){$().fire({title:"Vous \xeates s\xfbr?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui",cancelButtonText:"Annuler"}).then(i=>{i.isConfirmed?this.router.navigate(["/tranches"]):$().fire({title:"Annulation",icon:"info",text:"Le retour a \xe9t\xe9 annul\xe9."})})}exist(i){const r=(0,re.gf)();if(console.log(r),r){const o=(new ie.Lr).set("Authorization",`Bearer ${r}`).set("Content-Type","application/json; charset=utf8");let a={user:{id:(0,re.lL)().id},tableName:i};this.http.post(Ue.c.apiUrl+"/permission/checkpermission",a,{headers:o}).subscribe(l=>{this.permission=l,console.log("=======1111111>><>>>>>> "+(new h.TG).transform(this.permission=l))})}else this.permission=!1}static#e=this.\u0275fac=function(r){return new(r||n)(t.KVO(ie.Qq),t.KVO(c.Ix))};static#t=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ni=(()=>{class n{constructor(i,r,o,a,l,p,S,O,N){this.depotService=i,this.userService=r,this.http=o,this.confirmationService=a,this.messageService=l,this.produitService=p,this.trancheService=S,this.router=O,this.datePipe=N,this.FactureInter=[],this.factures=[],this.depots=this.getAllDepots(),this.api=Ue.c.apiUrl+"/facture",this.apiP=Ue.c.apiUrl+"/produit",this.idFacture=0,this.getAllDepots(),this.userService.getUsers(),this.getTypesFacture(),this.trancheService.getTranches()}getAllDepots(){this.depotService.getdepots().subscribe(i=>{this.depots=i})}getFactures(){const i=(0,re.gf)();if(console.log(i),i){const r=(new ie.Lr).set("Authorization",`Bearer ${i}`).set("Content-Type","application/json; charset=utf8");return this.http.get(this.api+"/read",{headers:r})}return new D.c}getTypesFacture(){return Object.keys(De).map(r=>De[r])}addFacture(i){const r=(0,re.gf)(),o=new ie.Lr({Authorization:`Bearer ${r}`,"Content-Type":"application/json"});let a=[];i.lignesFacture.forEach(O=>{O.produit.files.forEach(N=>{a.push({id:N.id,name:N.name,type:N.type,path:N.path})})});let l=[];i.lignesFacture.forEach(O=>{l.push({produit:{id:O.produit.id,qantite:O.produit.qantite,nom:O.produit.nom,prixUnitaire:O.produit.prixUnitaire,prixGros:O.produit.prixGros,description:O.produit.description,dataqr:O.produit.dataqr,gainUnitaire:O.produit.gainUnitaire,gainGros:O.produit.gainGros,minQuantiteGros:O.produit.minQuantiteGros,historiques:O.produit.historiques.map(N=>({id:N.id,prixHistoriqueAchat:N.prixHistoriqueAchat,quantiteHistoriqueAchat:N.quantiteHistoriqueAchat,dateMisAjoure:N.dateMisAjoure,idFactRefToHist:N.idFactRefToHist})),article:{id:O.produit.article.id,nom:O.produit.article.nom,description:O.produit.article.description,unite:O.produit.article.unite},dateFabrication:O.produit.dateFabrication,dateExpiration:O.produit.dateExpiration,taxe:O.produit.taxe,files:a},quantite:O.quantite,montantTotal:O.montantTotal,prixVente:O.prixVente,prixAchat:O.prixAchat,typeCalcule:O.typeCalcule,idHistorique:O.idHistorique})});const p={reference:i.reference,date:this.datePipe.transform(i.date,"yyyy-MM-dd"),montant:i.montant,paye:i.paye,reglement:i.reglement,montantTaxe:i.montantTaxe,typeFacture:i.typeFacture,lignesFacture:l,client:{id:i.client.id},transporteur:{id:i.transporteur.id},provider:{id:i.provider.id},depot:{id:i.depot.id},tranches:i.tranches.map(O=>{const N={id:O.id,dateEcheance:O.dateEcheance,montantTranche:O.montantTranche,description:O.description,statutPayement:O.statutPayement};return i.typeFacture===De.SORTIE?N.user={id:i.provider.id}:i.typeFacture===De.ENTREE&&(N.user={id:i.client.id}),N})};console.error(p);const S=`${this.api}/create`;return console.log("fact Json"+p),this.http.post(S,p,{headers:o})}getFactureById(i){const r=(0,re.gf)(),o=`${this.api}/findByid/${i}`,a=(new ie.Lr).set("Authorization",`Bearer ${r}`).set("Content-Type","application/json; charset=utf8");return this.http.get(o,{headers:a})}searchFacture(i){return i=i.toLowerCase(),this.factures.filter(r=>r.reference.toLowerCase().includes(i))}getClient(i){const r=(0,re.gf)(),o=`${this.api}/getClient/${i}`,a=(new ie.Lr).set("Authorization",`Bearer ${r}`).set("Content-Type","application/json; charset=utf8");return this.http.get(o,{headers:a})}updateFacture(i){const r=(0,re.gf)(),o=new ie.Lr({Authorization:`Bearer ${r}`,"Content-Type":"application/json"});let a=[];i.lignesFacture.forEach(O=>{O.produit.files.forEach(N=>{a.push({id:N.id,name:N.name,type:N.type,path:N.path})})});let l=[];i.lignesFacture.forEach(O=>{l.push({produit:{id:O.produit.id,qantite:O.produit.qantite,nom:O.produit.nom,prixUnitaire:O.produit.prixUnitaire,prixGros:O.produit.prixGros,description:O.produit.description,dataqr:O.produit.dataqr,gainUnitaire:O.produit.gainUnitaire,gainGros:O.produit.gainGros,minQuantiteGros:O.produit.minQuantiteGros,historiques:O.produit.historiques.map(N=>({id:N.id,prixHistoriqueAchat:N.prixHistoriqueAchat,quantiteHistoriqueAchat:N.quantiteHistoriqueAchat,dateMisAjoure:N.dateMisAjoure,idFactRefToHist:N.idFactRefToHist})),dateFabrication:O.produit.dateFabrication,dateExpiration:O.produit.dateExpiration,taxe:O.produit.taxe,filesList:a,article:{id:O.produit.article.id,nom:O.produit.article.nom,description:O.produit.article.description,unite:O.produit.article.unite}},quantite:O.quantite,montantTotal:O.montantTotal,prixVente:O.prixVente,prixAchat:O.prixAchat,typeCalcule:O.typeCalcule,idHistorique:O.idHistorique})});const p={id:i.id,reference:i.reference,date:this.datePipe.transform(i.date,"yyyy-MM-dd"),montant:i.montant,paye:i.paye,reglement:i.reglement,montantTaxe:i.montantTaxe,typeFacture:i.typeFacture,lignesFacture:l,client:{id:i.client.id},transporteur:{id:i.transporteur.id},provider:{id:i.provider.id},depot:i.typeFacture==De.ENTREE?{id:i.depot.id}:null,tranches:i.tranches.map(O=>({id:O.id,dateEcheance:O.dateEcheance,montantTranche:O.montantTranche,description:O.description,user:null}))};return console.info(p),this.http.put(`${this.api}/update`,p,{headers:o})}deleteFacture(i){const r=(0,re.gf)(),o=`${this.api}/deleteFacture/${i}`,a=(new ie.Lr).set("Authorization",`Bearer ${r}`).set("Content-Type","application/json; charset=utf-8");return this.http.delete(o,{headers:a})}returnBack(){$().fire({title:"Vous \xeates s\xfbr?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui",cancelButtonText:"Annuler"}).then(i=>{i.isConfirmed?this.router.navigate(["/uikit/facture"]):$().fire({title:"Annulation",icon:"info",text:"Le retour a \xe9t\xe9 annul\xe9."})})}exist(i){const r=(0,re.gf)();if(console.log(r),r){const o=(new ie.Lr).set("Authorization",`Bearer ${r}`).set("Content-Type","application/json; charset=utf8");let a={user:{id:(0,re.lL)().id},tableName:i};this.http.post(Ue.c.apiUrl+"/permission/checkpermission",a,{headers:o}).subscribe(l=>{this.permission=l,console.log("=======1111111>><>>>>>> "+(new h.TG).transform(this.permission=l))})}else this.permission=!1}removeFactureWithUpdateProduct(i){const r=(0,re.gf)(),o=new ie.Lr({Authorization:`Bearer ${r}`,"Content-Type":"application/json"});return this.http.put(`${this.api}/removeFactWithUpdate`,i,{headers:o})}static#e=this.\u0275fac=function(r){return new(r||n)(t.KVO(qt),t.KVO(Ke.D),t.KVO(ie.Qq),t.KVO(L.td),t.KVO(L.bg),t.KVO(Ve.D),t.KVO(ii),t.KVO(c.Ix),t.KVO(h.vh))};static#t=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const I0=["dt2"],no=()=>[10,25,50],y0=()=>["reference","client.lastname","provider.firstname","transporteur.firstname","montant","date","paye","typeFacture"],oo=()=>({"min-width":"75rem"}),ro=()=>({width:"60vw"}),so=()=>({height:"500px"}),x0=()=>({"1199px":"75vw","575px":"90vw"}),ao=()=>({"background-color":"#b9c7ce",color:"#1a1717"}),lo=(n,s)=>({"odd-row":n,"even-row":s}),Ui=(n,s)=>({"text-green-500 pi-check-circle":n,"text-red-500 pi-times-circle":s}),E0=()=>({width:"50rem"}),w0=n=>({label:"Total des Tranches",value:n}),S0=n=>({label:"Montant Pay\xe9es",value:n}),k0=n=>({label:"Reste \xe0 payer",value:n}),F0=(n,s,i)=>[n,s,i],D0=()=>["reference"],O0=()=>[],M0=()=>({"min-width":"60rem"}),R0=(n,s,i)=>({instock:n,lowstock:s,outofstock:i});function j0(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",47)(1,"div",48)(2,"button",49),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.addFacture())}),t.k0s()(),t.j41(3,"div",50)(4,"button",51),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.refrech())}),t.k0s()()()}}function P0(n,s){if(1&n&&(t.j41(0,"div",52),t.nrm(1,"p-avatar",53),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Aen(t.lJ4(3,ao)),t.Y8G("value",i.Facturefilred.length+"")}}function A0(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",40)(1,"div",55)(2,"p-fieldset",56)(3,"p",57),t.nrm(4,"p-avatar",58),t.j41(5,"p-button",59),t.bIt("onClick",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.dialogTrancheDVisible=!0)}),t.k0s(),t.nrm(6,"br"),t.k0s()()(),t.j41(7,"div",55)(8,"p-fieldset",60)(9,"p",57),t.EFF(10),t.k0s()()(),t.j41(11,"div",61)(12,"p-fieldset",62)(13,"p",57),t.EFF(14),t.nI1(15,"number"),t.k0s()()()()}if(2&n){const i=t.XpG(2);t.R7$(4),t.Aen(t.lJ4(8,ao)),t.Y8G("value",i.nbreTranche+""),t.R7$(6),t.SpI(" ",i.Facturefilred.length," Factures "),t.R7$(4),t.SpI(" ",t.i5U(15,5,i.totalFiltre,"1.3-3")," TND ")}}function L0(n,s){if(1&n&&t.DNE(0,A0,16,9,"div",54),2&n){const i=t.XpG();t.Y8G("ngIf",null!=i.totalFiltre)}}function B0(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",63)(1,"div",64)(2,"div",65)(3,"button",66),t.bIt("click",function(){t.eBV(i);const o=t.XpG(),a=t.sdS(9);return t.Njj(o.clear(a))}),t.k0s()()(),t.j41(4,"p-iconField",67)(5,"div",68)(6,"div")(7,"input",69),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.valueSearching,o)||(a.valueSearching=o),t.Njj(o)}),t.bIt("input",function(){t.eBV(i);const o=t.XpG(),a=t.sdS(9);return t.Njj(a.filterGlobal(o.getFiltered(o.valueSearching),"contains"))}),t.k0s()(),t.j41(8,"div")(9,"p-button",70),t.bIt("onClick",function(o){t.eBV(i),t.XpG();const a=t.sdS(18);return t.Njj(a.toggle(o))}),t.k0s()()()()()}if(2&n){const i=t.XpG();t.R7$(7),t.R50("ngModel",i.valueSearching)}}function V0(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"p-button",81),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.CalculeMontantFiltrer())}),t.k0s(),t.bVm()}}function G0(n,s){if(1&n&&(t.j41(0,"span",82),t.EFF(1),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.SpI(" Total Montant Filtr\xe9: ",i.totalMontantFiltre," ")}}function N0(n,s){if(1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Reference"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Client"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Fournisseur"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Transporteur"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Montant"),t.k0s(),t.j41(11,"th"),t.EFF(12,"Date"),t.k0s(),t.j41(13,"th"),t.EFF(14,"Type Facture"),t.k0s(),t.j41(15,"th"),t.EFF(16,"Paye"),t.k0s(),t.j41(17,"th"),t.EFF(18,"Tranche"),t.k0s(),t.j41(19,"th"),t.EFF(20,"Action"),t.k0s()(),t.j41(21,"tr")(22,"th"),t.nrm(23,"p-columnFilter",71),t.k0s(),t.j41(24,"th"),t.nrm(25,"p-columnFilter",72),t.k0s(),t.j41(26,"th"),t.nrm(27,"p-columnFilter",73),t.k0s(),t.j41(28,"th"),t.nrm(29,"p-columnFilter",74),t.k0s(),t.j41(30,"th"),t.nrm(31,"p-columnFilter",75),t.k0s(),t.j41(32,"th"),t.nrm(33,"p-columnFilter",76),t.k0s(),t.j41(34,"th"),t.nrm(35,"p-columnFilter",77),t.k0s(),t.j41(36,"th"),t.nrm(37,"p-columnFilter",78),t.k0s(),t.nrm(38,"th"),t.j41(39,"th")(40,"div",79),t.DNE(41,V0,2,0,"ng-container",80)(42,G0,2,1,"ng-template",null,2,t.C5r),t.k0s()()()),2&n){const i=t.sdS(43),r=t.XpG();t.R7$(41),t.Y8G("ngIf",!r.montantFiltreCalcule)("ngIfElse",i)}}function U0(n,s){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Description"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Date d'\xe9ch\xe9ance"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Montant"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Statut de paiement"),t.k0s()())}function $0(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.j41(6,"td"),t.EFF(7),t.nI1(8,"currency"),t.k0s(),t.j41(9,"td"),t.nrm(10,"i",84),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.description),t.R7$(2),t.JRh(t.i5U(5,4,i.dateEcheance,"dd-MM-yyyy")),t.R7$(3),t.JRh(t.bMT(8,7,i.montantTranche)),t.R7$(3),t.Y8G("ngClass",t.l_i(9,Ui,i.statutPayement,!i.statutPayement))}}function H0(n,s){if(1&n&&(t.j41(0,"div")(1,"p-table",93),t.DNE(2,U0,9,0,"ng-template",11)(3,$0,11,12,"ng-template",12),t.k0s()()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("value",null==i.newFacture?null:i.newFacture.tranches)}}function K0(n,s){1&n&&(t.j41(0,"div")(1,"h4",94),t.EFF(2,"Aucune tranche disponible pour cette facture!"),t.k0s()())}function X0(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",96),t.EFF(2),t.k0s(),t.j41(3,"td",97),t.EFF(4),t.nI1(5,"currency"),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.label),t.R7$(2),t.JRh(t.brH(5,2,i.value,""," TND "))}}function z0(n,s){if(1&n&&(t.j41(0,"p-table",95),t.DNE(1,X0,6,6,"ng-template",12),t.k0s()),2&n){const i=t.XpG(2);t.Y8G("value",t.sMw(7,F0,t.eq3(1,w0,i.totalMontantTranches),t.eq3(3,S0,i.montantTranchesPayees),t.eq3(5,k0,i.montantTranchesNonPayees)))}}function Y0(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",83)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td"),t.nrm(16,"i",84),t.k0s(),t.j41(17,"td")(18,"button",85),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.showDialogTranches(o))}),t.k0s()(),t.j41(19,"td",86)(20,"button",87),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.editFacture(o.id))}),t.k0s(),t.j41(21,"button",88),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.goToFactureDetails(o.id))}),t.k0s(),t.j41(22,"button",89),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.deleteFacture(o))}),t.k0s()()(),t.j41(23,"p-dialog",90),t.mxI("visibleChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.visibleTranche,o)||(a.visibleTranche=o),t.Njj(o)}),t.DNE(24,H0,4,1,"div",38)(25,K0,3,0,"div",38),t.j41(26,"div",91),t.DNE(27,z0,2,11,"p-table",92),t.k0s()()}if(2&n){const i=s.$implicit,r=s.rowIndex,o=t.XpG();t.Y8G("ngClass",t.l_i(15,lo,r%2==0,r%2!=0)),t.R7$(2),t.JRh(i.reference),t.R7$(2),t.JRh(null!==i.client?i.client.lastname:"-"),t.R7$(2),t.JRh(null!==i.provider?i.provider.firstname:"-"),t.R7$(2),t.JRh(i.transporteur.firstname),t.R7$(2),t.JRh(i.montant),t.R7$(2),t.JRh(i.date),t.R7$(2),t.JRh(i.typeFacture),t.R7$(2),t.Y8G("ngClass",t.l_i(18,Ui,i.paye,!i.paye)),t.R7$(7),t.Aen(t.lJ4(21,E0)),t.R50("visible",o.visibleTranche),t.R7$(),t.Y8G("ngIf",null==o.newFacture||null==o.newFacture.tranches?null:o.newFacture.tranches.length),t.R7$(),t.Y8G("ngIf",!(null!=o.newFacture&&null!=o.newFacture.tranches&&o.newFacture.tranches.length)),t.R7$(2),t.Y8G("ngIf",null==o.newFacture||null==o.newFacture.tranches?null:o.newFacture.tranches.length)}}function W0(n,s){1&n&&(t.j41(0,"tr")(1,"td",98),t.EFF(2,"Listes Facture Vide."),t.k0s()())}function Q0(n,s){1&n&&(t.j41(0,"span"),t.EFF(1,"Pay\xe9"),t.k0s())}function q0(n,s){1&n&&(t.j41(0,"span"),t.EFF(1,"Non Pay\xe9"),t.k0s())}function J0(n,s){1&n&&(t.j41(0,"span"),t.EFF(1,"Pay\xe9 et Non Pay\xe9"),t.k0s())}function Z0(n,s){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Reference Facture"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Description Tranche"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Date d'\xe9ch\xe9ance Tranche"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Montant Tranche"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Statut de paiement"),t.k0s()())}function eb(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.j41(6,"td"),t.EFF(7),t.nI1(8,"currency"),t.k0s(),t.j41(9,"td"),t.nrm(10,"i",84),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.description),t.R7$(2),t.JRh(t.i5U(5,4,i.dateEcheance,"dd-MM-yyyy")),t.R7$(3),t.JRh(t.bMT(8,7,i.montantTranche)),t.R7$(3),t.Y8G("ngClass",t.l_i(9,Ui,i.statutPayement,!i.statutPayement))}}function tb(n,s){if(1&n&&(t.j41(0,"p-table",95),t.DNE(1,eb,11,12,"ng-template",12),t.k0s()),2&n){const i=t.XpG(2).$implicit;t.Y8G("value",i.tranches)}}function ib(n,s){if(1&n&&(t.j41(0,"tr",83)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td",100),t.DNE(4,tb,2,1,"p-table",92),t.k0s()()),2&n){const i=t.XpG(),r=i.$implicit,o=i.rowIndex;t.Y8G("ngClass",t.l_i(3,lo,o%2==0,o%2!=0)),t.R7$(2),t.JRh(r.reference),t.R7$(2),t.Y8G("ngIf",null==r||null==r.tranches?null:r.tranches.length)}}function nb(n,s){if(1&n&&t.DNE(0,ib,5,6,"tr",99),2&n){const i=s.$implicit;t.Y8G("ngIf",null==i||null==i.tranches?null:i.tranches.length)}}function ob(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",101),t.EFF(2,"Total Tranches Pay\xe9es :"),t.k0s(),t.j41(3,"td",102),t.EFF(4),t.nI1(5,"currency"),t.k0s()(),t.j41(6,"tr")(7,"td",101),t.EFF(8,"Total Tranches Non Pay\xe9es :"),t.k0s(),t.j41(9,"td",102),t.EFF(10),t.nI1(11,"currency"),t.k0s()()),2&n){const i=t.XpG(2);t.R7$(4),t.JRh(t.bMT(5,2,i.totalTranchepaye)),t.R7$(6),t.JRh(t.bMT(11,4,i.totalTrancheNonpaye))}}function rb(n,s){1&n&&(t.j41(0,"tr")(1,"td",103),t.EFF(2,"Listes Facture Vide."),t.k0s()())}function sb(n,s){if(1&n&&(t.j41(0,"p-table",9,3),t.DNE(2,Z0,11,0,"ng-template",11)(3,nb,1,1,"ng-template",12)(4,ob,12,6,"ng-template",45)(5,rb,3,0,"ng-template",13),t.k0s()),2&n){const i=t.XpG();t.Y8G("value",i.Facturefilred)("rows",10)("rowsPerPageOptions",t.lJ4(7,no))("loading",i.loading)("paginator",!0)("globalFilterFields",t.lJ4(8,D0))("tableStyle",t.lJ4(9,oo))}}function ab(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-button",104),t.bIt("onClick",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.dialogTrancheDVisible=!1)}),t.k0s()}}function lb(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",107)(1,"p-button",108),t.bIt("onClick",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.expandAll())}),t.k0s(),t.j41(2,"p-button",109),t.bIt("onClick",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.collapseAll())}),t.k0s()()}}function cb(n,s){1&n&&(t.j41(0,"tr"),t.nrm(1,"th",110),t.j41(2,"th",111),t.EFF(3,"Nom "),t.nrm(4,"p-sortIcon",112),t.k0s(),t.j41(5,"th",113),t.EFF(6,"Prix "),t.nrm(7,"p-sortIcon",114),t.k0s(),t.j41(8,"th",115),t.EFF(9,"Type Calcule "),t.nrm(10,"p-sortIcon",116),t.k0s(),t.j41(11,"th",117),t.EFF(12,"Quantit\xe9 "),t.nrm(13,"p-sortIcon",118),t.k0s(),t.j41(14,"th",119),t.EFF(15,"Etat Stock "),t.nrm(16,"p-sortIcon",120),t.k0s()())}function db(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.nrm(2,"p-button",121),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"currency"),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.j41(12,"td"),t.nrm(13,"p-tag",95),t.j41(14,"span",83),t.EFF(15),t.k0s()()()),2&n){const i=s.$implicit,r=s.expanded;t.R7$(2),t.Y8G("pRowToggler",i)("text",!0)("rounded",!0)("plain",!0)("icon",r?"pi pi-chevron-down":"pi pi-chevron-right"),t.R7$(2),t.JRh(i.produit.nom),t.R7$(2),t.JRh(t.i5U(7,12,i.produit.prixUnitaire,"TND")),t.R7$(3),t.JRh(i.typeCalcule),t.R7$(2),t.JRh(i.produit.qantite),t.R7$(2),t.Y8G("value",i.produit.levelstock),t.R7$(),t.Y8G("ngClass",t.sMw(15,R0,i.produit.qantite>i.produit.levelstock,i.produit.qantite>0&&i.produit.qantite<=i.produit.levelstock,0==i.produit.qantite)),t.R7$(),t.SpI(" ",i.produit.qantite>i.produit.levelstock?"INSTOCK":0==i.produit.qantite?"OUTOFSTOCK":"LOWSTOCK"," ")}}function pb(n,s){1&n&&(t.j41(0,"tr")(1,"th",124),t.EFF(2,"Prix Historique "),t.nrm(3,"p-sortIcon",125),t.k0s(),t.j41(4,"th",126),t.EFF(5,"Quantit\xe9 Historique "),t.nrm(6,"p-sortIcon",127),t.k0s(),t.j41(7,"th",128),t.EFF(8,"Date Historique "),t.nrm(9,"p-sortIcon",129),t.k0s(),t.j41(10,"th",130),t.EFF(11,"Choisir Prix "),t.nrm(12,"p-sortIcon",131),t.k0s()())}function ub(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.nI1(3,"currency"),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.nI1(8,"date"),t.k0s(),t.j41(9,"td")(10,"div",18)(11,"input",132),t.bIt("change",function(){const o=t.eBV(i).$implicit,a=t.XpG().$implicit,l=t.XpG(2);return t.Njj(l.updateFacturePrix(a,o))}),t.k0s()()()()}if(2&n){const i=s.$implicit,r=t.XpG().$implicit;t.R7$(2),t.JRh(t.i5U(3,6,i.prixHistoriqueAchat,"TND")),t.R7$(3),t.JRh(i.quantiteHistoriqueAchat),t.R7$(2),t.JRh(t.i5U(8,9,i.dateMisAjoure,"shortDate")),t.R7$(4),t.FS9("name","group"+r.id),t.FS9("value",i.id),t.FS9("id",r.id)}}function _b(n,s){1&n&&(t.j41(0,"tr")(1,"td",100),t.EFF(2,"Aucun historique disponible"),t.k0s()())}function mb(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",98)(2,"div",122)(3,"p-table",123),t.DNE(4,pb,13,0,"ng-template",11)(5,ub,12,12,"ng-template",12)(6,_b,3,0,"ng-template",13),t.k0s()()()()),2&n){const i=s.$implicit;t.R7$(3),t.Y8G("value",i.produit.historiques)}}function hb(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",8),t.nrm(1,"p-toast"),t.j41(2,"p-table",105),t.bIt("onRowExpand",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onRowExpand(o))})("onRowCollapse",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onRowCollapse(o))}),t.DNE(3,lb,3,0,"ng-template",10)(4,cb,17,0,"ng-template",11)(5,db,16,19,"ng-template",12)(6,mb,7,1,"ng-template",106),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(2),t.Y8G("value",void 0!==i.factureDeleted.lignesFacture?i.factureDeleted.lignesFacture:t.lJ4(4,O0))("tableStyle",t.lJ4(5,M0))("resizableColumns",!0)("expandedRowKeys",i.expandedRows)}}function fb(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-footer")(1,"p-button",133),t.bIt("onClick",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.confirmDeleteFacture(o.factureDeleted))}),t.k0s(),t.j41(2,"p-button",134),t.bIt("onClick",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.openDialogueChangedPrix=!1)}),t.k0s()()}}let gb=(()=>{class n{showDialog(){this.visible=!0}constructor(i,r,o,a,l,p,S){this.factureService=i,this.userService=r,this.router=o,this.messageService=a,this.confirmationService=l,this.activatedRoute=p,this.produitService=S,this.montantFiltreCalcule=!1,this.totalMontantFiltre=0,this.loading=!0,this.activityValues=[0,100],this.factures=[],this.Facturefilred=[],this.FacturefilredSuplim=[],this.client=new Se.K,this.searchTerm="",this.produit=[],this.visibleTranche=!1,this.visible=!1,this.facturesFiltreAdv=[],this.totalFiltre=null,this.nbreTranche=0,this.totalTranchepaye=0,this.totalTrancheNonpaye=0,this.dialogTrancheDVisible=!1,this.balance=0,this.openDialogueChangedPrix=!1,this.expandedRows={},this.totalMontantTranches=0,this.montantTranchesPayees=0,this.montantTranchesNonPayees=0,this.factureDeleted={}}ngOnInit(){this.getAllFactures(),this.calculateMontants(),this.root=this.router.url.split("/")[1];const i=this.activatedRoute.snapshot.paramMap.get("idp"),r=this.activatedRoute.snapshot.paramMap.get("idd");null!==i&&(this.idp=+i),null!==r&&(this.idd=+r)}getStatusSeverity(i){switch(i){case"PENDING":return"warning";case"DELIVERED":return"success";case"CANCELLED":return"danger";default:return"unknown"}}onRowExpand(i){}onRowCollapse(i){}expandAll(){this.expandedRows=this.produits.reduce((i,r)=>(i[r.id]=!0)&&i,{})}collapseAll(){this.expandedRows={}}onDialogClose(){this.expandedRows={}}searchFirstName(i){this.userService.getUsers().subscribe(r=>{const o=r.map(a=>a.firstname);this.suggestions=o.filter(a=>a.toLowerCase().includes(i.query.toLowerCase())).map(a=>({label:a,value:a}))})}searchLastName(i){this.userService.getUsers().subscribe(r=>{const o=r.map(a=>a.lastname);this.suggestions=o.filter(a=>a.toLowerCase().includes(i.query.toLowerCase())).map(a=>({label:a,value:a}))})}searchTelephone(i){this.userService.getUsers().subscribe(r=>{const o=r.map(a=>a.telephone);this.suggestions=o.filter(a=>a.toString().includes(i.query)).map(a=>({label:a.toString(),value:a}))})}searchEmail(i){this.userService.getUsers().subscribe(r=>{const o=r.map(a=>a.email);this.suggestions=o.filter(a=>a.toLowerCase().includes(i.query.toLowerCase())).map(a=>({label:a,value:a}))})}clear(i){i.clear(),this.montantFiltreCalcule=!1,this.refrech()}getAllFactures(){this.loading=!0,this.factureService.getFactures().subscribe(i=>{this.factureService.FactureInter=[...i],this.loading=!1,this.Facturefilred=[...i],this.FacturefilredSuplim=[...i]})}goToFactureDetails(i){this.router.navigate(["uikit/facture/",i])}editFacture(i){this.router.navigate(["uikit/update-facture/",i])}addFacture(){this.router.navigate(["/uikit/add-facture"])}onSearch(){""!==this.searchTerm.trim()?this.factures=this.factureService.searchFacture(this.searchTerm.toLowerCase()):this.getAllFactures()}selectFacture(i){this.idf=i.id,this.router.navigate(["/ajout-service/",this.idp,this.idf,this.idd])}getPayeLabel(i){return i?"Oui":"Non"}getSeverity(i){switch(i){case!0:return"success";case!1:return"danger"}}getFilter(i){return"oui"===i.toLowerCase()?"true":"non"===i.toLowerCase()?"false":i}refrech(){this.resetForm(),this.getAllFactures(),this.totalFiltre=null}resetForm(){this.typeA=!1,this.typeV=!1,this.clientRechercher=!1,this.fournisseurrechercher=!1,this.transporteurrechercher=!1,this.valuefirstname="",this.valuelastname="",this.valuetelephone="",this.valueemail="",this.valuepaye=null}deleteFacture(i){this.factureDeleted=i,this.confirmationService.confirm({message:"\xcates-vous s\xfbr de vouloir supprimer cette facture?",header:"Confirmation de suppression",icon:"pi pi-exclamation-triangle",accept:()=>{i.typeFacture==De.ENTREE?this.openDialogueChangedPrix=!0:this.factureService.deleteFacture(i.id).subscribe(r=>{this.getAllFactures()})},reject:()=>{this.messageService.add({severity:"error",summary:"Annuler!",detail:"La suppression de la facture est annul\xe9e!"}),this.getAllFactures()}})}confirmDeleteFacture(i){this.factureService.removeFactureWithUpdateProduct(i).subscribe(r=>{console.log("Facture supprim\xe9e avec succ\xe8s:",r),this.messageService.add({severity:"success",summary:"Supprim\xe9e",detail:"Votre facture a \xe9t\xe9 supprim\xe9e avec succ\xe8s!"}),this.getAllFactures()},r=>{console.error("Erreur lors de la suppression de la facture:",r),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la suppression de la facture."})}),this.openDialogueChangedPrix=!1,console.log(this.factureDeleted)}updateFacturePrix(i,r){i.produit.prixUnitaire=r.prixHistoriqueAchat,console.info(this.factureDeleted)}CalculeMontantFiltrer(){return this.totalMontantFiltre=(this.table.filteredValue||this.Facturefilred).reduce((r,o)=>r+o.montant,0),this.montantFiltreCalcule=!0,this.totalMontantFiltre}showDialogTranches(i){this.newFacture=i,this.visibleTranche=!0,this.calculateMontants()}calculateMontants(){this.totalMontantTranches=0,this.montantTranchesPayees=0,this.montantTranchesNonPayees=0,this.newFacture?.tranches&&this.newFacture.tranches.forEach(i=>{this.totalMontantTranches+=i.montantTranche,i.statutPayement?this.montantTranchesPayees+=i.montantTranche:this.montantTranchesNonPayees+=i.montantTranche})}getFiltered(i){return"oui"===i.toLowerCase()?"true":"non"===i.toLowerCase()?"false":i}rechecheAvancee(){this.Facturefilred=this.FacturefilredSuplim.filter(i=>{let r=!0,o=!1,a="FACTURE_ACHAT"!=this.typeA&&"FACTURE_VENTE"!=this.typeV;if((a||"FACTURE_ACHAT"==this.typeA)&&(o=o||"FACTURE_ACHAT"===i.typeFacture),(a||"FACTURE_VENTE"==this.typeV)&&(o=o||"FACTURE_VENTE"===i.typeFacture),r=r&&o,r&&(this.valuefirstname||this.valuelastname||this.valueemail||this.valuetelephone)){let l=!1,p=!this.clientRechercher&&!this.fournisseurrechercher&&!this.transporteurrechercher;(p||this.clientRechercher)&&(l=l||this.matchFacture(i.client)),(p||this.fournisseurrechercher)&&(l=l||this.matchFacture(i.provider)),(p||this.transporteurrechercher)&&(l=l||this.matchFacture(i.transporteur)),r=r&&l}return r&&null!=this.valuepaye&&(r=r&&i.paye===this.valuepaye),r}),this.visible=!1,this.totalFiltre=this.CalculeMontantFiltrer(),this.nbreTranche=this.calculeTrancheFiltre().totalTranches,this.totalTranchepaye=this.calculeTrancheFiltre().totalPaid,this.totalTrancheNonpaye=this.calculeTrancheFiltre().totalUnpaid}matchFacture(i){if(!i)return!1;let r=!this.valuefirstname||i.firstname.toLowerCase().includes(this.valuefirstname.toLowerCase()),o=!this.valuelastname||i.lastname.toLowerCase().includes(this.valuelastname.toLowerCase()),a=!this.valueemail||i.email.toLowerCase().includes(this.valueemail.toLowerCase()),l=!this.valuetelephone||i.telephone.includes(this.valuetelephone);return r&&o&&a&&l}calculeTrancheFiltre(){let i=0,r=0,o=0;return this.Facturefilred.forEach(a=>{this.balance="FACTURE_ACHAT"==a.typeFacture?this.balance-a.montant:this.balance+a.montant,a.tranches&&Array.isArray(a.tranches)&&a.tranches.forEach(l=>{i++,l.statutPayement?r+=l.montantTranche:o+=l.montantTranche})}),{totalTranches:i,totalPaid:r,totalUnpaid:o}}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(ni),t.rXU(Ke.D),t.rXU(c.Ix),t.rXU(L.bg),t.rXU(L.td),t.rXU(c.nX),t.rXU(Ve.D))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-facture"]],viewQuery:function(r,o){if(1&r&&t.GBs(I0,5),2&r){let a;t.mGM(a=t.lsd())&&(o.table=a.first)}},standalone:!0,features:[t.aNF],decls:79,vars:39,consts:[["dt2",""],["op",""],["montantTemplate",""],["dt4",""],[1,"col-lg","ms-2"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"card"],["dataKey","id",3,"value","rows","rowsPerPageOptions","loading","paginator","globalFilterFields","tableStyle"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"card","flex","justify-content-center"],[1,"text-bluegray-600","font-bold"],[1,"flex","flex-column","gap-3","mb-4"],[1,"flex","gap-2","mb-3"],[1,"flex","align-items-center"],["name","ACHAT","value","FACTURE_ACHAT","inputId","achat",3,"ngModelChange","ngModel"],[1,"ml-2"],["name","VENTE","value","FACTURE_VENTE","inputId","vente",3,"ngModelChange","ngModel"],[1,"flex","gap-2","mb-4"],["name","client","value","client","inputId","clientrechercher",3,"ngModelChange","ngModel"],["name","fournisseur","value","fournisseur","inputId","fournisseurrechercher",3,"ngModelChange","ngModel"],["name","transporteur","value","transporteur","inputId","transporteurrechercher",3,"ngModelChange","ngModel"],[1,"flex","flex-column","gap-4"],[1,"flex","align-items-center","gap-3","mb-3"],["for","firstname",1,"font-semibold","w-6rem"],["pInputText","","id","firstname","autocomplete","off",1,"flex-auto",3,"ngModelChange","ngModel"],["for","lastname",1,"font-semibold","w-6rem"],["pInputText","","id","lastname","autocomplete","off",1,"flex-auto",3,"ngModelChange","ngModel"],["for","telephone",1,"font-semibold","w-6rem"],["pInputText","","id","telephone","autocomplete","off",1,"flex-auto",3,"ngModelChange","ngModel"],["for","email",1,"font-semibold","w-6rem"],["pInputText","","id","email","autocomplete","off",1,"flex-auto",3,"ngModelChange","ngModel"],["for","paye",1,"font-semibold","w-6rem"],["id","paye","inputId","tricheckbox",3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"flex","justify-content-between"],[1,"flex","justify-content-end"],["label","Reset",3,"onClick"],["label","Recherche",3,"onClick"],["header","Listes des tranches","maximizable","","modal","true",3,"visibleChange","visible","contentStyle"],["pTemplate","content"],["pTemplate","footer"],["header","Listes des produits \xe0 v\xe9rifier","modal","true",3,"visibleChange","onHide","visible","maximizable","contentStyle","breakpoints"],[1,"flex","flex-wrap","gap-2","md:gap-4","align-items-center","w-full"],[1,"my-2"],["pButton","","pRipple","","label","Ajouter","icon","pi pi-file-plus",1,"p-button-success","p-button-outlined","mr-2",3,"click"],[1,"flex-auto","md:w-auto"],["pButton","","pRipple","","label","Actualiser","icon","pi pi-refresh",1,"p-button-primary","p-button-outlined",3,"click"],[1,"col-2","float-end","d-flex","d-inline"],["icon","pi pi-file","pBadge","","size","large",3,"value"],["class","flex justify-content-end",4,"ngIf"],[1,"flex","align-items-center","mb-2",2,"width","225px","height","10px"],["legend","Nombre Tranche ",1,"w-full"],[1,"m-0",2,"font-size","20px","color","#5833ff"],["icon","pi pi-tags","pBadge","","styleClass","mr-5","size","large",1,"float-end",2,"color","slateblue",3,"value"],["icon","pi pi-eye",3,"onClick"],["legend","Nombre Factures",1,"w-full"],[1,"flex","align-items-center","mb-2",2,"width","200px","height","10px"],["legend","Montant Total Filtr\xe9",1,"w-full"],[1,"flex","flex-wrap","justify-content-center"],[1,"flex","gap-6"],[1,"float-end"],["pButton","","label","Effacer filter Recherche","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],["iconPosition","left",1,"ml-auto"],[1,"flex","flex-wrap","gap-2"],["pInputText","","type","text","placeholder","Search keyword",3,"ngModelChange","input","ngModel"],["icon","pi pi-spin pi-cog","label","",3,"onClick"],["type","text","field","reference","placeholder","by reference","ariaLabel","Filter Reference"],["type","text","field","client.lastname","placeholder","by client","ariaLabel","Filter client"],["type","text","field","provider.firstname","placeholder","by provider","ariaLabel","Filter provider"],["type","text","field","transporteur.firstname","placeholder","by transporteur","ariaLabel","Filter transporteur"],["type","text","field","montant","placeholder","montant","ariaLabel","Filter montant"],["type","text","field","date","placeholder","by date","ariaLabel","Filter date"],["type","text","field","typeFacture","placeholder","by Facture","ariaLabel","Filter type"],["type","boolean","field","paye"],[1,"p-toolbar-group-end"],[4,"ngIf","ngIfElse"],["label","Calcule Montant Total","icon","pi pi-check","styleClass","p-button-raised p-button-text p-button-success",3,"click"],[2,"color","red","font-weight","bold"],[3,"ngClass"],[1,"pi",3,"ngClass"],["pButton","","pRipple","","icon","pi pi-eye",1,"p-button-rounded","p-button-primary","p-button-outlined",3,"click"],[1,"flex","justify-content-center"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-print",1,"p-button-rounded","p-button-primary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],["header","Tranches facture",3,"visibleChange","visible"],[1,"p-card","mt-3",2,"width","45%","float","right"],[3,"value",4,"ngIf"],["scrollHeight","40rem",3,"value"],[1,"text-red-600"],[3,"value"],[1,"text-secondary","font-bold"],[1,"text-red-700","font-bold"],["colspan","5"],[3,"ngClass",4,"ngIf"],["colspan","4"],["colspan","1",1,"font-bold"],["colspan","1"],["colspan","2"],["label","Cancel","icon","pi pi-check",3,"onClick"],["dataKey","id","styleClass","p-datatable-striped","columnResizeMode","expand",3,"onRowExpand","onRowCollapse","value","tableStyle","resizableColumns","expandedRowKeys"],["pTemplate","rowexpansion"],[1,"flex","flex-wrap","justify-content-end","gap-2"],["label","Expand All","icon","pi pi-plus","text","",3,"onClick"],["label","Collapse All","icon","pi pi-minus","text","",3,"onClick"],[2,"width","5rem"],["pSortableColumn","nom"],["field","nom"],["pSortableColumn","prixUnitaire"],["field","prixUnitaire"],["pSortableColumn","typeCalcule"],["field","typeCalcule"],["pSortableColumn","qantite"],["field","qantite"],["pSortableColumn","levelstock"],["field","levelstock"],["type","button","pRipple","",3,"pRowToggler","text","rounded","plain","icon"],[1,"p-3"],["dataKey","id",3,"value"],["pSortableColumn","prixHistoriqueAchat",2,"color","yellowgreen","font-weight","bold"],["field","prixHistoriqueAchat"],["pSortableColumn","quantiteHistoriqueAchat",2,"color","yellowgreen","font-weight","bold"],["field","quantiteHistoriqueAchat"],["pSortableColumn","dateMisAjoure",2,"color","yellowgreen","font-weight","bold"],["field","dateMisAjoure"],["pSortableColumn","id",2,"color","yellowgreen","font-weight","bold"],["field","prixChoisie"],["type","radio",3,"change","name","value","id"],["label","Supprimer","styleClass","p-button-danger",3,"onClick"],["label","Annuler","icon","pi pi-times",3,"onClick"]],template:function(r,o){if(1&r){const a=t.RV6();t.j41(0,"div",4),t.nrm(1,"p-toast")(2,"p-confirmDialog"),t.j41(3,"p-toolbar",5),t.DNE(4,j0,5,0,"ng-template",6)(5,P0,2,4,"ng-template",7),t.k0s(),t.DNE(6,L0,1,1,"ng-template",7),t.j41(7,"div",8)(8,"p-table",9,0),t.DNE(10,B0,10,1,"ng-template",10)(11,N0,44,2,"ng-template",11)(12,Y0,28,22,"ng-template",12)(13,W0,3,0,"ng-template",13),t.k0s(),t.j41(14,"p"),t.EFF(15),t.k0s()()(),t.j41(16,"div",14)(17,"p-overlayPanel",null,1)(19,"h5",15),t.EFF(20,"Information Suppl\xe9mentaire"),t.k0s(),t.j41(21,"div",16)(22,"div",17)(23,"div",18)(24,"p-checkbox",19),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.typeA,p)||(o.typeA=p),t.Njj(p)}),t.k0s(),t.j41(25,"label",20),t.EFF(26,"FACTURE ACHAT"),t.k0s()(),t.j41(27,"div",18)(28,"p-checkbox",21),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.typeV,p)||(o.typeV=p),t.Njj(p)}),t.k0s(),t.j41(29,"label",20),t.EFF(30,"FACTURE VENTE"),t.k0s()()(),t.j41(31,"div",22)(32,"div",18)(33,"p-checkbox",23),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.clientRechercher,p)||(o.clientRechercher=p),t.Njj(p)}),t.k0s(),t.j41(34,"label",20),t.EFF(35,"Client"),t.k0s()(),t.j41(36,"div",18)(37,"p-checkbox",24),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.fournisseurrechercher,p)||(o.fournisseurrechercher=p),t.Njj(p)}),t.k0s(),t.j41(38,"label",20),t.EFF(39,"Fournisseur"),t.k0s()(),t.j41(40,"div",18)(41,"p-checkbox",25),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.transporteurrechercher,p)||(o.transporteurrechercher=p),t.Njj(p)}),t.k0s(),t.j41(42,"label",20),t.EFF(43,"Transporteur"),t.k0s()()(),t.j41(44,"div",26)(45,"div",27)(46,"label",28),t.EFF(47,"First Name"),t.k0s(),t.j41(48,"input",29),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.valuefirstname,p)||(o.valuefirstname=p),t.Njj(p)}),t.k0s()(),t.j41(49,"div",27)(50,"label",30),t.EFF(51,"Last Name"),t.k0s(),t.j41(52,"input",31),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.valuelastname,p)||(o.valuelastname=p),t.Njj(p)}),t.k0s()(),t.j41(53,"div",27)(54,"label",32),t.EFF(55,"Telephone"),t.k0s(),t.j41(56,"input",33),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.valuetelephone,p)||(o.valuetelephone=p),t.Njj(p)}),t.k0s()(),t.j41(57,"div",27)(58,"label",34),t.EFF(59,"Email"),t.k0s(),t.j41(60,"input",35),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.valueemail,p)||(o.valueemail=p),t.Njj(p)}),t.k0s()(),t.j41(61,"div",27)(62,"label",36),t.EFF(63,"Pay\xe9"),t.k0s(),t.j41(64,"p-triStateCheckbox",37),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.valuepaye,p)||(o.valuepaye=p),t.Njj(p)}),t.k0s(),t.DNE(65,Q0,2,0,"span",38)(66,q0,2,0,"span",38)(67,J0,2,0,"span",38),t.k0s()()(),t.j41(68,"div",39)(69,"div",40)(70,"p-button",41),t.bIt("onClick",function(){return t.eBV(a),t.Njj(o.resetForm())}),t.k0s()(),t.j41(71,"div",40)(72,"p-button",42),t.bIt("onClick",function(){return t.eBV(a),t.Njj(o.rechecheAvancee())}),t.k0s()()()()(),t.j41(73,"p-dialog",43),t.mxI("visibleChange",function(p){return t.eBV(a),t.DH7(o.dialogTrancheDVisible,p)||(o.dialogTrancheDVisible=p),t.Njj(p)}),t.DNE(74,sb,6,10,"ng-template",44)(75,ab,1,0,"ng-template",45),t.k0s(),t.j41(76,"p-dialog",46),t.mxI("visibleChange",function(p){return t.eBV(a),t.DH7(o.openDialogueChangedPrix,p)||(o.openDialogueChangedPrix=p),t.Njj(p)}),t.bIt("onHide",function(){return t.eBV(a),t.Njj(o.onDialogClose())}),t.DNE(77,hb,7,6,"ng-template",44)(78,fb,3,0,"ng-template",45),t.k0s()}2&r&&(t.R7$(8),t.Y8G("value",o.Facturefilred)("rows",10)("rowsPerPageOptions",t.lJ4(31,no))("loading",o.loading)("paginator",!0)("globalFilterFields",t.lJ4(32,y0))("tableStyle",t.lJ4(33,oo)),t.R7$(7),t.SpI("Total Montant Filtr\xe9: ",o.totalMontantFiltre,""),t.R7$(9),t.R50("ngModel",o.typeA),t.R7$(4),t.R50("ngModel",o.typeV),t.R7$(5),t.R50("ngModel",o.clientRechercher),t.R7$(4),t.R50("ngModel",o.fournisseurrechercher),t.R7$(4),t.R50("ngModel",o.transporteurrechercher),t.R7$(7),t.R50("ngModel",o.valuefirstname),t.R7$(4),t.R50("ngModel",o.valuelastname),t.R7$(4),t.R50("ngModel",o.valuetelephone),t.R7$(4),t.R50("ngModel",o.valueemail),t.R7$(4),t.R50("ngModel",o.valuepaye),t.R7$(),t.Y8G("ngIf",!0===o.valuepaye),t.R7$(),t.Y8G("ngIf",!1===o.valuepaye),t.R7$(),t.Y8G("ngIf",null===o.valuepaye),t.R7$(6),t.Aen(t.lJ4(34,ro)),t.R50("visible",o.dialogTrancheDVisible),t.Y8G("contentStyle",t.lJ4(35,so)),t.R7$(3),t.Aen(t.lJ4(36,ro)),t.R50("visible",o.openDialogueChangedPrix),t.Y8G("maximizable",!0)("contentStyle",t.lJ4(37,so))("breakpoints",t.lJ4(38,x0)))},dependencies:[Ce.m,Ce.e,Te.EJ,Te.FO,L.wi,L.Ei,be.P,be.l,w.kr,V.YN,V.me,V.BC,V.vS,E.u,E.S,Ge,h.bT,H.bG,H.XI,H.Tg,H.FP,H.yc,H.rl,xe.m,xe.M,vt,qn.$,qn.v,Ze,Vh,d._f,d.$n,h.YU,J.Z,J.n,de.MB,de.y8,ve.F,ve.T,h.vh,h.oe,Zn.AG,Zn.kk,$e.Ko,Zt.d,Zt.j,He.q4,He.Sc,Wf,wt,Et,W1,io,h.QX,Rn.wZ],styles:['@charset "UTF-8";.odd-row[_ngcontent-%COMP%]{background-color:#f9f9f9}.even-row[_ngcontent-%COMP%]{background-color:#d9d7ceba}.ui-widget-overlay[_ngcontent-%COMP%]{background-color:#171616!important}']})}return n})();class co{constructor(s,i,r,o,a,l,p,S){this.id=s||0,this.produit=o||new Ne.I,this.quantite=i||0,this.montantTotal=r||0,this.prixAchat=a||null!=o?o.prixUnitaire:0,this.prixVente=l||null!=o?o.prixUnitaire+o.gainUnitaire:0,this.typeCalcule=p||"NoAction",this.idHistorique=S||0}get _id(){return this.id}set _id(s){this.id=s}get _produit(){return this.produit}set _produit(s){this.produit=s}get _quantite(){return this.quantite}set _quantite(s){this.quantite=s}get _montantTotal(){return this.montantTotal}set _montantTotal(s){this.montantTotal=s}get _prixAchat(){return this.prixAchat}set _prixAchat(s){this.prixAchat=s}get _prixVente(){return this.prixVente}set _prixVente(s){this.prixVente=s}get _typeCalcule(){return this.typeCalcule}set _typeCalcule(s){this.typeCalcule=s}}var po=_(1631);const bb=(n,s,i)=>({"p-button p-togglebutton p-component":!0,"p-button-icon-only":n,"p-highlight":s,"p-disabled":i}),vb=(n,s)=>({"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":s}),Cb=n=>({$implicit:n});function Tb(n,s){if(1&n&&t.nrm(0,"span",4),2&n){const i=t.XpG(2);t.HbH(i.checked?i.onIcon:i.offIcon),t.Y8G("ngClass",t.l_i(4,vb,"left"===i.iconPos,"right"===i.iconPos)),t.BMQ("data-pc-section","icon")}}function Ib(n,s){if(1&n&&t.DNE(0,Tb,1,7,"span",3),2&n){const i=t.XpG();t.Y8G("ngIf",i.onIcon||i.offIcon)}}function yb(n,s){1&n&&t.eu8(0)}function xb(n,s){if(1&n&&t.DNE(0,yb,1,0,"ng-container",5),2&n){const i=t.XpG();t.Y8G("ngTemplateOutlet",i.iconTemplate)("ngTemplateOutletContext",t.eq3(2,Cb,i.checked))}}function Eb(n,s){if(1&n&&(t.j41(0,"span",6),t.EFF(1),t.k0s()),2&n){const i=t.XpG();t.BMQ("data-pc-section","label"),t.R7$(),t.JRh(i.checked?i.hasOnLabel?i.onLabel:"":i.hasOffLabel?i.offLabel:"")}}const wb={provide:V.kq,useExisting:(0,t.Rfq)(()=>$i),multi:!0};let $i=(()=>{class n{cd;onLabel;offLabel;onIcon;offIcon;ariaLabel;ariaLabelledBy;disabled;style;styleClass;inputId;tabindex;iconPos="left";onChange=new t.bkB;templates;iconTemplate;checked=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(i){this.cd=i}ngAfterContentInit(){this.templates.forEach(i=>{i.getType(),this.iconTemplate=i.template})}toggle(i){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:i,checked:this.checked}),this.cd.markForCheck())}onKeyDown(i){switch(i.code){case"Enter":case"Space":this.toggle(i),i.preventDefault()}}onBlur(){this.onModelTouched()}writeValue(i){this.checked=i,this.cd.markForCheck()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}static \u0275fac=function(r){return new(r||n)(t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:n,selectors:[["p-toggleButton"]],contentQueries:function(r,o,a){if(1&r&&t.wni(a,L.Ei,4),2&r){let l;t.mGM(l=t.lsd())&&(o.templates=l)}},hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[t.Jv_([wb])],decls:4,vars:16,consts:[["role","switch","pRipple","",3,"click","keydown","ngClass","ngStyle"],[3,"class","ngClass"],["class","p-button-label",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-button-label"]],template:function(r,o){1&r&&(t.j41(0,"div",0),t.bIt("click",function(l){return o.toggle(l)})("keydown",function(l){return o.onKeyDown(l)}),t.DNE(1,Ib,1,1,"span",1)(2,xb,1,4)(3,Eb,2,2,"span",2),t.k0s()),2&r&&(t.HbH(o.styleClass),t.Y8G("ngClass",t.sMw(12,bb,o.onIcon&&o.offIcon&&!o.hasOnLabel&&!o.hasOffLabel,o.checked,o.disabled))("ngStyle",o.style),t.BMQ("tabindex",o.disabled?null:"0")("aria-checked",o.checked)("aria-labelledby",o.ariaLabelledBy)("aria-label",o.ariaLabel)("data-pc-name","togglebutton")("data-pc-section","root"),t.R7$(),t.vxM(1,o.iconTemplate?2:1),t.R7$(2),t.Y8G("ngIf",o.onLabel||o.offLabel))},dependencies:[h.YU,h.bT,h.T3,h.B3,J.n],styles:['@layer primeng{.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default;pointer-events:none}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0 none}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}p-button[iconpos=right][_ngcontent-%COMP%]   spinnericon[_ngcontent-%COMP%]{order:1}}'],changeDetection:0})}return n})(),Hi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD,J.Z,L.Gg,L.Gg]})}return n})();var St=_(2524);class Sb{constructor(s,i,r,o,a,l,p,S,O){this._users=[],this._visible=!1,this._id=s||0,this._nomServiceComp=i||"",this._descriptionServiceComp=r||"",this._users=o||[],this._coutService=a||0,this._etatService=l||!1,this._outService=p||!1,this._dateDebutService=S||new Date,this._dateFinService=O||new Date}get id(){return this._id}set id(s){this._id=s}get nomServiceComp(){return this._nomServiceComp}set nomServiceComp(s){this._nomServiceComp=s}get descriptionServiceComp(){return this._descriptionServiceComp}set descriptionServiceComp(s){this._descriptionServiceComp=s}get users(){return this._users}set users(s){this._users=s}get coutService(){return this._coutService}set coutService(s){this._coutService=s}get etatService(){return this._etatService}set etatService(s){this._etatService=s}get outService(){return this._outService}set outService(s){this._outService=s}get dateDebutService(){return this._dateDebutService}set dateDebutService(s){this._dateDebutService=s}get dateFinService(){return this._dateFinService}set dateFinService(s){this._dateFinService=s}get visible(){return this._visible}set visible(s){this._visible=s}}var oi=_(3057);let kb=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Fb=()=>({"min-width":"50rem"});function Db(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",33)(1,"label",34),t.EFF(2,"Cl\xe9 : "),t.j41(3,"label",35),t.EFF(4),t.k0s()(),t.j41(5,"p",36)(6,"label",37),t.EFF(7,"NB:"),t.k0s(),t.EFF(8," Ne partager jamais votre cl\xe9 de s\xe9curit\xe9 "),t.k0s(),t.j41(9,"p-button",38),t.bIt("onClick",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.load())}),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(4),t.JRh(""==i.secretKey?"Pas de cl\xe9 s\xe9curit\xe9":i.secretKey)}}function Ob(n,s){1&n&&(t.j41(0,"div",7)(1,"div",8)(2,"label",39),t.EFF(3,"Mot de passe"),t.k0s(),t.nrm(4,"p-password",40),t.k0s(),t.j41(5,"div",8)(6,"label",41),t.EFF(7,"Confirmer Mot de passe:"),t.k0s(),t.nrm(8,"p-password",42),t.k0s()()),2&n&&(t.R7$(4),t.Y8G("toggleMask",!0),t.R7$(4),t.Y8G("toggleMask",!0))}function Mb(n,s){1&n&&(t.j41(0,"div",7)(1,"div",43)(2,"label",44),t.EFF(3,"Solde Client"),t.k0s(),t.nrm(4,"p-inputNumber",45),t.k0s(),t.j41(5,"div",43)(6,"label",46),t.EFF(7,"Type Client"),t.k0s(),t.nrm(8,"input",47),t.k0s()())}function Rb(n,s){1&n&&(t.j41(0,"div",7)(1,"div",43)(2,"label",48),t.EFF(3,"Type Employer"),t.k0s(),t.nrm(4,"input",49),t.k0s(),t.j41(5,"div",43)(6,"label",50),t.EFF(7,"T\xe2che Employer"),t.k0s(),t.nrm(8,"input",51),t.k0s()())}function jb(n,s){1&n&&(t.j41(0,"div",7)(1,"div",43)(2,"label",52),t.EFF(3,"Nom Soci\xe9t\xe9"),t.k0s(),t.nrm(4,"input",53),t.k0s(),t.j41(5,"div",43)(6,"label",54),t.EFF(7,"T\xe9l Soci\xe9t\xe9"),t.k0s(),t.nrm(8,"p-inputNumber",55),t.k0s()())}function Pb(n,s){1&n&&(t.j41(0,"div",7)(1,"div",43)(2,"label",56),t.EFF(3,"Adresse Soci\xe9t\xe9"),t.k0s(),t.nrm(4,"input",57),t.k0s(),t.j41(5,"div",43)(6,"label",58),t.EFF(7,"Mail Soci\xe9t\xe9"),t.k0s(),t.nrm(8,"input",59),t.k0s()())}function Ab(n,s){1&n&&(t.j41(0,"div",7)(1,"div",43)(2,"label",60),t.EFF(3,"Pseudo Admin"),t.k0s(),t.nrm(4,"input",61),t.k0s()())}function Lb(n,s){1&n&&(t.j41(0,"div",7)(1,"div",43)(2,"label",62),t.EFF(3,"Manager"),t.k0s(),t.nrm(4,"input",63),t.k0s()())}function Bb(n,s){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Table"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Afficher"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Ajouter"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Modifier"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Supprimer"),t.k0s(),t.j41(11,"th"),t.EFF(12,"Multi-S\xe9lection"),t.k0s()())}function Vb(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"p-checkbox",64),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.getPermission(o.tableName,1==o.afficher?"read":"readn"))}),t.mxI("ngModelChange",function(o){const a=t.eBV(i).$implicit;return t.DH7(a.afficher,o)||(a.afficher=o),t.Njj(o)}),t.bIt("ngModelChange",function(){const o=t.eBV(i).$implicit;return t.Njj(o.ajouter=0==o.afficher&&(o.modifier=o.supprimer=!1))}),t.k0s()(),t.j41(5,"td")(6,"p-checkbox",65),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.getPermission(o.tableName,1==o.ajouter?"create":"createn"))}),t.mxI("ngModelChange",function(o){const a=t.eBV(i).$implicit;return t.DH7(a.ajouter,o)||(a.ajouter=o),t.Njj(o)}),t.k0s()(),t.j41(7,"td")(8,"p-checkbox",65),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.getPermission(o.tableName,1==o.modifier?"update":"updaten"))}),t.mxI("ngModelChange",function(o){const a=t.eBV(i).$implicit;return t.DH7(a.modifier,o)||(a.modifier=o),t.Njj(o)}),t.k0s()(),t.j41(9,"td")(10,"p-checkbox",65),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.getPermission(o.tableName,1==o.supprimer?"delete":"deleten"))}),t.mxI("ngModelChange",function(o){const a=t.eBV(i).$implicit;return t.DH7(a.supprimer,o)||(a.supprimer=o),t.Njj(o)}),t.k0s()(),t.j41(11,"td")(12,"p-checkbox",66),t.bIt("ngModelChange",function(o){const a=t.eBV(i).$implicit,l=t.XpG();return t.Njj(l.toggleAll(o,a))}),t.k0s()()()}if(2&n){const i=s.$implicit,r=t.XpG();t.R7$(),t.HbH(i.icon),t.R7$(),t.JRh(i.name),t.R7$(2),t.R50("ngModel",i.afficher),t.Y8G("binary",!0),t.R7$(2),t.Y8G("disabled",!i.afficher),t.R50("ngModel",i.ajouter),t.Y8G("binary",!0),t.R7$(2),t.Y8G("disabled",!i.afficher),t.R50("ngModel",i.modifier),t.Y8G("binary",!0),t.R7$(2),t.Y8G("disabled",!i.afficher),t.R50("ngModel",i.supprimer),t.Y8G("binary",!0),t.R7$(2),t.Y8G("ngModel",r.allSelected(i))("binary",!0)}}function Gb(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",67)(1,"div",68),t.nrm(2,"i",69),t.k0s(),t.j41(3,"span",70),t.EFF(4),t.k0s(),t.j41(5,"p",71),t.EFF(6),t.j41(7,"button",72),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.copyToClipboard(o.message))}),t.k0s()(),t.j41(8,"div",73)(9,"button",74),t.bIt("click",function(){t.eBV(i),t.XpG();const o=t.sdS(56);return t.Njj(o.accept())}),t.k0s(),t.j41(10,"button",75),t.bIt("click",function(){t.eBV(i),t.XpG();const o=t.sdS(56);return t.Njj(o.reject())}),t.k0s()()()}if(2&n){const i=s.$implicit;t.R7$(4),t.SpI(" ",i.header," "),t.R7$(2),t.SpI(" ",i.message," ")}}let Ki=(()=>{class n{constructor(i,r,o,a,l,p,S,O){this.formBuilder=i,this.userService=r,this.dialogueUser=o,this.router=a,this.depotService=l,this.serviceSERVICE=p,this.confirmationService=S,this.messageService=O,this.roles=Object.values(Se.U).filter(N=>"Tous les r\xf4les"!==N),this.SelectedDepotId=0,this.ListDepot=[],this.SelectedServiceId=0,this.ListService=[],this.secretKey="",this.permissions=[{name:"Utilisateurs",tableName:"user",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-person"},{name:"Depots",tableName:"depot",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-dropbox"},{name:"Produits",tableName:"produit",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-boxes"},{name:"Articles",tableName:"article",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-book"},{name:"Factures",tableName:"facture",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-journals"},{name:"Ventes",tableName:"vente",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-cart4"},{name:"Services",tableName:"service",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-tools"},{name:"Statistiques",tableName:"statistique",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-tools"},{name:"Payement",tableName:"tranche",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-currency-exchange"}],this.userPermission=[],this.loading=!1,this.SelectedDepot=new Qt,this.SelectedServcie=new Sb,this.userForm=this.formBuilder.group({nom:["",V.k0.required],prenom:["",V.k0.required],email:["",[V.k0.required,V.k0.email]],tel:[],adresse:["",V.k0.required],role:["",V.k0.required],motdepasse:[""],secretKey:[""],motdepasseconfirm:[""],typeClient:[""],solde:[],typeEmployer:[""],tacheEmployer:[""],pseudo:[""],attributManager:[""],nomSociete:[""],telephoneSociete:[],adresseSociete:[""],emailSociete:[""]})}ngOnInit(){this.userService.getUsers()}load(){return this.secretKey=this.userService.generateUUID(),this.confirmationService.confirm({header:"Remember your Secret key?",message:`${this.secretKey}`,accept:()=>{console.log("accept"+this.secretKey),this.messageService.add({severity:"info",summary:"Confirmed",detail:"You have accepted your secret Key",life:3e3})},reject:()=>{this.secretKey="",this.messageService.add({severity:"error",summary:"Rejected",detail:"Secret Key rejected",life:3e3}),console.log("reject"+this.secretKey)}}),this.secretKey}copyToClipboard(i){navigator.clipboard.writeText(i).then(()=>{this.messageService.add({severity:"success",summary:"Copied",detail:"Secret Key copied to clipboard",life:3e3})}).catch(r=>{console.error("Could not copy text: ",r)})}onSubmit(){if(this.userForm.valid){const i=this.userForm.value;let r={username:"",firstname:i.nom,lastname:i.prenom,email:i.email,telephone:i.tel,adresse:i.adresse,role:i.role,permission:this.userPermission};switch(r.role.toLowerCase()){case"admin":r.pseudo="admin",r.responsableDepotNo="",r.password=i.motdepasseconfirm,r.secretKey=this.secretKey,r.pseudo=i.pseudo,console.log("error data"+r);break;case"manager":r.pseudo="manager",r.responsableDepotNo="",r.password=i.motdepasseconfirm,r.secretKey=this.secretKey,r.attributManager=i.attributManager,console.log("error data"+r);break;case"responsable":r.pseudo="responsable",r.responsableDepotNo="",r.password=i.motdepasseconfirm,r.secretKey=this.secretKey,console.log("error data"+r);break;case"client":r.pseudo="client",r.responsableDepotNo="",r.password="client",r.soldeClient=i.solde,r.typeClient=i.typeClient,console.log("error data"+r);break;case"employer":r.pseudo="employer",r.responsableDepotNo="",r.password=i.motdepasseconfirm,r.secretKey=this.secretKey,r.typeEmployer=i.typeEmployer,r.tacheEmployer=i.tacheEmployer,console.log("error data"+r);break;case"transporteur":r.pseudo="transporteur",r.responsableDepotNo="",r.password="trasporteur",console.log("error data"+r);break;case"fournisseur":r.pseudo="fournisseur",r.responsableDepotNo="",r.password="fournisseur",r.nomSociete=i.nomSociete,r.emailSociete=i.emailSociete,r.adresseSociete=i.adresseSociete,r.telephoneSociete=i.telephoneSociete,r.role="PROVIDER",console.log("error data"+r)}this.userService.addUser(r).subscribe(o=>{console.log("===========>>>>>>>>>>>"+o),o&&(this.userForm.reset(),this.shouldStayOnSamePage()?(console.log(this.shouldStayOnSamePage()),this.dialogueUser.closeDialog(),this.userService.getUsers()):this.router.navigate(["/uikit/Users"]))},o=>{console.error((new h.TG).transform(o))})}else $().fire({title:"Erreur de remplissage",icon:"error",text:"V\xe9rifiez bien les champs!"});this.userForm.reset()}dispalyDepot(){const i=this.ListDepot.find(r=>r.id==this.SelectedDepotId);void 0!==i&&(this.SelectedDepot=i)}dispalyService(){const i=this.ListService.find(r=>r.id==this.SelectedServiceId);void 0!==i&&(this.SelectedServcie=i)}ViewDetailResponsable(i){null!=i?$().fire({width:900,html:'<div class="cardResponsable p-1">\n        <button class="mail">\n           \n        </button>\n        <div class="profile-pic shadow-lg">\n            \n<img src="../../assets/no-picture-taking.png">         \n        </div>\n        <div class="bottom">\n            <div class="content">\n                <span class="name text-break">'+i.lastname+"  "+i.firstname+'</span>\n                <span class="about-me">'+i.email+' </span>\n            </div>\n           <div class="bottom-bottom">\n            <div class="social-links-container">\n                <span class="name text-break">'+i.lastname+"  "+i.firstname+'</span>\n                <span class="about-me text-break">'+i.telephone+' </span>\n            </div>\n                      <span class="about-me bi-person text-danger">'+i.role.toLowerCase()+" </span>             </div>\n        </div>\n    </div>",showConfirmButton:!1,showCloseButton:!0}):$().fire({title:"Erreur",icon:"error",text:"aucun responsable pour cette depot"})}deleteService(i){}editService(i){}returnBack(){this.userService.returnBack()}getPermission(i,r){if(void 0!==this.userPermission.find(a=>a.tableName==i&&(a.api==r||r.substring(0,r.length-1)==a.api))){let a=[];this.userPermission.forEach(l=>{l.tableName==i&&r.substring(0,r.length-1)==l.api||a.push(l)}),this.userPermission=a}else this.userPermission.push({api:r,tableName:i});console.log("Table Permisiion :"+(new h.TG).transform(this.userPermission))}getAPI(i){return"read"===i?"afficher":"update"===i?"modifier":"delete"===i?"supprimer":""}onAfficherChange(i){i.afficher||(i.ajouter=!1,i.modifier=!1,i.supprimer=!1)}toggleAllPermissions(i){const r=i.afficher&&i.ajouter&&i.modifier&&i.supprimer;i.afficher=!r,i.ajouter=!r,i.modifier=!r,i.supprimer=!r}shouldStayOnSamePage(){return this.router.url.includes("/uikit/add-facture")}allSelected(i){return i.afficher&&i.ajouter&&i.modifier&&i.supprimer}toggleAll(i,r){r.afficher=i,r.ajouter=i,r.modifier=i,r.supprimer=i,this.getPermission(r.tableName,i?"read":"readn"),this.getPermission(r.tableName,i?"create":"createn"),this.getPermission(r.tableName,i?"update":"updaten"),this.getPermission(r.tableName,i?"delete":"deleten")}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(V.ok),t.rXU(Ke.D),t.rXU(Yt),t.rXU(c.Ix),t.rXU(qt),t.rXU(kb),t.rXU(L.td),t.rXU(L.bg))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-ajout-user"]],standalone:!0,features:[t.aNF],decls:58,vars:14,consts:[["cd",""],[1,"card"],[1,"text-primary-600","font-bold","mt-2"],[1,"flex","flex-row","gap-4"],[1,"card","col-4","gap-3"],[1,"p-grid",3,"ngSubmit","formGroup"],[1,"text-primary-600","font-bold","pi","pi-user"],[1,"p-fluid","p-formgrid","p-grid","mt-4"],[1,"p-field","p-col-12","p-md-6","mt-4"],["for","nom"],["id","nom","pInputText","","formControlName","nom"],["for","prenom",1,"mt-2"],["id","prenom","pInputText","","formControlName","prenom"],["for","email",1,"mt-2"],["type","email","id","email","pInputText","","formControlName","email","placeholder","exemple@domaine"],[1,"p-field","p-col-12","mt-4"],["for","tel",1,"mt-2"],["id","tel","formControlName","tel","placeholder","123456789 ou +123456789"],["for","adresse",1,"mt-2"],["id","adresse","pInputTextarea","","formControlName","adresse","placeholder","Taper adresse utilisateur","rows","5","cols","56",3,"autoResize"],["for","role",1,"mt-2"],["formControlName","role","id","role","placeholder","S\xe9lectionner r\xf4le",3,"options"],["class","card flex flex-column justify-content-center mt-4 ",4,"ngIf"],["class","p-fluid p-formgrid p-grid mt-4",4,"ngIf"],[1,"card","col-8","p-3"],[1,"text-primary-600","font-bold","pi","pi-wrench"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-end","align-items-end","mt-3"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pTemplate","headless"],[1,"card","flex","flex-column","justify-content-center","mt-4"],[1,"bold","text-3xl","mt-3"],[1,"text-2xl"],[1,"text","mt-3","text-color-secondary"],[1,"bold","text-2xl"],["icon","pi pi-check","label","G\xe9n\xe9rer cl\xe9 de s\xe9curit\xe9",3,"onClick"],["for","motdepasse",1,"mt-2"],["id","motdepasse","formControlName","motdepasse","type","password","placeholder","Taper mot de passe",3,"toggleMask"],["for","motdepasseconfirm",1,"mt-2"],["id","motdepasseconfirm","formControlName","motdepasseconfirm","type","password","placeholder","Confirmer mot de passe",3,"toggleMask"],[1,"p-field","p-col-12","p-md-6"],["for","solde",1,"mt-2"],["id","solde","formControlName","solde","placeholder","Taper solde client"],["for","typeClient",1,"mt-2"],["id","typeClient","pInputText","","formControlName","typeClient","type","text","placeholder","Taper type client"],["for","typeEmployer",1,"mt-2"],["id","typeEmployer","pInputText","","formControlName","typeEmployer","placeholder","Taper type employer"],["for","tacheEmployer",1,"mt-2"],["id","tacheEmployer","pInputText","","formControlName","tacheEmployer","placeholder","Taper t\xe2che employer"],["for","nomSociete",1,"mt-2"],["id","nomSociete","pInputText","","formControlName","nomSociete","placeholder","Taper nom soci\xe9t\xe9"],["for","telephoneSociete",1,"mt-2"],["id","telephoneSociete","formControlName","telephoneSociete","placeholder","Taper t\xe9l\xe9phone soci\xe9t\xe9"],["for","adresseSociete",1,"mt-2"],["id","adresseSociete","pInputText","","formControlName","adresseSociete","placeholder","Taper adresse soci\xe9t\xe9"],["for","emailSociete",1,"mt-2"],["id","emailSociete","pInputText","","formControlName","emailSociete","placeholder","Taper email soci\xe9t\xe9"],["for","pseudo",1,"mt-2"],["id","pseudo","pInputText","","formControlName","pseudo","placeholder","Taper pseudo admin"],["for","attributManager",1,"mt-2"],["id","attributManager","pInputText","","formControlName","attributManager","placeholder","Taper attribut manager"],[3,"click","ngModelChange","ngModel","binary"],[3,"click","ngModelChange","disabled","ngModel","binary"],[3,"ngModelChange","ngModel","binary"],[1,"flex","flex-column","align-items-center","p-5","surface-overlay","border-round"],[1,"border-circle","bg-primary","inline-flex","justify-content-center","align-items-center","h-6rem","w-6rem"],[1,"pi","pi-key","text-5xl"],[1,"font-bold","text-2xl","block","mb-2","mt-4"],[1,"mb-0"],["pButton","","icon","pi pi-copy",1,"p-button-rounded","p-button-text",3,"click"],[1,"flex","align-items-center","gap-2","mt-4"],["pButton","","label","Save",1,"w-8rem",3,"click"],["pButton","","label","Cancel",1,"p-button-outlined","w-8rem",3,"click"]],template:function(r,o){if(1&r){const a=t.RV6();t.j41(0,"div",1)(1,"h1",2),t.EFF(2,"Ajouter un nouvel utilisateur"),t.k0s(),t.j41(3,"div",3)(4,"div",4)(5,"form",5),t.bIt("ngSubmit",function(){return t.eBV(a),t.Njj(o.onSubmit())}),t.j41(6,"h4",6),t.EFF(7,"D\xe9tails utilisateur"),t.k0s(),t.j41(8,"div",7)(9,"div",8)(10,"label",9),t.EFF(11,"Nom"),t.k0s(),t.nrm(12,"input",10),t.k0s(),t.j41(13,"div",8)(14,"label",11),t.EFF(15,"Pr\xe9nom"),t.k0s(),t.nrm(16,"input",12),t.k0s()(),t.j41(17,"div",7)(18,"div",8)(19,"label",13),t.EFF(20,"Email"),t.k0s(),t.nrm(21,"input",14),t.k0s(),t.j41(22,"div",15)(23,"label",16),t.EFF(24,"T\xe9l\xe9phone"),t.k0s(),t.nrm(25,"p-inputNumber",17),t.k0s()(),t.j41(26,"div",7)(27,"div",8)(28,"label",18),t.EFF(29,"Adresse"),t.k0s(),t.j41(30,"textarea",19),t.EFF(31,"              "),t.k0s()(),t.j41(32,"div",8)(33,"label",20),t.EFF(34,"R\xf4le:"),t.k0s(),t.nrm(35,"p-dropdown",21),t.k0s(),t.DNE(36,Db,10,1,"div",22),t.k0s(),t.DNE(37,Ob,9,2,"div",23)(38,Mb,9,0,"div",23)(39,Rb,9,0,"div",23)(40,jb,9,0,"div",23)(41,Pb,9,0,"div",23)(42,Ab,5,0,"div",23)(43,Lb,5,0,"div",23),t.k0s()(),t.j41(44,"div",24)(45,"h4",25),t.EFF(46,"Permission"),t.k0s(),t.j41(47,"p-table",26),t.DNE(48,Bb,13,0,"ng-template",27)(49,Vb,13,16,"ng-template",28),t.k0s()()(),t.j41(50,"div",29)(51,"button",30),t.bIt("click",function(){return t.eBV(a),t.Njj(o.returnBack())}),t.k0s(),t.j41(52,"button",31),t.bIt("click",function(){return t.eBV(a),t.Njj(o.onSubmit())}),t.k0s()()(),t.j41(53,"div"),t.nrm(54,"p-toast"),t.j41(55,"p-confirmDialog",null,0),t.DNE(57,Gb,11,2,"ng-template",32),t.k0s()()}2&r&&(t.R7$(5),t.Y8G("formGroup",o.userForm),t.R7$(25),t.Y8G("autoResize",!0),t.R7$(5),t.Y8G("options",o.roles),t.R7$(),t.Y8G("ngIf","employer"==o.userForm.value.role.toLowerCase()||"responsable"==o.userForm.value.role.toLowerCase()||"manager"==o.userForm.value.role.toLowerCase()||"admin"==o.userForm.value.role.toLowerCase()),t.R7$(),t.Y8G("ngIf","employer"==o.userForm.value.role.toLowerCase()||"responsable"==o.userForm.value.role.toLowerCase()||"manager"==o.userForm.value.role.toLowerCase()||"admin"==o.userForm.value.role.toLowerCase()),t.R7$(),t.Y8G("ngIf","CLIENT"===o.userForm.value.role),t.R7$(),t.Y8G("ngIf","EMPLOYER"===o.userForm.value.role),t.R7$(),t.Y8G("ngIf","FOURNISSEUR"===o.userForm.value.role),t.R7$(),t.Y8G("ngIf","FOURNISSEUR"===o.userForm.value.role),t.R7$(),t.Y8G("ngIf","ADMIN"===o.userForm.value.role),t.R7$(),t.Y8G("ngIf","MANAGER"===o.userForm.value.role),t.R7$(4),t.Y8G("value",o.permissions)("tableStyle",t.lJ4(13,Fb)))},dependencies:[He.q4,He.Sc,L.Ei,V.YN,V.qT,V.me,V.BC,V.cb,V.vS,d.tm,d._f,d.$n,V.X1,V.j4,V.JD,H.bG,H.XI,h.MD,h.bT,E.u,E.S,Ie.O3,Ie.YI,Ze,w.kr,w.ms,oi.Ou,oi._2,J.Z,J.n,de.MB,de.y8,ve.F,ve.T,Ge,Ye]});static#i=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ri=_(5114);const Nb=["dt3"],uo=()=>({width:"100rem"}),_o=()=>({"1199px":"75vw","575px":"90vw"}),Ub=()=>["nom","description","dataqr","dateF","dateE"],Xi=n=>[n],$b=()=>({width:"500px"}),Hb=()=>({"min-width":"50rem"}),Kb=(n,s)=>({"text-green-500 pi-check-circle":n,"text-red-500 pi-times-circle":s});function Xb(n,s){if(1&n&&(t.j41(0,"div",7)(1,"div")(2,"h2",8),t.EFF(3),t.k0s()()()),2&n){const i=t.XpG();t.R7$(3),t.JRh(i.getTitleFacture())}}function zb(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",13)(1,"div",69)(2,"label"),t.EFF(3,"D\xe9p\xf4t"),t.k0s(),t.j41(4,"p",70),t.EFF(5," *"),t.k0s()(),t.j41(6,"p-dropdown",71),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG(2);return t.DH7(a.newFacture.depot,o)||(a.newFacture.depot=o),t.Njj(o)}),t.k0s()()}if(2&n){const i=t.XpG(2);t.R7$(6),t.Y8G("options",i.depots),t.R50("ngModel",i.newFacture.depot)}}function Yb(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",13)(1,"div",14),t.nrm(2,"i",72),t.j41(3,"span"),t.EFF(4,"Type facture"),t.k0s()(),t.j41(5,"div",73)(6,"p-toggleButton",74),t.bIt("onChange",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.changeType())}),t.k0s()()()}if(2&n){const i=t.XpG(2);t.R7$(6),t.Y8G("ngModel","FACTURE_ACHAT"!==i.newFacture.typeFacture)}}function Wb(n,s){1&n&&(t.j41(0,"tr",76)(1,"th"),t.EFF(2,"Nom"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Pr\xe9nom"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Email"),t.k0s(),t.j41(7,"th"),t.EFF(8,"T\xe9l\xe9phone"),t.k0s()())}function Qb(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.firstname),t.R7$(2),t.JRh(i.lastname),t.R7$(2),t.JRh(i.email),t.R7$(2),t.JRh(i.telephone)}}function qb(n,s){if(1&n&&(t.j41(0,"p-table",75),t.DNE(1,Wb,9,0,"ng-template",4)(2,Qb,9,4,"ng-template",38),t.k0s()),2&n){const i=t.XpG(2);t.Y8G("value",t.eq3(1,Xi,i.newFacture.transporteur))}}function Jb(n,s){1&n&&(t.j41(0,"span",77),t.EFF(1,"No Transporteur Assigned"),t.k0s())}function Zb(n,s){1&n&&(t.j41(0,"tr",76)(1,"th"),t.EFF(2,"Nom"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Pr\xe9nom"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Email"),t.k0s(),t.j41(7,"th"),t.EFF(8,"T\xe9l\xe9phone"),t.k0s()())}function ev(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.firstname),t.R7$(2),t.JRh(i.lastname),t.R7$(2),t.JRh(i.email),t.R7$(2),t.JRh(i.telephone)}}function tv(n,s){if(1&n&&(t.j41(0,"p-table",75),t.DNE(1,Zb,9,0,"ng-template",4)(2,ev,9,4,"ng-template",38),t.k0s()),2&n){const i=t.XpG(3);t.Y8G("value",t.eq3(1,Xi,i.newFacture.client))}}function iv(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",24)(1,"div",25)(2,"div",59)(3,"label",78),t.EFF(4," Client"),t.k0s(),t.j41(5,"p",70),t.EFF(6," *"),t.k0s()(),t.j41(7,"p-dropdown",79),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG(2);return t.DH7(a.newFacture.client,o)||(a.newFacture.client=o),t.Njj(o)}),t.k0s()(),t.j41(8,"div",28),t.DNE(9,tv,3,3,"p-table",80),t.k0s()()}if(2&n){const i=t.XpG(2);t.R7$(7),t.Y8G("options",i.utilisateursClients),t.R50("ngModel",i.newFacture.client),t.Y8G("filter",!0),t.R7$(2),t.Y8G("ngIf",0!==i.newFacture.client.id)}}function nv(n,s){1&n&&(t.j41(0,"tr",82)(1,"th"),t.EFF(2,"Nom"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Pr\xe9nom"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Email"),t.k0s(),t.j41(7,"th"),t.EFF(8,"T\xe9l\xe9phone"),t.k0s()())}function ov(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.firstname),t.R7$(2),t.JRh(i.lastname),t.R7$(2),t.JRh(i.email),t.R7$(2),t.JRh(i.telephone)}}function rv(n,s){if(1&n&&(t.j41(0,"p-table",75),t.DNE(1,nv,9,0,"ng-template",4)(2,ov,9,4,"ng-template",38),t.k0s()),2&n){const i=t.XpG(3);t.Y8G("value",t.eq3(1,Xi,i.newFacture.provider))}}function sv(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",24)(1,"div",25)(2,"div",59)(3,"label",78),t.EFF(4," Fournisseur"),t.k0s(),t.j41(5,"p",70),t.EFF(6," *"),t.k0s()(),t.j41(7,"p-dropdown",81),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG(2);return t.DH7(a.newFacture.provider,o)||(a.newFacture.provider=o),t.Njj(o)}),t.k0s()(),t.j41(8,"div",28),t.DNE(9,rv,3,3,"p-table",80),t.k0s()()}if(2&n){const i=t.XpG(2);t.R7$(7),t.Y8G("options",i.providers),t.R50("ngModel",i.newFacture.provider),t.Y8G("filter",!0),t.R7$(2),t.Y8G("ngIf",0!==i.newFacture.provider.id)}}function av(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",90),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.addProduit())}),t.k0s()}}function lv(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",83)(1,"button",84),t.bIt("click",function(){t.eBV(i),t.XpG();const o=t.sdS(44),a=t.XpG();return t.Njj(a.clear(o))}),t.k0s(),t.DNE(2,av,1,0,"button",85),t.j41(3,"button",86),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.refresh())}),t.k0s(),t.j41(4,"p-dialog",87),t.mxI("visibleChange",function(o){t.eBV(i);const a=t.XpG(2);return t.DH7(a.showAddProduit,o)||(a.showAddProduit=o),t.Njj(o)}),t.j41(5,"div",53),t.nrm(6,"app-produit-ajout"),t.k0s()(),t.j41(7,"span",88)(8,"input",89),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG(2);return t.DH7(a.rechercheProduit,o)||(a.rechercheProduit=o),t.Njj(o)}),t.bIt("input",function(){t.eBV(i),t.XpG();const o=t.sdS(44),a=t.XpG();return t.Njj(o.filterGlobal(a.rechercheProduit,"contains"))}),t.k0s()()()}if(2&n){const i=t.XpG(2);t.R7$(2),t.Y8G("ngIf","FACTURE_VENTE"!==i.newFacture.typeFacture),t.R7$(2),t.Aen(t.lJ4(8,uo)),t.Y8G("modal",!0),t.R50("visible",i.showAddProduit),t.Y8G("breakpoints",t.lJ4(9,_o))("maximizable",!0),t.R7$(4),t.R50("ngModel",i.rechercheProduit)}}function cv(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-slider",97),t.bIt("onSlideEnd",function(o){const a=t.eBV(i).filterCallback;return t.Njj(a(o.values))}),t.k0s(),t.j41(1,"div",98)(2,"span"),t.EFF(3),t.k0s(),t.j41(4,"span"),t.EFF(5),t.k0s()()}if(2&n){const i=t.XpG(3);t.Y8G("ngModel",i.activityValues)("range",!0),t.R7$(3),t.JRh(i.activityValues[0]),t.R7$(2),t.JRh(i.activityValues[1])}}function dv(n,s){if(1&n&&(t.j41(0,"tr")(1,"th",91)(2,"div",59),t.EFF(3," Nom "),t.nrm(4,"p",92),t.k0s()(),t.j41(5,"th",91)(6,"div",59),t.EFF(7," Code "),t.nrm(8,"p",93),t.k0s()(),t.j41(9,"th"),t.EFF(10),t.k0s(),t.j41(11,"th"),t.EFF(12,"Gain Unitaire"),t.k0s(),t.j41(13,"th"),t.EFF(14,"Gain Gros"),t.k0s(),t.j41(15,"th",91),t.EFF(16," Qty Disp "),t.k0s(),t.j41(17,"th",91),t.EFF(18," Qty Min Gros "),t.k0s(),t.j41(19,"th",94)(20,"div",59),t.nrm(21,"p",95),t.DNE(22,cv,6,4,"ng-template",96),t.k0s()()()),2&n){const i=t.XpG(2);t.R7$(10),t.SpI("Prix ","FACTURE_VENTE"==i.newFacture.typeFacture?"vente":"achat","")}}function pv(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td",99),t.EFF(2),t.k0s(),t.j41(3,"td",99),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"number"),t.k0s(),t.j41(8,"td"),t.EFF(9),t.nI1(10,"number"),t.k0s(),t.j41(11,"td"),t.EFF(12),t.nI1(13,"number"),t.k0s(),t.j41(14,"td",99),t.EFF(15),t.k0s(),t.j41(16,"td",99),t.EFF(17),t.k0s(),t.j41(18,"td",100)(19,"button",101),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.addToFacture(o))}),t.k0s()()()}if(2&n){const i=s.$implicit,r=t.XpG(2);t.R7$(2),t.SpI(" ",i.nom," "),t.R7$(2),t.SpI(" ",i.dataqr," "),t.R7$(2),t.JRh(t.i5U(7,7,"FACTURE_VENTE"==r.newFacture.typeFacture?i.prixUnitaire+i.gainUnitaire:i.prixUnitaire,"1.3-3")),t.R7$(3),t.JRh(t.i5U(10,10,i.gainUnitaire,"1.3-3")),t.R7$(3),t.JRh(t.i5U(13,13,i.gainGros,"1.3-3")),t.R7$(3),t.SpI(" ",i.qantite," "),t.R7$(2),t.SpI(" ",i.minQuantiteGros," ")}}function uv(n,s){1&n&&(t.j41(0,"tr")(1,"td",102),t.EFF(2,"Aucun produit n'a \xe9t\xe9 trouv\xe9."),t.k0s()())}function _v(n,s){if(1&n&&(t.j41(0,"tr")(1,"th",103),t.EFF(2,"Intitul\xe9 produit "),t.nrm(3,"p-sortIcon",104),t.k0s(),t.j41(4,"th",105),t.EFF(5),t.nrm(6,"p-sortIcon",106),t.k0s(),t.j41(7,"th",107),t.EFF(8),t.k0s(),t.j41(9,"th",108),t.EFF(10),t.nrm(11,"p-sortIcon",109),t.k0s(),t.nrm(12,"th")(13,"th"),t.k0s()),2&n){const i=t.XpG(2);t.R7$(5),t.SpI(" Quantit\xe9 ","FACTURE_VENTE"==i.newFacture.typeFacture?"vente":"achat"," "),t.R7$(3),t.SpI(" Prix ","FACTURE_VENTE"==i.newFacture.typeFacture?"vente":"achat"," (TND) "),t.R7$(2),t.SpI(" Total ","FACTURE_VENTE"==i.newFacture.typeFacture?"vente":"achat","(TND) ")}}function mv(n,s){if(1&n){const i=t.RV6();t.j41(0,"input",122),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG().$implicit;return t.DH7(a.produit.nom,o)||(a.produit.nom=o),t.Njj(o)}),t.k0s()}if(2&n){const i=t.XpG().$implicit;t.R50("ngModel",i.produit.nom)}}function hv(n,s){if(1&n&&t.EFF(0),2&n){const i=t.XpG().$implicit;t.SpI(" ",i.produit.nom," ")}}function fv(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-inputNumber",123),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG(2).$implicit;return t.DH7(a.quantite,o)||(a.quantite=o),t.Njj(o)}),t.bIt("ngModelChange",function(o){t.eBV(i);const a=t.XpG(2).$implicit,l=t.XpG(2);return t.Njj(l.onQuantiteChange(o,a))}),t.k0s()}if(2&n){const i=t.XpG(2).$implicit,r=t.XpG(2);t.R50("ngModel",i.quantite),t.Y8G("max","FACTURE_VENTE"==r.newFacture.typeFacture?i.produit.qantite:null)}}function gv(n,s){if(1&n&&t.EFF(0),2&n){const i=t.XpG(2).$implicit;t.SpI(" ",i.quantite," ")}}function bv(n,s){1&n&&(t.j41(0,"td")(1,"p-cellEditor"),t.DNE(2,fv,1,2,"ng-template",111)(3,gv,1,1,"ng-template",112),t.k0s()())}function vv(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-inputNumber",124),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG(2).$implicit;return t.DH7(a.quantite,o)||(a.quantite=o),t.Njj(o)}),t.k0s()}if(2&n){const i=t.XpG(2).$implicit;t.R50("ngModel",i.quantite)}}function Cv(n,s){if(1&n&&t.EFF(0),2&n){const i=t.XpG(2).$implicit;t.SpI(" ",i.quantite," ")}}function Tv(n,s){1&n&&(t.j41(0,"td")(1,"p-cellEditor"),t.DNE(2,vv,1,1,"ng-template",111)(3,Cv,1,1,"ng-template",112),t.k0s()())}function Iv(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-inputNumber",126),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG(2).$implicit;return t.DH7(a.prixVente,o)||(a.prixVente=o),t.Njj(o)}),t.bIt("ngModelChange",function(){t.eBV(i);const o=t.XpG(2).$implicit,a=t.XpG(2);return t.Njj(a.getPrixCalculateVente(o))}),t.EFF(1," > "),t.k0s()}if(2&n){const i=t.XpG(2).$implicit,r=t.XpG(2);t.Y8G("readonly","FACTURE_VENTE"===r.newFacture.typeFacture),t.R50("ngModel",i.prixVente)}}function yv(n,s){if(1&n&&t.EFF(0),2&n){const i=t.XpG(2).$implicit;t.SpI(" ",i.prixVente," ")}}function xv(n,s){1&n&&(t.j41(0,"td",125)(1,"p-cellEditor"),t.DNE(2,Iv,2,2,"ng-template",111)(3,yv,1,1,"ng-template",112),t.k0s()())}function Ev(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-inputNumber",127),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG(2).$implicit;return t.DH7(a.prixAchat,o)||(a.prixAchat=o),t.Njj(o)}),t.bIt("ngModelChange",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.calaculateFactureTotalAcht())}),t.EFF(1," > "),t.k0s()}if(2&n){const i=t.XpG(2).$implicit;t.R50("ngModel",i.prixAchat)}}function wv(n,s){if(1&n&&(t.EFF(0),t.nI1(1,"number")),2&n){const i=t.XpG(2).$implicit;t.SpI(" ",t.i5U(1,1,i.prixAchat,"1.3-3")," ")}}function Sv(n,s){1&n&&(t.j41(0,"td",125)(1,"p-cellEditor"),t.DNE(2,Ev,2,1,"ng-template",111)(3,wv,2,4,"ng-template",112),t.k0s()())}function kv(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",128),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.onRowEditInit(o))}),t.k0s()}}function Fv(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",129),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.onRowEditSave(o))}),t.k0s()}}function Dv(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",130),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.onRowEditCancel(o))}),t.k0s()}}function Ov(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",132)(1,"div",59)(2,"p-radioButton",133),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG(2).$implicit;return t.DH7(a.typeCalcule,o)||(a.typeCalcule=o),t.Njj(o)}),t.k0s(),t.j41(3,"label",134),t.EFF(4,"Max Value"),t.k0s()(),t.j41(5,"div",59)(6,"p-radioButton",135),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG(2).$implicit;return t.DH7(a.typeCalcule,o)||(a.typeCalcule=o),t.Njj(o)}),t.k0s(),t.j41(7,"label",134),t.EFF(8,"Min Value"),t.k0s()(),t.j41(9,"div",59)(10,"p-radioButton",136),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG(2).$implicit;return t.DH7(a.typeCalcule,o)||(a.typeCalcule=o),t.Njj(o)}),t.k0s(),t.j41(11,"label",134),t.EFF(12,"Moyen Value"),t.k0s()()()}if(2&n){const i=t.XpG(2).$implicit;t.R7$(2),t.R50("ngModel",i.typeCalcule),t.R7$(4),t.R50("ngModel",i.typeCalcule),t.R7$(4),t.R50("ngModel",i.typeCalcule)}}function Mv(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",137),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2).$implicit,a=t.XpG(2);return t.Njj(a.confirmerRecalculPrix(o))}),t.k0s()}}function Rv(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-dialog",131),t.mxI("visibleChange",function(o){t.eBV(i);const a=t.XpG(3);return t.DH7(a.typeCalculeDialogue,o)||(a.typeCalculeDialogue=o),t.Njj(o)}),t.DNE(1,Ov,13,3,"ng-template",5)(2,Mv,1,0,"ng-template",6),t.k0s()}if(2&n){const i=t.XpG(3);t.Aen(t.lJ4(4,$b)),t.R50("visible",i.typeCalculeDialogue),t.Y8G("modal",!0)}}function jv(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",110)(1,"td")(2,"p-cellEditor"),t.DNE(3,mv,1,1,"ng-template",111)(4,hv,1,1,"ng-template",112),t.k0s()(),t.DNE(5,bv,4,0,"td",113)(6,Tv,4,0,"td",113)(7,xv,4,0,"td",114)(8,Sv,4,0,"td",114),t.j41(9,"td",115),t.EFF(10),t.nI1(11,"number"),t.k0s(),t.j41(12,"td")(13,"div",116),t.DNE(14,kv,1,0,"button",117)(15,Fv,1,0,"button",118)(16,Dv,1,0,"button",119),t.k0s()(),t.j41(17,"td")(18,"button",120),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.deleteProduct(o))}),t.k0s()()(),t.DNE(19,Rv,3,5,"p-dialog",121)}if(2&n){const i=s.$implicit,r=s.editing,o=t.XpG(2);t.Y8G("pEditableRow",i),t.R7$(5),t.Y8G("ngIf","FACTURE_VENTE"===o.newFacture.typeFacture),t.R7$(),t.Y8G("ngIf","FACTURE_ACHAT"===o.newFacture.typeFacture),t.R7$(),t.Y8G("ngIf","FACTURE_VENTE"===o.newFacture.typeFacture),t.R7$(),t.Y8G("ngIf","FACTURE_ACHAT"===o.newFacture.typeFacture),t.R7$(2),t.SpI(" ",t.i5U(11,10,o.getMontantLigne(i),"1.3-3")," "),t.R7$(4),t.Y8G("ngIf",!r),t.R7$(),t.Y8G("ngIf",r),t.R7$(),t.Y8G("ngIf",r),t.R7$(3),t.Y8G("ngIf",o.newFacture.typeFacture==o.factureType.ENTREE)}}function Pv(n,s){1&n&&(t.j41(0,"tr")(1,"td",138),t.nrm(2,"p-message",139),t.k0s()()),2&n&&(t.R7$(2),t.xc7("padding-left","28%"))}function Av(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"p-button",140),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.CalculeMontantFiltrer())}),t.k0s(),t.bVm()}2&n&&(t.R7$(),t.Y8G("outlined",!0))}function Lv(n,s){if(1&n&&(t.j41(0,"div")(1,"span",141),t.EFF(2,"Total Montant :"),t.k0s(),t.j41(3,"span",141),t.EFF(4),t.k0s()()),2&n){const i=t.XpG(2);t.R7$(4),t.JRh(i.totalMontantFiltre)}}function Bv(n,s){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Date"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Description"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Montant"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Status"),t.k0s(),t.nrm(9,"th"),t.k0s())}function Vv(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.nI1(3,"date"),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.nI1(8,"number"),t.k0s(),t.j41(9,"td"),t.nrm(10,"i",144),t.k0s(),t.j41(11,"td")(12,"p-button",145),t.bIt("click",function(){const o=t.eBV(i).rowIndex,a=t.XpG(3);return t.Njj(a.deleteTrancheNewFacture(o))}),t.k0s()()()}if(2&n){const i=s.$implicit;t.R7$(2),t.JRh(t.i5U(3,6,i.dateEcheance,"yyyy-MM-dd")),t.R7$(3),t.JRh(i.description),t.R7$(2),t.JRh(t.i5U(8,9,i.montantTranche,"1.3-3")),t.R7$(3),t.Y8G("ngClass",t.l_i(12,Kb,i.statutPayement,!i.statutPayement)),t.R7$(2),t.Y8G("rounded",!0)("outlined",!0)}}function Gv(n,s){if(1&n&&(t.j41(0,"div",142)(1,"p-table",143,3),t.DNE(3,Bv,10,0,"ng-template",4)(4,Vv,13,15,"ng-template",38),t.k0s()()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("value",i.newFacture.tranches)("tableStyle",t.lJ4(2,Hb))}}function Nv(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-fieldset",9),t.nrm(1,"h3",10),t.j41(2,"div",11),t.DNE(3,zb,7,2,"div",12),t.j41(4,"div",13)(5,"div",14)(6,"label"),t.EFF(7,"R\xe9ference facture"),t.k0s()(),t.j41(8,"input",15),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newFacture.reference,o)||(a.newFacture.reference=o),t.Njj(o)}),t.k0s()(),t.j41(9,"div",13)(10,"div",14)(11,"label"),t.EFF(12,"Date facture"),t.k0s()(),t.j41(13,"p-calendar",16),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newFacture.date,o)||(a.newFacture.date=o),t.Njj(o)}),t.k0s()(),t.DNE(14,Yb,7,1,"div",12),t.k0s()(),t.j41(15,"p-fieldset",17)(16,"div")(17,"div",18)(18,"button",19),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.refreshUser())}),t.k0s(),t.j41(19,"button",20),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.addUser())}),t.k0s()(),t.j41(20,"div",21)(21,"p-dialog",22),t.mxI("visibleChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.dialogueService.showAddUserSubject,o)||(a.dialogueService.showAddUserSubject=o),t.Njj(o)}),t.nrm(22,"app-ajout-user"),t.k0s()(),t.j41(23,"div",23)(24,"div",24)(25,"div",25)(26,"label",26),t.EFF(27," Transporteur"),t.k0s(),t.j41(28,"p-dropdown",27),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newFacture.transporteur,o)||(a.newFacture.transporteur=o),t.Njj(o)}),t.k0s()(),t.j41(29,"div",28),t.DNE(30,qb,3,3,"p-table",29)(31,Jb,2,0,"ng-template",null,0,t.C5r),t.k0s()(),t.DNE(33,iv,10,4,"div",30)(34,sv,10,4,"div",30),t.k0s()()(),t.j41(35,"p-fieldset",31)(36,"div",32)(37,"div",33)(38,"div",34)(39,"h4",10),t.EFF(40,"S\xe9lectionner Produits"),t.k0s(),t.j41(41,"p",35),t.EFF(42," *"),t.k0s()(),t.j41(43,"p-table",36,1),t.DNE(45,lv,9,10,"ng-template",37)(46,dv,23,1,"ng-template",4)(47,pv,20,16,"ng-template",38)(48,uv,3,0,"ng-template",39),t.k0s()(),t.j41(49,"div",40)(50,"h3",41),t.EFF(51,"List de lignes facture"),t.k0s(),t.j41(52,"p-table",42),t.DNE(53,_v,14,3,"ng-template",4)(54,jv,20,13,"ng-template",38)(55,Pv,3,2,"ng-template",39),t.k0s()()()(),t.j41(56,"p-fieldset",43)(57,"div",44)(58,"div",45)(59,"label",46),t.EFF(60,"Tax :"),t.k0s(),t.j41(61,"p-inputNumber",47),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newFacture.montantTaxe,o)||(a.newFacture.montantTaxe=o),t.Njj(o)}),t.k0s()(),t.j41(62,"div",45)(63,"label",48),t.EFF(64,"Total :"),t.k0s(),t.j41(65,"label",49),t.EFF(66),t.nI1(67,"number"),t.k0s()(),t.j41(68,"div",45)(69,"label",50),t.EFF(70,"R\xe9glement :"),t.k0s(),t.j41(71,"p-inputNumber",51),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newFacture.reglement,o)||(a.newFacture.reglement=o),t.Njj(o)}),t.k0s()()()(),t.j41(72,"p-fieldset",52)(73,"div",53)(74,"div",54)(75,"div",55)(76,"label",56),t.EFF(77,"Description de la tranche"),t.k0s(),t.j41(78,"input",57),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.Newtranche.description,o)||(a.Newtranche.description=o),t.Njj(o)}),t.k0s()(),t.j41(79,"div",55)(80,"label",56),t.EFF(81,"Montant de la tranche"),t.k0s(),t.j41(82,"p-inputNumber",58),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.Newtranche.montantTranche,o)||(a.Newtranche.montantTranche=o),t.Njj(o)}),t.k0s()(),t.j41(83,"div",55)(84,"label",56),t.EFF(85,"Date d'\xe9ch\xe9ance"),t.k0s(),t.j41(86,"p-calendar",16),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.Newtranche.dateEcheance,o)||(a.Newtranche.dateEcheance=o),t.Njj(o)}),t.k0s()(),t.j41(87,"div",55)(88,"label",56),t.EFF(89,"\xc9tat de paiement"),t.k0s(),t.j41(90,"div",59)(91,"p-radioButton",60),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.Newtranche.statutPayement,o)||(a.Newtranche.statutPayement=o),t.Njj(o)}),t.k0s(),t.j41(92,"label",61),t.EFF(93,"Pay\xe9"),t.k0s(),t.j41(94,"p-radioButton",62),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.Newtranche.statutPayement,o)||(a.Newtranche.statutPayement=o),t.Njj(o)}),t.k0s(),t.j41(95,"label",63),t.EFF(96,"Non Pay\xe9"),t.k0s()()(),t.j41(97,"div",64)(98,"p-button",65),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.AddTrancheToNewFacture())}),t.k0s()(),t.j41(99,"div",64),t.DNE(100,Av,2,1,"ng-container",66)(101,Lv,5,1,"ng-template",null,2,t.C5r),t.j41(103,"div")(104,"p-button",67),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.resetMontantFiltreCalcule())}),t.k0s()()()(),t.DNE(105,Gv,5,3,"div",68),t.k0s()()}if(2&n){const i=t.sdS(32),r=t.sdS(102),o=t.XpG();t.Y8G("toggleable",!0),t.R7$(3),t.Y8G("ngIf",o.newFacture.typeFacture==o.factureType.ENTREE),t.R7$(5),t.R50("ngModel",o.newFacture.reference),t.R7$(5),t.R50("ngModel",o.newFacture.date),t.Y8G("showIcon",!0),t.R7$(),t.Y8G("ngIf",!o.isUpdateValide),t.R7$(),t.Y8G("toggleable",!0),t.R7$(6),t.Aen(t.lJ4(45,uo)),t.Y8G("modal",!0),t.R50("visible",o.dialogueService.showAddUserSubject),t.Y8G("breakpoints",t.lJ4(46,_o))("maximizable",!0),t.R7$(7),t.Y8G("options",o.utilisateursTransporteur),t.R50("ngModel",o.newFacture.transporteur),t.Y8G("filter",!0),t.R7$(2),t.Y8G("ngIf",0!==o.newFacture.transporteur.id)("ngIfElse",i),t.R7$(3),t.Y8G("ngIf","FACTURE_ACHAT"!==o.newFacture.typeFacture),t.R7$(),t.Y8G("ngIf","FACTURE_ACHAT"===o.newFacture.typeFacture),t.R7$(),t.Y8G("toggleable",!0),t.R7$(8),t.Y8G("value",o.produits)("globalFilterFields",t.lJ4(47,Ub)),t.R7$(9),t.Y8G("value",o.newFacture.lignesFacture)("scrollable",!0),t.R7$(4),t.Y8G("toggleable",!0),t.R7$(5),t.R50("ngModel",o.newFacture.montantTaxe),t.Y8G("disabled",!1),t.R7$(5),t.SpI(" ",t.i5U(67,42,o.getToTalFacture(),"1.3-3")," TND "),t.R7$(5),t.R50("ngModel",o.newFacture.reglement),t.R7$(),t.Y8G("toggleable",!0),t.R7$(6),t.R50("ngModel",o.Newtranche.description),t.R7$(4),t.R50("ngModel",o.Newtranche.montantTranche),t.R7$(4),t.R50("ngModel",o.Newtranche.dateEcheance),t.Y8G("showIcon",!0),t.R7$(5),t.R50("ngModel",o.Newtranche.statutPayement),t.R7$(3),t.R50("ngModel",o.Newtranche.statutPayement),t.R7$(4),t.Y8G("outlined",!0),t.R7$(2),t.Y8G("ngIf",!o.montantFiltreCalcule)("ngIfElse",r),t.R7$(4),t.Y8G("outlined",!0),t.R7$(),t.Y8G("ngIf",o.newFacture.tranches&&o.newFacture.tranches.length>0)}}function Uv(n,s){if(1&n){const i=t.RV6();t.j41(0,"h6",146),t.EFF(1,"NB : Les champs avec des \xe9toiles rouges sont des champs obligatoires"),t.k0s(),t.j41(2,"div",147)(3,"button",148),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.returnBack())}),t.k0s(),t.j41(4,"button",149),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.createNewFacture())}),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(4),t.FS9("label",0==i.newFacture.id?"Ajouter":"Enregistrer")}}let zi=(()=>{class n{clear(i){i.clear()}constructor(i,r,o,a,l,p,S,O,N,ne,_e,Ee){this.cdr=i,this.factureService=r,this.depotService=o,this.userService=a,this.produitService=l,this.trancheService=p,this.route=S,this.router=O,this.formBuilder=N,this.messageService=ne,this.confirmationService=_e,this.dialogueService=Ee,this.showRetourButton=!0,this.newFacture=new yt,this.depots=[],this.produits=[],this.utilisateurs=[],this.utilisateursClients=[],this.providers=[],this.tranches=[],this.newProduct=new Ne.I,this.rechercheProduit="",this.roles=Object.values(Se.U),this.autoReference=!0,this.composantBVisible=!1,this.utilisateursTransporteur=[],this.montantFiltreCalcule=!1,this.totalMontantFiltre=0,this.activityValues=[0,100],this.showButtun=!0,this.showAddUser=!1,this.showAddProduit=!1,this.isUpdateValide=!1,this.typeCalculeDialogue=!1,this.typeCalcule="",this.newPrix=0,this.Newtranche=new St._,this.factureType=De,this.confirm=confirm,this.total=0,this.TotalProductNb=0,this.selectedFacture=new yt,this.newFacture.lignesFacture=[],this.produitsFiltres=[],this.userForm=this.formBuilder.group({nom:["",V.k0.required],prenom:["",V.k0.required],email:["",[V.k0.required,V.k0.email]],tel:["",V.k0.required],address:["",V.k0.required],role:["",V.k0.required]}),this.newFacture.dateCreation=new Date}ngOnInit(){var i=this;return(0,It.A)(function*(){i.updateRootFromCurrentPath(),i.fuctureId=i.route.snapshot.paramMap.get("id");try{i.fuctureId&&i.factureService.getFactureById(i.fuctureId).subscribe(r=>{i.newFacture=r,i.isUpdateValide=!0,Array.isArray(i.newFacture.lignesFacture)?i.newFacture.lignesFacture=i.newFacture.lignesFacture:console.warn("Facture _lignesFacture is not an array or is undefined",i.newFacture.lignesFacture)},r=>console.log(r)),i.getAllTranches(),i.getAllClient(),i.getAllTrans(),i.getAllProvider(),i.getAllProduits(),i.getAllDepots(),console.log("Facture r\xe9cup\xe9r\xe9e !!",i.newFacture)}catch(r){console.error("Erreur lors du chargement des donn\xe9es :",r)}})()}toggleComposantB(){this.composantBVisible=!this.composantBVisible}getAllDepots(){this.depotService.getdepots().subscribe(i=>{this.depots=i,console.log(this.depots)})}filtrerProduits(i){console.log(i),this.produitsFiltres=this.produits.filter(r=>r.nom.includes(i)||r.dataqr.includes(i))}getAllClient(){this.userService.getUsersClient().subscribe(i=>{this.utilisateursClients=i})}getAllTranches(){this.trancheService.getTranches().subscribe(i=>{this.tranches=i})}getAllTrans(){this.userService.getUsersTransporteur().subscribe(i=>{this.utilisateursTransporteur=i})}getAllProvider(){this.userService.getUsersProviders().subscribe(i=>{this.providers=i})}getAllProduits(){this.produitService.getProduits().subscribe(i=>{this.produits=i})}createNewFacture(){this.validateFacture()&&(console.log("Contenu de la facture \xe0 enregistrer :",this.newFacture),this.confirmationService.confirm({header:"facture est enti\xe8rement r\xe9gl\xe9e  ?",icon:"pi pi-exclamation-triangle",acceptIcon:"pi pi-check mr-2",rejectIcon:"pi pi-times mr-2",rejectButtonStyleClass:"p-button-sm",acceptButtonStyleClass:"p-button-outlined p-button-sm",accept:()=>{this.newFacture.paye=!0,this.saveFacture()},reject:()=>{this.newFacture.paye=!1,this.saveFacture()}}))}saveFacture(){this.newFacture.montant=this.getToTalFacture(),this.newFacture.id?this.factureService.updateFacture(this.newFacture).subscribe(i=>{this.messageService.add({severity:"success",summary:"Enregistrement",detail:"Votre facture est bien enregistr\xe9e",life:3e3}),setTimeout(()=>{this.router.navigate(["uikit/facture"])},1e3)},i=>{console.error("Erreur de mise \xe0 jour:",i)}):this.factureService.addFacture(this.newFacture).subscribe(i=>{this.messageService.add({severity:"success",summary:"Enregistrement",detail:"Votre facture est bien enregistr\xe9e",life:3e3}),setTimeout(()=>{this.router.navigate(["uikit/facture"])},1e3)},i=>{console.error("Erreur de cr\xe9ation:",i)}),this.resetForm()}resetForm(){this.newFacture=new yt}validateFacture(){return this.newFacture.typeFacture==De.ENTREE&&0==this.newFacture.depot.id?(this.messageService.add({severity:"error",summary:"Erreur",detail:"Aucun D\xe9pot n'a \xe9t\xe9 s\xe9lectionn\xe9 pour la facture",life:3e3}),!1):0==this.newFacture.lignesFacture.length?(this.messageService.add({severity:"error",summary:"Erreur",detail:"Aucun produit n'a \xe9t\xe9 s\xe9lectionn\xe9 pour la facture",life:3e3}),!1):0==this.newFacture.client.id&&"FACTURE_ACHAT"!==this.newFacture.typeFacture?(this.messageService.add({severity:"error",summary:"Erreur",detail:"Aucun client n'a \xe9t\xe9 s\xe9lectionn\xe9 pour la facture",life:3e3}),!1):0!=this.newFacture.provider.id||"FACTURE_ACHAT"!=this.newFacture.typeFacture||(this.messageService.add({severity:"error",summary:"Erreur",detail:"Aucun Fournisseur n'a \xe9t\xe9 s\xe9lectionn\xe9 pour la facture",life:3e3}),!1)}deleteProduct(i){this.newFacture.lignesFacture=this.newFacture.lignesFacture.filter(r=>r.produit.id!==i.produit.id),this.calaculateFactureTotalAcht()}calculeFactureTotal(){this.newFacture.montant=0,this.newFacture.lignesFacture.forEach(i=>{i.quantite>i.produit.qantite&&(i.quantite=i.produit.qantite),i.quantite<i.produit.minQuantiteGros?(this.newFacture.montant+=i.quantite*(i.produit.prixUnitaire+i.produit.gainUnitaire),i.montantTotal=i.quantite*(i.produit.prixUnitaire+i.produit.gainUnitaire)):(this.newFacture.montant+=i.quantite*(i.produit.prixGros+i.produit.gainGros),i.montantTotal=i.quantite*(i.produit.prixGros+i.produit.gainGros))})}calaculateFactureTotalAcht(){this.newFacture.montant=0,this.newFacture.lignesFacture.forEach(i=>{"FACTURE_ACHAT"===this.newFacture.typeFacture?this.newFacture.montant+=i.quantite*i.prixAchat:(i.quantite<=i.produit.qantite?this.newFacture.montant+=i.quantite*this.newPrix:(this.messageService.add({severity:"error",summary:"Produit epius\xe9",detail:"Le quantit\xe9 insufisant !",life:3e3}),i.quantite=i.produit.qantite),this.newFacture.montant+=i.quantite*i.prixVente)})}getPrixCalculateVente(i){return i.quantite<i.produit.minQuantiteGros?i.produit.prixUnitaire+i.produit.gainUnitaire:i.produit.prixUnitaire+i.produit.gainGros}getPrixCalculateAchat(i){return i.produit.prixUnitaire}changeType(){this.newFacture.typeFacture=this.newFacture.typeFacture===De.SORTIE?De.ENTREE:De.SORTIE,this.cdr.detectChanges()}returnBack(){this.factureService.returnBack()}addToFacture(i){const r=this.newFacture.lignesFacture.findIndex(o=>o.produit.id===i.id);if(i.qantite>0||"FACTURE_ACHAT"==this.newFacture.typeFacture){if(r>=0)this.newFacture.lignesFacture[r].quantite<this.newFacture.lignesFacture[r].produit.qantite||"FACTURE_ACHAT"==this.newFacture.typeFacture?this.newFacture.lignesFacture[r].quantite+=1:this.messageService.add({severity:"error",summary:"Produit epius\xe9",detail:"Le quantit\xe9 insufisant !",life:3e3});else{const o=new co((new Date).getTime(),1,0,Ne.I.copy(i),i.prixUnitaire,i.prixUnitaire+i.gainUnitaire,"");o.montantTotal=o.prixAchat*o.quantite,this.newFacture.lignesFacture.push(o),this.messageService.add({severity:"success",summary:"Produit ajout\xe9 \xe0 la facture",detail:"Le produit a \xe9t\xe9 ajout\xe9 avec succ\xe8s \xe0 la facture !",life:3e3})}this.calaculateFactureTotalAcht()}else this.messageService.add({severity:"error",summary:"Produit epius\xe9",detail:"Le quantit\xe9 insufisant !",life:3e3})}updateRootFromCurrentPath(){this.root=this.router.url,this.updateShowButtun()}updateShowButtun(){this.showButtun=!this.root.includes("caisse")}AddTrancheToNewFacture(){this.Newtranche.user=new Se.K,this.newFacture.tranches.push(this.Newtranche),this.Newtranche=new St._}updateTrancheLocal(i,r){r>-1&&(this.newFacture.tranches[r]=i,this.messageService.add({severity:"success",summary:"Mis \xe0 jour !",detail:"La tranche a \xe9t\xe9 mise \xe0 jour localement.",life:2e3}))}deleteTrancheNewFacture(i){i>-1&&this.removeTranche(this.newFacture.tranches[i],i)}removeTranche(i,r){this.confirmationService.confirm({message:"Vous ne pourrez pas revenir en arri\xe8re !",header:"Es-tu s\xfbr ?",icon:"pi pi-exclamation-triangle",acceptLabel:"Oui, supprimez-le !",rejectLabel:"Non",acceptButtonStyleClass:"custom-accept-button",rejectButtonStyleClass:"custom-reject-button",accept:()=>{this.trancheService.deleteTranche(i.id).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Supprim\xe9",detail:"Votre tranche a \xe9t\xe9 supprim\xe9e!",life:2e3}),this.newFacture.tranches.splice(r,1)},error:o=>{this.messageService.add({severity:"error",summary:"Erreur",detail:"Il y a eu un probl\xe8me lors de la suppression.",life:2e3})}})},reject:()=>{this.messageService.add({severity:"error",summary:"Annuler",detail:"La supprission de tranche est annuler!.",life:1e3})}})}addUser(){this.dialogueService.openDialog()}addProduit(){this.showAddProduit=!0}refresh(){this.getAllProduits()}refreshUser(){this.getAllTrans(),this.getAllProvider(),this.getAllClient()}onRowEditCancel(i){}onRowEditSave(i){"FACTURE_ACHAT"===this.newFacture.typeFacture&&i.prixAchat!==i.produit.prixUnitaire&&(this.typeCalculeDialogue=!0)}onRowEditInit(i){console.log("produitIdA Updated"+i.produit.id),this.produitService.getProduitById(i.produit.id).subscribe(r=>{i.produit=r})}confirmerRecalculPrix(i){i.typeCalcule?i.produit.prixUnitaire=this.calculerNouveauPrix(i.typeCalcule,i):console.warn("Veuillez s\xe9lectionner un type de calcul."),this.typeCalculeDialogue=!1}onQuantiteChange(i,r){this.updatePrixVente(r),r.quantite=i>r.produit.qantite?0:i,this.calaculateFactureTotalAcht()}getMontantLigne(i){return this.newFacture.typeFacture==De.ENTREE?i.quantite*i.prixAchat:i.quantite*i.prixVente}getToTalFacture(){return this.total=0,this.newFacture.lignesFacture.map(i=>{this.total+=this.getMontantLigne(i)}),this.total+=this.total*(this.newFacture.montantTaxe/100),this.total}CalculeMontantFiltrer(){this.totalMontantFiltre=(this.table.filteredValue||this.newFacture.tranches).reduce((r,o)=>r+o.montantTranche,0),this.montantFiltreCalcule=!0}resetMontantFiltreCalcule(){}updatePrixVente(i){const r=i.produit;i.prixVente=i.quantite>=r.minQuantiteGros?r.prixUnitaire+r.gainGros:r.prixUnitaire+r.gainUnitaire,this.getTottalNbProduct()}getTottalNbProduct(){this.TotalProductNb=0,this.selectedFacture.lignesFacture.forEach(i=>{this.TotalProductNb+=i.quantite})}calculerNouveauPrix(i,r){const o=r.produit.historiques;let a=0;switch(i){case"MaxValue":a=Math.max(...o.map(p=>p.prixHistoriqueAchat));break;case"MinValue":a=Math.min(...o.map(p=>p.prixHistoriqueAchat));break;case"MoyenValue":a=o.reduce((p,S)=>p+S.prixHistoriqueAchat,0)/o.length;break;default:throw new Error(`Type de calcul inconnu: ${i}`)}return a}getTitleFacture(){return this.route.snapshot.paramMap.get("id")?"FACTURE_VENTE"==this.newFacture.typeFacture?"Update facture vente":"Update facture achat":"FACTURE_VENTE"==this.newFacture.typeFacture?"Ajouter facture vente":"Ajouter facture achat"}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(t.gRc),t.rXU(ni),t.rXU(qt),t.rXU(Ke.D),t.rXU(Ve.D),t.rXU(ii),t.rXU(c.nX),t.rXU(c.Ix),t.rXU(V.ok),t.rXU(L.bg),t.rXU(L.td),t.rXU(Yt))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-facture-ajout"]],viewQuery:function(r,o){if(1&r&&t.GBs(Nb,5),2&r){let a;t.mGM(a=t.lsd())&&(o.table=a.first)}},inputs:{showRetourButton:"showRetourButton"},standalone:!0,features:[t.aNF],decls:6,vars:0,consts:[["noTransporteur",""],["dt1",""],["montantTemplate",""],["dt3",""],["pTemplate","header"],["pTemplate","content"],["pTemplate","footer"],[1,"flex","justify-content-between","align-items-center"],[1,"text-primary-600","font-bold","m-3"],["legend","D\xe9tails facture",3,"toggleable"],[1,"font-bold"],[1,"flex","flex-wrap","align-items-center","justify-content-center"],["class","flex-auto",4,"ngIf"],[1,"flex-auto"],[1,"switch-label","mb-2","font-bold"],["pInputText","","type","text","name","reference","placeholder","Exemple : FACT-00001",3,"ngModelChange","ngModel"],["dateFormat","yy-mm-dd",3,"ngModelChange","ngModel","showIcon"],["legend","S\xe9lectionner Utilisateurs",1,"m-1","gap-2",3,"toggleable"],[1,"justify-content-end","flex","align-items-end","m-0","p-1"],["pButton","","pRipple","","label","Actualiser","icon","pi pi-refresh",1,"p-button-text","p-button-primary",3,"click"],["pButton","","pRipple","","label","Ajouter","icon","pi pi-user-plus",1,"p-button-text","p-button-success",3,"click"],[1,"flex","justify-content-center"],["header","Ajouter Utilisateur",3,"visibleChange","modal","visible","breakpoints","maximizable"],[1,"flex","gap-2","p-3"],[1,"col-12","md:col-6","p-card","p-mb-3","card-content","grid"],[1,"col-12","md:col-6","mb-3"],[1,"text-primary","font-bold","pi","pi-user"],["optionLabel","firstname","placeholder","No Transporteur",3,"ngModelChange","options","ngModel","filter"],[1,"col-12"],[3,"value",4,"ngIf","ngIfElse"],["class","col-12 md:col-6 p-card p-mb-3 card-content grid",4,"ngIf"],["legend","Lignes Facture",3,"toggleable"],[1,"flex","p-3","pl-4","pr-4","border-round","gap-3","justify-content-center","bg-gray-100","flex-column","md:flex-row"],[1,"p-card","col-12","md:col-5","justify-content-center","mb-3","md:mb-0"],[1,"flex"],[1,"text-red-600","ml-1","text-2xl"],["dataKey","id","scrollable","true","scrollHeight","20rem","currentPageReportTemplate","Affichage de {first} \xe0 {last} des entr\xe9es {totalRecords}",3,"value","globalFilterFields"],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"p-card","col-12","md:col-7","justify-content-center"],[1,"font-bold","mt-2"],["dataKey","id","responsiveLayout","scroll","editMode","row",3,"value","scrollable"],["legend","Somme facture",3,"toggleable"],[1,"flex","flex-column","md:flex-row","align-items-center","justify-content-between"],[1,"flex","flex-column","col-12","md:col-4","align-items-center"],[1,"font-bold","text-2xl","block","m-2"],["inputId","percent","prefix","%",3,"ngModelChange","ngModel","disabled"],[1,"block","font-bold","mb-2PrimaryColorTitle","ml-2","text-2xl"],[1,"text-red-600","font-bold","text-center","text-3xl","rounded-3","m-2","card","col-10"],[1,"block","font-bold","text-2xl","m-2"],["inputId","currency-us","mode","currency","currency","TND","locale","en-US",3,"ngModelChange","ngModel"],["legend","Ajouter tranches",1,"m-1",3,"toggleable"],[1,"flex","flex-column"],[1,"flex","flex-wrap","col-12","justify-content-between","align-items-center"],[1,"p-field","flex","flex-column","col-12","md:col-3","gap-2"],[1,"text-primary-600","font-bold"],["pInputText","","type","text","placeholder","Description",3,"ngModelChange","ngModel"],["mode","currency","currency","TND","locale","en-US",3,"ngModelChange","ngModel"],[1,"flex","align-items-center"],["name","paymentStatus","value","true","inputId","paid",3,"ngModelChange","ngModel"],[1,"ml-2","font-bold","text-green-600"],["name","paymentStatus","value","false","inputId","notPaid",3,"ngModelChange","ngModel"],[1,"ml-2","font-bold","text-red-600"],[1,"flex","flex-column","col-12","md:col-3","gap-2"],["label","Ajouter","icon","pi pi-plus",1,"p-button-text","p-button-success","p-button-outlined",3,"click","outlined"],[4,"ngIf","ngIfElse"],["label","Rafra\xeechir","icon","pi pi-refresh","styleClass","p-button-raised p-button-text p-button-info",1,"p-button-rounded","p-button-secondary","p-button-outlined",3,"click","outlined"],["class","mt-4 p-2 bg-gray-100",4,"ngIf"],[1,"flex","switch-label","mb-2","font-bold"],[1,"text-red-600","ml-1"],["optionLabel","nom","placeholder","S\xe9lectionner d\xe9p\xf4t",3,"ngModelChange","options","ngModel"],[1,"pi","pi-file"],[1,"switch-toggle","p-ml-2"],["id","toggleType","onLabel","VENTE","offLabel","ACHAT",3,"onChange","ngModel"],[3,"value"],[1,"fs-5",2,"--bs-table-color","#0056b3"],[1,"fs-5","font-bold","text-red-600"],[1,"text-primary","font-bold","pi","pi-user","mb-2"],["optionLabel","firstname","placeholder","S\xe9lectionner Client",3,"ngModelChange","options","ngModel","filter"],[3,"value",4,"ngIf"],["optionLabel","firstname","placeholder","S\xe9lectionner Fournisseur",3,"ngModelChange","options","ngModel","filter"],[2,"--bs-table-color","#0056b3"],[1,"flex","flex-wrap","gap-2"],["pButton","","label","Effacer","icon","pi pi-filter-slash",1,"p-button-outlined","p-button-warning",3,"click"],["pButton","","label","Ajouter","class","p-button-outlined p-button-success ml-2","icon","pi pi-plus",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-refresh",1,"p-button-primary","p-button-outlined","ml-2",3,"click"],["header","Ajouter Produit",3,"visibleChange","modal","visible","breakpoints","maximizable"],[1,"p-input-icon-left","ml-auto"],["pInputText","","type","text","placeholder","Rechercher ici ...",3,"ngModelChange","input","ngModel"],["pButton","","label","Ajouter","icon","pi pi-plus",1,"p-button-outlined","p-button-success","ml-2",3,"click"],[2,"min-width","4rem"],["type","text","field","nom","display","menu"],["type","text","field","dataqr","display","menu"],[2,"min-width","3rem"],["field","activity","matchMode","between","display","menu"],["pTemplate","filter"],["styleClass","m-3",3,"onSlideEnd","ngModel","range"],[1,"flex","align-items-center","px-2"],[1,"text-break"],[1,"align-items-center"],["pButton","","pRipple","","icon","pi pi-cart-plus",1,"p-button-success","p-button-rounded",3,"click"],["colspan","7"],["pSortableColumn","nom",2,"width","20%"],["field","nom"],["pSortableColumn","quantite",2,"width","20%"],["field","quantite"],[2,"width","20%"],["pSortableColumn","montantTotal",2,"width","20%"],["field","price"],[3,"pEditableRow"],["pTemplate","input"],["pTemplate","output"],[4,"ngIf"],["class","fw-bold fs-4 text-red-600","style","width:15%",4,"ngIf"],[1,"fw-bold","fs-3","text-black"],[1,"flex","align-items-center","justify-content-center","gap-2"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil","class","p-button-rounded p-button-success",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","class","p-button-rounded p-button-text p-button-success mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","class","p-button-rounded p-button-text p-button-danger",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-cart-minus",1,"p-button-danger","p-button-rounded",3,"click"],["header","Choisir La methode de Calcule de Prix","class","p-fluid",3,"visible","style","modal","visibleChange",4,"ngIf"],["pInputText","","type","text",3,"ngModelChange","ngModel"],["name","quantiteProduit",3,"ngModelChange","ngModel","max"],["name","quantiteProduit",3,"ngModelChange","ngModel"],[1,"fw-bold","fs-4","text-red-600",2,"width","15%"],["name","prix","mode","decimal","minFractionDigits","1","maxFractionDigits","2",3,"ngModelChange","readonly","ngModel"],["name","prix","mode","decimal","minFractionDigits","1","maxFractionDigits","2",3,"ngModelChange","ngModel"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success",3,"click"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check",1,"p-button-rounded","p-button-text","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"],["header","Choisir La methode de Calcule de Prix",1,"p-fluid",3,"visibleChange","visible","modal"],[1,"flex","justify-content-between","w-full"],["name","MaxValue","value","MaxValue","inputId","ingredient2",3,"ngModelChange","ngModel"],[1,"ml-2"],["name","Min","value","MinValue","inputId","ingredient3",3,"ngModelChange","ngModel"],["name","Moyen","value","MoyenValue","inputId","ingredient4",3,"ngModelChange","ngModel"],["pButton","","pRipple","","label","Confirmer","icon","pi pi-times",1,"p-button-text",3,"click"],["colspan","5"],["severity","error","text","Aucun produit n'a \xe9t\xe9 ajout\xe9 \xe0 votre facture !"],["label","Calcule Total","icon","pi pi-check","styleClass","p-button-raised p-button-text p-button-success",1,"p-button-rounded","p-button-primary","p-button-outlined",3,"click","outlined"],[1,"text-xl",2,"color","red","font-weight","bold"],[1,"mt-4","p-2","bg-gray-100"],[3,"value","tableStyle"],[1,"pi",3,"ngClass"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"text-gray-500","font-bold"],[1,"flex","flex-column","md:flex-row","md:justify-content-end","md:align-items-end","gap-3"],["pButton","","pRipple","","label","Annuler","icon","pi pi-times",1,"p-button-text","p-button-danger",3,"click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text","p-button-success",3,"click","label"]],template:function(r,o){1&r&&(t.j41(0,"p-card"),t.nrm(1,"p-confirmDialog")(2,"p-toast"),t.DNE(3,Xb,4,1,"ng-template",4)(4,Nv,106,48,"ng-template",5)(5,Uv,5,1,"ng-template",6),t.k0s())},dependencies:[V.X1,V.me,V.BC,V.YN,V.vS,Ae.rO,Ae.Vv,d._f,d.$n,L.Ei,Xt,H.bG,H.XI,H.Tg,H.c5,H.yc,H.Xk,H.Hd,H.E7,H.Tf,h.QX,Ie.O3,Ie.YI,Ri,w.kr,w.ms,h.MD,h.YU,h.bT,h.vh,be.P,be.l,Ze,vt,Mi,pt.D,pt.Z,J.Z,J.n,po.H_,Hi,$i,E.u,E.S,Ki,Wt,$e.Ko,$e.a,ri.u,ri.C,ve.F,ve.T,de.MB,de.y8,wt,Et,et,Ge,zt],styles:[".custom-inputnumber[_ngcontent-%COMP%]{width:60px;height:30px}"]})}return n})();var $v=_(2336),Hv=_(2014);const Kv=()=>({width:"50vw"}),Xv=()=>({"background-color":"#b9c7ce",color:"#1a1717"}),zv=()=>["paye","client.firstname","client.lastname","dateVente","total","reglement","employer.lastname","employer.firstname","lignesVente.produit.nom","lignesVente.produit.dataQr"],Yv=()=>[10,25,50],mo=(n,s)=>({"row-even":n,"row-odd":s}),Wv=(n,s)=>({"text-green-500 pi-check-circle":n,"text-red-500 pi-times-circle":s});function Qv(n,s){if(1&n&&t.nrm(0,"p-avatar",42),2&n){const i=t.XpG();t.Aen(t.lJ4(3,Xv)),t.Y8G("value",i.ventes.length+"")}}function qv(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",47)(1,"div",48)(2,"span",49),t.nrm(3,"i",50),t.j41(4,"input",51),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG(2);return t.DH7(a.searchTerm,o)||(a.searchTerm=o),t.Njj(o)}),t.bIt("input",function(){t.eBV(i),t.XpG();const o=t.sdS(2),a=t.XpG();return t.Njj(o.filterGlobal(a.searchTerm,"contains"))}),t.k0s()()(),t.j41(5,"div",52)(6,"p-button",53),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.transferSelected())}),t.k0s()()()}if(2&n){const i=t.XpG(2);t.R7$(4),t.R50("ngModel",i.searchTerm)}}function Jv(n,s){1&n&&(t.j41(0,"tr",54)(1,"th",55),t.nrm(2,"p-tableHeaderCheckbox"),t.k0s(),t.j41(3,"th",56),t.EFF(4,"Pay\xe9"),t.nrm(5,"p-sortIcon",57),t.k0s(),t.j41(6,"th",58),t.EFF(7,"Date "),t.nrm(8,"p-sortIcon",59),t.k0s(),t.j41(9,"th",60),t.EFF(10," Client"),t.nrm(11,"p-sortIcon",61),t.k0s(),t.j41(12,"th",62),t.nrm(13,"p-sortIcon",63),t.EFF(14,"Total "),t.k0s(),t.j41(15,"th",64),t.nrm(16,"p-sortIcon",65),t.EFF(17,"Reglement "),t.k0s(),t.j41(18,"th",66),t.nrm(19,"p-sortIcon",67),t.EFF(20,"Employ\xe9 "),t.k0s(),t.j41(21,"th",68),t.EFF(22,"Lignes de Vente"),t.k0s(),t.nrm(23,"th",55),t.k0s(),t.j41(24,"tr"),t.nrm(25,"th"),t.j41(26,"th"),t.nrm(27,"p-columnFilter",69),t.k0s(),t.j41(28,"th"),t.nrm(29,"p-columnFilter",70),t.k0s(),t.j41(30,"th"),t.nrm(31,"p-columnFilter",71),t.k0s(),t.j41(32,"th"),t.nrm(33,"p-columnFilter",72),t.k0s(),t.j41(34,"th"),t.nrm(35,"p-columnFilter",73),t.k0s(),t.j41(36,"th"),t.nrm(37,"p-columnFilter",74),t.k0s()())}function Zv(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"th",83),t.EFF(2,"Produit"),t.k0s(),t.j41(3,"th",84),t.EFF(4,"Quantit\xe9"),t.k0s(),t.j41(5,"th",84),t.EFF(6,"Prix de Vente"),t.k0s(),t.j41(7,"th",85)(8,"p-button",86),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.visibleLigneVente(o))}),t.k0s()()()}}function eC(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",75)(1,"td"),t.EFF(2),t.j41(3,"p-button",88),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(3);return t.Njj(a.detailproduit(o.produit))}),t.k0s()(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td",89),t.EFF(7),t.nI1(8,"currency"),t.nI1(9,"number"),t.k0s()()}if(2&n){const i=t.XpG(),r=i.$implicit,o=i.rowIndex;t.Y8G("ngClass",t.l_i(11,mo,o%2==0,o%2!=0)),t.R7$(2),t.SpI(" ",r.produit.nom," "),t.R7$(3),t.JRh(r.qtyV),t.R7$(2),t.JRh(t.i5U(9,8,t.brH(8,4,r.prixVente,"TND","TND"),"1.3-3"))}}function tC(n,s){if(1&n&&t.DNE(0,eC,10,14,"tr",87),2&n){const i=t.XpG().$implicit,r=t.XpG(2);t.Y8G("ngIf",r.showTable||i.visible)}}function iC(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",75)(1,"td"),t.nrm(2,"p-tableCheckbox",76),t.k0s(),t.j41(3,"td"),t.nrm(4,"i",77),t.k0s(),t.j41(5,"td",78),t.EFF(6),t.k0s(),t.j41(7,"td",78),t.EFF(8),t.k0s(),t.j41(9,"td",79),t.EFF(10),t.nI1(11,"number"),t.k0s(),t.j41(12,"td",79),t.EFF(13),t.nI1(14,"number"),t.k0s(),t.j41(15,"td",78),t.EFF(16),t.k0s(),t.j41(17,"td",80)(18,"p-table",81),t.DNE(19,Zv,9,0,"ng-template",45)(20,tC,1,1,"ng-template",46),t.k0s()(),t.j41(21,"td",55)(22,"p-button",82),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.removeVente(o.id))}),t.k0s()()()}if(2&n){const i=s.$implicit,r=s.rowIndex;t.Y8G("ngClass",t.l_i(17,mo,r%2==0,r%2!=0)),t.R7$(2),t.Y8G("value",i),t.R7$(2),t.Y8G("ngClass",t.l_i(20,Wv,1==i.paye,0==i.paye)),t.R7$(2),t.JRh(i.dateVente),t.R7$(2),t.Lme("",i.client.firstname," ",i.client.lastname,""),t.R7$(2),t.SpI("",t.i5U(11,11,i.total,"1.3-3")," TND"),t.R7$(3),t.SpI("",t.i5U(14,14,i.reglement,"1.3-3")," TND"),t.R7$(3),t.Lme("",i.employer.firstname," ",i.employer.firstname,""),t.R7$(2),t.Y8G("value",i.lignesVente)}}function nC(n,s){if(1&n){const i=t.RV6();t.j41(0,"div")(1,"p-table",43,0),t.mxI("selectionChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.selectedVentes,o)||(a.selectedVentes=o),t.Njj(o)}),t.DNE(3,qv,7,1,"ng-template",44)(4,Jv,38,0,"ng-template",45)(5,iC,23,23,"ng-template",46),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(),t.Y8G("scrollable",!0)("value",i.ventes),t.R50("selection",i.selectedVentes),t.Y8G("globalFilterFields",t.lJ4(11,zv))("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.lJ4(12,Yv))("loading",i.loading)("paginator",!0)("sortField","dateVente")("sortOrder",-1)}}function oC(n,s){1&n&&(t.j41(0,"p"),t.EFF(1,"Aucune vente disponible."),t.k0s())}function rC(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,oC,2,0,"p",15),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",i.displayusers)}}let sC=(()=>{class n{constructor(i,r){this.venteService=i,this.router=r,this.ventes=[],this.visibleDetails=!1,this.searchTerm="",this.showTable=!1,this.displayusers=!0,this.product=new Ne.I,this.loading=!1,this.total=0,this.DateStart=new Date,this.DateFin=new Date,this.selectedVentes=[],this.listTransfer=[],this.displayusers=!0}ngOnInit(){this.loadVentes()}loadVentes(){this.loading=!0,this.venteService.getVentes().subscribe(i=>{this.ventes=i,this.loading=!1,this.getAllTotal(),console.log("Ventes:",(new h.TG).transform(i))},i=>{console.error("Error fetching ventes:",i),this.displayusers=!1,$().fire({icon:"error",title:"Oops...",text:"Vous n'avez pas la permission s'il vous plait  contacter l'administrateur.  "})})}goToClotures(){this.router.navigate(["/uikit/cloture"])}getSeverity(i){switch(i){case"INSTOCK":return"success";case"LOWSTOCK":return"warning";case"OUTOFSTOCK":return"danger";default:return"default-value"}}getStatusSeverity(i){switch(i){case"PENDING":return"warning";case"DELIVERED":return"success";case"CANCELLED":return"danger";default:return"default-value"}}removeVente(i){$().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1}),$().fire({title:"Vous etes sur !",text:"Votre Vente sera supprim\xe9 d\xe9finitivement ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, Supprim\xe9!",cancelButtonText:"Non, Annuler!!",reverseButtons:!0}).then(o=>{o.isConfirmed?this.venteService.removeVente(i).subscribe(a=>{1==a&&(this.loadVentes(),$().fire({title:"Vente !",text:"Votre vente est bien supprim\xe9!",icon:"success"}))}):o.dismiss===$().DismissReason.cancel&&$().fire({title:"Annuler",text:"Annulation de supprission",icon:"error"})})}detailproduit(i){this.product=i,this.visibleDetails=!0}refrech(){this.loadVentes()}toggleTable(){this.showTable=!this.showTable}visibleLigneVente(i){i.visible=!i.visible}getAllTotal(){this.total=0;const i=new Date(this.DateStart).getTime(),r=new Date(this.DateFin).getTime();console.log("DateStart:",this.DateStart),console.log("DateFin:",this.DateFin),this.ventes.forEach(o=>{console.log("Raw dateVente:",o.dateVente);const a=o.dateVente.toString().split(" "),l=a[0].split("-");let p=["00","00","00"];a.length>1&&(p=a[1].split(":"));const S=new Date(parseInt(l[2]),parseInt(l[1])-1,parseInt(l[0]),parseInt(p[0]),parseInt(p[1]),parseInt(p[2])).getTime();console.log("venteTime:",S,"startTime:",i,"endTime:",r),!isNaN(S)&&S>=i&&S<=r&&(this.total+=o.total),console.log("total apr\xe8s traitement de la vente:",this.total)}),console.log("total final:",this.total)}transferSelected(){this.selectedVentes&&this.selectedVentes.length>0&&(this.listTransfer.push(...this.selectedVentes),console.info("listTransfer ts"+(new h.TG).transform(this.listTransfer)),this.venteService.transferFacturation(this.listTransfer).subscribe({next:()=>{$().fire({title:"Succ\xe8s",text:"Transfert et collapes de factures r\xe9ussi.",icon:"success"})},error:i=>{console.error("Erreur de transfert de facturation: ",i),$().fire({title:"Erreur",text:`Une erreur est survenue lors du transfert de facturation : ${i.message||i.statusText}`,icon:"error"})}}),this.router.navigate(["/uikit/Ventes"]))}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(Hv.W),t.rXU(c.Ix))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-ligne-vente"]],standalone:!0,features:[t.aNF],decls:82,vars:37,consts:[["dt",""],[1,"flex","flex-wrap"],[1,"w-full"],[1,"flex","flex-wrap","w-full","justify-content-between","align-items-center","gap-2","p-2"],[1,"flex-auto"],["pRipple","","pButton","","label","Actualiser","icon","pi pi-refresh","styleClass","p-button-raised p-button-outlined",1,"m-2",3,"click"],[1,"flex","flex-auto"],["icon","pi pi-eye","styleClass","p-button-outlined","label","Afficher listes ventes",3,"click"],["class","m-2","icon","pi pi-shopping-cart","pBadge","","size","large",3,"value","style",4,"ngIf"],[1,"row","m-2","p-2"],[1,"text-3xl","font-bold"],[1,"text-3xl","text-green-500","w-25","shadow-1","m-2","p-2"],[1,"flex","justify-content-between","flex-wrap"],["type","datetime-local",1,"border-1","border-gray-200","p-2","rounded-2",3,"ngModelChange","ngModel"],["icon","pi pi-boxes","styleClass","p-button-outlined p-button-primary  ","label","Calculer",1,"me-2","ms-2",3,"onClick"],[4,"ngIf"],[1,"card","flex","justify-content-center"],["header","Header",3,"visibleChange","visible"],[1,"col-12","shadow-lg"],[1,"card-header","m-2"],[1,"flex","flex-column","xl:flex-row","xl:align-items-start","p-4","gap-4"],[1,"row"],[1,"col","m-2","shadow-lg","p-4","rounded-4","w-25"],[1,"fs-3","fw-bold","text-900","text-primary-600"],[1,"pi","pi-tag","text-success"],[1,"fs-3","text-muted","p-2","mt-2"],["rows","5","cols","30","disabled","","pInputTextarea","",3,"ngModelChange","ngModel"],[1,"p-2","justify-content-start"],[1,"row-gap-1","p-2","shadow-sm"],[1,"col"],[1,"fs-5","pi","pi-calendar","text-muted","p-2","mt-2"],[1,"card-text","font-bold","text-primary-600","pi","pi-calendar","p-1"],[1,"fs-5","text-muted","p-2","mt-2","pi","pi-calendar"],[1,"card-text","font-bold","text-primary-600","p-1","pi","pi-calendar"],[1,"col","rounded-4","shadow-lg"],[1,"row","g-3","p-5","shadow-sm"],[1,"form-label","fw-bold","fs-5"],["pTooltip"," prix unitaire  d'achat","mode","currency","inputId","currency-india","currency","TND","currencyDisplay","code","locale","en-IN",3,"ngModelChange","readonly","ngModel"],["pTooltip","Gain de produit pour le prix unitaire  d'achat","mode","currency","inputId","currency-india","currency","TND","currencyDisplay","code","locale","en-IN",3,"ngModelChange","readonly","ngModel"],["pTooltip","prix gros  d'achat","mode","currency","inputId","currency-india","currency","TND","currencyDisplay","code","locale","en-IN",3,"ngModelChange","readonly","ngModel"],["pTooltip","Gain de produit pour le prix gros","mode","currency","inputId","currency-india","currency","TND","currencyDisplay","code","locale","en-IN",3,"ngModelChange","readonly","ngModel"],["inputId","integeronly","inputId","minmax-buttons",3,"ngModelChange","readonly","ngModel","showButtons","min"],["icon","pi pi-shopping-cart","pBadge","","size","large",1,"m-2",3,"value"],["currentPageReportTemplate","Affichage {first} \xe0 {last} sur {totalRecords} \xe9l\xe9ments","dataKey","id",3,"selectionChange","scrollable","value","selection","globalFilterFields","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","sortField","sortOrder"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","flex-wrap","justify-content-between"],[1,"flex","justify-content-start"],[1,"p-input-icon-left",2,"justify-content","flex-end"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Rechercher ...",1,"p-inputtext",3,"ngModelChange","input","ngModel"],[1,"flex","justify-content-end"],["label","Collapes to Facture","icon","pi pi-file-check",1,"ml-2",3,"click"],[1,"fs-4"],[2,"width","5%"],["pSortableColumn","paye"],["field","paye"],["pSortableColumn","dateVente"],["field","dateVente"],["pSortableColumn","client.firstname"],["field","client.firstname"],["pSortableColumn","total",2,"width","10%","color","#0056b3"],["field","total"],["pSortableColumn","reglement",2,"width","10%","color","#0056b3"],["field","reglement"],["pSortableColumn","employer.lastname",2,"width","10%","color","#0056b3"],["field","employer.lastname"],[2,"width","25%","color","#0056b3"],["type","boolean","field","paye"],["type","text","field","dateVente","placeholder","by dateVente","ariaLabel","Filter dateVente"],["type","text","field","client.firstname","placeholder","by client.firstname","ariaLabel","Filter client.firstname"],["type","text","field","total","placeholder","by total","ariaLabel","Filter total"],["type","text","field","reglement","placeholder","by reglement","ariaLabel","Filter reglement"],["type","text","field","employer.lastname","placeholder","by employer.lastname","ariaLabel","Filter employer.lastname"],[3,"ngClass"],[3,"value"],[1,"pi",3,"ngClass"],[1,"fw-bold",2,"width","10%"],[1,"text-success","fw-bold",2,"width","10%"],[2,"width","25%"],[1,"shadow-lg","m-2","rounded-2","w-100",3,"value"],["icon","pi pi-times","styleClass","p-button-rounded p-button-danger p-button-text p-button-raised",3,"click"],[2,"width","35%"],[2,"width","30%"],[1,"float-end",2,"width","5%"],["icon","pi pi-eye","styleClass","p-button-rounded-sm p-button-primary p-button-outlined p-button-text",3,"click"],[3,"ngClass",4,"ngIf"],["icon","pi pi-eye","styleClass","p-button-rounded p-button-primary p-button-text",3,"click"],[1,"text-success"]],template:function(r,o){1&r&&(t.j41(0,"div",1)(1,"p-toolbar",2)(2,"div",3)(3,"div",4)(4,"button",5),t.bIt("click",function(){return o.refrech()}),t.k0s()(),t.j41(5,"div",6)(6,"p-button",7),t.bIt("click",function(){return o.toggleTable()}),t.k0s()(),t.j41(7,"div",6),t.DNE(8,Qv,1,4,"p-avatar",8),t.k0s()()(),t.j41(9,"div",9)(10,"div",10),t.EFF(11,"Total Ventes"),t.k0s(),t.j41(12,"div",11),t.EFF(13),t.nI1(14,"number"),t.k0s(),t.j41(15,"div",12)(16,"div",4),t.EFF(17," Date Debut : "),t.j41(18,"input",13),t.mxI("ngModelChange",function(l){return t.DH7(o.DateStart,l)||(o.DateStart=l),l}),t.k0s()(),t.j41(19,"div",4),t.EFF(20," Date Fin : "),t.j41(21,"input",13),t.mxI("ngModelChange",function(l){return t.DH7(o.DateFin,l)||(o.DateFin=l),l}),t.k0s()(),t.j41(22,"div",4)(23,"p-button",14),t.bIt("onClick",function(){return o.getAllTotal()}),t.k0s()()(),t.DNE(24,nC,6,13,"div",15),t.j41(25,"div",16)(26,"p-dialog",17),t.mxI("visibleChange",function(l){return t.DH7(o.visibleDetails,l)||(o.visibleDetails=l),l}),t.j41(27,"div",18),t.nrm(28,"div",19),t.j41(29,"div",20)(30,"div",21)(31,"div",22)(32,"div",23),t.nrm(33,"span",24),t.EFF(34),t.k0s(),t.j41(35,"div",25)(36,"div",21),t.EFF(37," D\xe9scription"),t.k0s(),t.j41(38,"div",21)(39,"textarea",26),t.mxI("ngModelChange",function(l){return t.DH7(o.product.description,l)||(o.product.description=l),l}),t.k0s()()(),t.nrm(40,"div",27),t.j41(41,"div",28)(42,"div",29)(43,"label",30),t.EFF(44,"Date Fabrication :"),t.k0s(),t.j41(45,"p",31),t.EFF(46),t.nI1(47,"date"),t.k0s()(),t.j41(48,"div",29)(49,"label",32),t.EFF(50,"Date Expiration :"),t.k0s(),t.j41(51,"p",33),t.EFF(52),t.nI1(53,"date"),t.k0s()()()(),t.j41(54,"div",34)(55,"div",35)(56,"div",29)(57,"label",36),t.EFF(58,"Prix unitaire "),t.k0s(),t.j41(59,"p-inputNumber",37),t.mxI("ngModelChange",function(l){return t.DH7(o.product.prixUnitaire,l)||(o.product.prixUnitaire=l),l}),t.k0s()(),t.j41(60,"div",29)(61,"label",36),t.EFF(62," Gain unitaire"),t.k0s(),t.j41(63,"p-inputNumber",38),t.mxI("ngModelChange",function(l){return t.DH7(o.product.gainUnitaire,l)||(o.product.gainUnitaire=l),l}),t.k0s()(),t.j41(64,"div",29)(65,"label",36),t.EFF(66,"Prix gros "),t.k0s(),t.j41(67,"p-inputNumber",39),t.mxI("ngModelChange",function(l){return t.DH7(o.product.prixGros,l)||(o.product.prixGros=l),l}),t.k0s()(),t.j41(68,"div",29)(69,"label",36),t.EFF(70,"Gain gros "),t.k0s(),t.j41(71,"p-inputNumber",40),t.mxI("ngModelChange",function(l){return t.DH7(o.product.gainGros,l)||(o.product.gainGros=l),l}),t.k0s()()(),t.j41(72,"div",35)(73,"div",29)(74,"label",36),t.EFF(75,"Quantit\xe9 actuelle "),t.k0s(),t.j41(76,"p-inputNumber",41),t.mxI("ngModelChange",function(l){return t.DH7(o.product.qantite,l)||(o.product.qantite=l),l}),t.k0s()(),t.j41(77,"div",29)(78,"label",36),t.EFF(79,"Quantit\xe9 min gros "),t.k0s(),t.j41(80,"p-inputNumber",41),t.mxI("ngModelChange",function(l){return t.DH7(o.product.minQuantiteGros,l)||(o.product.minQuantiteGros=l),l}),t.k0s()()()()()()()()(),t.DNE(81,rC,2,1,"div",15),t.k0s()()),2&r&&(t.R7$(8),t.Y8G("ngIf",o.displayusers),t.R7$(5),t.SpI(" ",t.i5U(14,29,o.total.toFixed(3),"1.3-3")," TND "),t.R7$(5),t.R50("ngModel",o.DateStart),t.R7$(3),t.R50("ngModel",o.DateFin),t.R7$(3),t.Y8G("ngIf",o.displayusers),t.R7$(2),t.Aen(t.lJ4(36,Kv)),t.R50("visible",o.visibleDetails),t.R7$(8),t.SpI(" ",o.product.nom,""),t.R7$(5),t.R50("ngModel",o.product.description),t.R7$(7),t.SpI("",t.bMT(47,32,o.product.dateFabrication)," "),t.R7$(6),t.SpI("",t.bMT(53,34,o.product.dateExpiration)," "),t.R7$(7),t.Y8G("readonly",!0),t.R50("ngModel",o.product.prixUnitaire),t.R7$(4),t.Y8G("readonly",!0),t.R50("ngModel",o.product.gainUnitaire),t.R7$(4),t.Y8G("readonly",!0),t.R50("ngModel",o.product.prixGros),t.R7$(4),t.Y8G("readonly",!0),t.R50("ngModel",o.product.gainGros),t.R7$(5),t.Y8G("readonly",!0),t.R50("ngModel",o.product.qantite),t.Y8G("showButtons",!0)("min",0),t.R7$(4),t.Y8G("readonly",!0),t.R50("ngModel",o.product.minQuantiteGros),t.Y8G("showButtons",!0)("min",0),t.R7$(),t.Y8G("ngIf",o.ventes&&0===o.ventes.length))},dependencies:[V.YN,V.me,V.BC,V.vS,Ie.O3,Ie.YI,L.Ei,d.tm,d._f,d.$n,H.bG,H.XI,H.Tg,H.yc,H.S9,H.nA,H.rl,h.oe,be.P,be.l,h.vh,h.MD,h.YU,h.bT,h.QX,J.Z,J.n,xe.m,xe.M,Ce.m,Ce.e,Te.EJ,Te.FO],styles:[".row-even[_ngcontent-%COMP%]{background-color:#fff}.row-odd[_ngcontent-%COMP%]{background-color:#d9d7ceba}"]})}return n})();var ho=_(6995),aC=_(6852);let gC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD,d.tm,L.Gg,Pe.A,d.tm,L.Gg]})}return n})();var fo=_(6160),go=_(4602),bo=_(5875),bC=_(8936);let wC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[h.MD,c.iI,J.Z,at.S,L.Gg,at.S,c.iI]})}return n})();var To=_(5901),Io=_(4827);let si=(()=>{class n{constructor(i){this.http=i,this.api=Ue.c.apiUrl+"/servicecomp"}getServices(){const i=(0,re.gf)();if(console.log(i),i){const r=(new ie.Lr).set("Authorization",`Bearer ${i}`).set("Content-Type","application/json; charset=utf8");return this.http.get(`${this.api}/read`,{headers:r})}return new D.c}getServiceById(i){const r=(0,re.gf)();if(console.log(r),r){const o=(new ie.Lr).set("Authorization",`Bearer ${r}`).set("Content-Type","application/json; charset=utf8");return this.http.get(`${this.api}/getServiceCompById/`+i,{headers:o})}return new D.c}addService(i){const r=(0,re.gf)();if(r){const o=new ie.Lr({Authorization:`Bearer ${r}`,"Content-Type":"application/json; charset=utf-8"}),a={...i,dateDebutService:this.formatDate(i.dateDebutService),dateFinService:this.formatDate(i.dateFinService),users:i.users.map(l=>({id:l.id}))};return this.http.post(`${this.api}/create`,a,{headers:o})}return new D.c(o=>{o.error("Token non disponible")})}formatDate(i){return`${i.getFullYear()}-${(i.getMonth()+1).toString().padStart(2,"0")}-${i.getDate().toString().padStart(2,"0")}`}updateService(i){const r=(0,re.gf)();if(console.error(i),r){const o=(new ie.Lr).set("Authorization",`Bearer ${r}`).set("Content-Type","application/json; charset=utf8");let a={...i,users:[]};return i.users.forEach(l=>{a.users.push({id:l.id})}),console.log(JSON.stringify(a)),this.http.put(`${this.api}/update`,a,{headers:o})}return new D.c}deleteService(i){const r=(0,re.gf)();if(console.log(r),r){const o=(new ie.Lr).set("Authorization",`Bearer ${r}`).set("Content-Type","application/json; charset=utf8");return this.http.delete(this.api+"/delete/"+i,{headers:o})}return new D.c}static#e=this.\u0275fac=function(r){return new(r||n)(t.KVO(ie.Qq))};static#t=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yo=_(7818);const SC=["dv"],kC=["searchInput"],FC=["dtProduitsFiltres"],DC=["dtProduitsFiltreservice"],OC=["dt3"],MC=["ajouterProduitButton"],xo=()=>({"min-width":"50rem"}),RC=()=>({width:"50rem"}),jC=()=>({"1199px":"75vw","575px":"90vw"}),Eo=()=>({width:"70rem"}),PC=()=>["nom","description","dataqr","dateF","dateE"],AC=()=>({width:"40vw"}),LC=()=>["nomServiceComp","description","dataqr","dateF","dateE"],BC=()=>({width:"90%","max-width":"800px",height:"auto","max-height":"90vh"}),VC=()=>({width:"250px"}),GC=()=>({width:"20%","max-width":"400px",height:"auto","max-height":"40vh"}),NC=()=>({width:"70%","max-width":"1200px",height:"auto","max-height":"100vh"}),kt=n=>({activeBtn:n}),ai=n=>({active:n}),UC=(n,s,i,r)=>({"background-color":n,"border-color":s,color:i,outline:r}),$C=()=>({"background-color":"#ffffff",color:"rgba(107,232,80,0.73)"}),HC=()=>({width:"50px"}),KC=n=>[n],XC=(n,s)=>({"text-green-500 pi-check-circle":n,"text-red-500 pi-times-circle":s});function zC(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",84)(1,"div",85)(2,"label",17),t.EFF(3,"Facture"),t.k0s(),t.j41(4,"button",86),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.onButtonClick(1))}),t.k0s()(),t.j41(5,"div",87)(6,"label",17),t.EFF(7,"Ajouter Produit"),t.k0s(),t.j41(8,"button",88),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.onButtonClick(2))}),t.k0s()(),t.j41(9,"div",87)(10,"label",17),t.EFF(11,"Focus"),t.k0s(),t.j41(12,"button",89),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.onButtonClick(3))}),t.k0s()(),t.j41(13,"div",87)(14,"label",17),t.EFF(15,"Recherche"),t.k0s(),t.j41(16,"button",90),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.onButtonClick(11))}),t.k0s()(),t.j41(17,"div",87)(18,"label",17),t.EFF(19,"Vider"),t.k0s(),t.j41(20,"button",91),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.onButtonClick(9))}),t.k0s()(),t.j41(21,"div",87)(22,"label",17),t.EFF(23,"Encaisser"),t.k0s(),t.j41(24,"button",92),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.onButtonClick(10))}),t.k0s()(),t.j41(25,"div",93)(26,"span",94),t.EFF(27,"Auto "),t.k0s(),t.j41(28,"p-toggleButton",95),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.selectedVente.isPrint,o)||(a.selectedVente.isPrint=o),t.Njj(o)}),t.k0s()(),t.j41(29,"div",87)(30,"label",17),t.EFF(31,"Masquer"),t.k0s(),t.j41(32,"button",96),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.onButtonClick(8))}),t.k0s()(),t.j41(33,"div",87)(34,"label",17),t.EFF(35,"Cloture"),t.k0s(),t.j41(36,"button",97),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.onButtonClick(7))}),t.k0s()(),t.j41(37,"div",87)(38,"label",17),t.EFF(39,"Accueil"),t.k0s(),t.j41(40,"button",98),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.onButtonClick(6))}),t.k0s()()()}if(2&n){const i=t.XpG();t.R7$(4),t.Y8G("ngClass",t.eq3(12,kt,i.isButtonFocused(1))),t.R7$(4),t.Y8G("ngClass",t.eq3(14,kt,i.isButtonFocused(2))),t.R7$(4),t.Y8G("ngClass",t.eq3(16,kt,i.isButtonFocused(3))),t.R7$(4),t.Y8G("ngClass",t.eq3(18,kt,i.isButtonFocused(11))),t.R7$(4),t.Y8G("ngClass",t.eq3(20,kt,i.isButtonFocused(9))),t.R7$(4),t.Y8G("ngClass",t.eq3(22,ai,i.isButtonFocused(10))),t.R7$(4),t.Aen(t.ziG(24,UC,i.selectedVente.isPrint?"#28a745":"#d28181",i.selectedVente.isPrint?"#28a745":"#dc3545",i.selectedVente.isPrint?"white":"black",i.selectedVente.isPrint?"2px solid #28a745":"2px solid #dc3545")),t.R50("ngModel",i.selectedVente.isPrint),t.R7$(4),t.Y8G("ngClass",t.eq3(29,ai,i.isButtonFocused(8))),t.R7$(4),t.Y8G("ngClass",t.eq3(31,ai,i.isButtonFocused(7))),t.R7$(4),t.Y8G("ngClass",t.eq3(33,ai,i.isButtonFocused(6)))}}function YC(n,s){if(1&n){const i=t.RV6();t.j41(0,"span",99),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.showDialogueClient=!o.showDialogueClient)}),t.k0s()}}function WC(n,s){if(1&n&&(t.j41(0,"div",100),t.nrm(1,"p-chip",101),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.FS9("label",i.selectedVente.client.firstname.toString()),t.Y8G("removable",!1)("styleClass","custom-green-chip")}}function QC(n,s){if(1&n&&(t.j41(0,"tr")(1,"th",102),t.EFF(2,"Nom Produit"),t.k0s(),t.j41(3,"th",102),t.EFF(4,"Code Barre"),t.k0s(),t.j41(5,"th",102),t.EFF(6,"Date"),t.k0s(),t.j41(7,"th",102),t.EFF(8,"Qty Min Gros"),t.k0s(),t.j41(9,"th",102),t.EFF(10,"Prix Vente (TND)"),t.k0s(),t.j41(11,"th",102),t.EFF(12,"Quantit\xe9 vente"),t.k0s(),t.j41(13,"th",102),t.EFF(14,"Total"),t.k0s(),t.j41(15,"th",103),t.nrm(16,"p-avatar",104),t.k0s()()),2&n){const i=t.XpG();t.R7$(16),t.Aen(t.lJ4(3,$C)),t.Y8G("value",i.TotalProductNb+"")}}function qC(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td")(2,"span",105),t.EFF(3),t.k0s()(),t.j41(4,"td"),t.nrm(5,"span",106),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"label",107),t.EFF(9),t.nI1(10,"date"),t.k0s(),t.j41(11,"label",107),t.EFF(12),t.nI1(13,"date"),t.k0s()(),t.j41(14,"td"),t.EFF(15),t.k0s(),t.j41(16,"td"),t.EFF(17),t.nI1(18,"number"),t.k0s(),t.j41(19,"td")(20,"p-inputNumber",108),t.mxI("ngModelChange",function(o){const a=t.eBV(i).$implicit;return t.DH7(a.venteQty,o)||(a.venteQty=o),t.Njj(o)}),t.bIt("ngModelChange",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.updatePrixVente(o))}),t.k0s()(),t.j41(21,"td"),t.EFF(22),t.nI1(23,"number"),t.k0s(),t.j41(24,"td")(25,"p-button",109),t.bIt("click",function(){const o=t.eBV(i).rowIndex,a=t.XpG();return t.Njj(a.supprimerProduit(o))}),t.k0s()()()}if(2&n){const i=s.$implicit;t.R7$(3),t.JRh(i.produit.nom),t.R7$(3),t.SpI("",i.produit.dataqr," "),t.R7$(3),t.SpI(" FAB : ",t.i5U(10,12,i.produit.dateFabrication,"yyyy-MM-dd"),""),t.R7$(3),t.SpI("EXP : ",t.i5U(13,15,i.produit.dateExpiration,"yyyy-MM-dd"),""),t.R7$(3),t.SpI(" ",i.produit.minQuantiteGros," "),t.R7$(2),t.JRh(t.i5U(18,18,i.prixVente,"1.3-3")),t.R7$(3),t.R50("ngModel",i.venteQty),t.Y8G("showButtons",!0)("min",1)("max",i.produit.qantite)("inputStyle",t.lJ4(23,HC)),t.R7$(2),t.JRh(t.bMT(23,21,i.venteQty*i.prixVente))}}function JC(n,s){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"ID"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Code Barre/QR"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Nom"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Prix Unitaire"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Prix Gros"),t.k0s(),t.j41(11,"th"),t.EFF(12,"Quantit\xe9"),t.k0s(),t.j41(13,"th"),t.EFF(14,"Qte Gros Min"),t.k0s(),t.j41(15,"th"),t.EFF(16,"Action"),t.k0s()())}function ZC(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td")(16,"button",110,4),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.ajouterProduit(o))}),t.k0s()()()}if(2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.id),t.R7$(2),t.JRh(i.dataqr),t.R7$(2),t.JRh(i.nom),t.R7$(2),t.JRh(i.prixUnitaire+i.gainUnitaire),t.R7$(2),t.JRh(i.prixGros+i.gainGros),t.R7$(2),t.JRh(i.qantite),t.R7$(2),t.JRh(i.minQuantiteGros),t.R7$(2),t.Mz_("id","addp",i.id,"")}}function eT(n,s){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"ID"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Code Barre/QR"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Nom"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Prix Unitaire"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Prix Gros"),t.k0s(),t.j41(11,"th"),t.EFF(12,"Quantit\xe9"),t.k0s(),t.j41(13,"th"),t.EFF(14,"Qte Gros Min"),t.k0s(),t.j41(15,"th"),t.EFF(16,"Action"),t.k0s()())}function tT(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td")(16,"button",110,4),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.ajouterProduit(o))}),t.k0s()()()}if(2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.id),t.R7$(2),t.JRh(i.dataqr),t.R7$(2),t.JRh(i.nom),t.R7$(2),t.JRh(i.prixUnitaire+i.gainUnitaire),t.R7$(2),t.JRh(i.prixGros+i.gainGros),t.R7$(2),t.JRh(i.qantite),t.R7$(2),t.JRh(i.minQuantiteGros),t.R7$(2),t.Mz_("id","addp",i.id,"")}}function iT(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",111)(1,"div")(2,"h1",112),t.EFF(3,"Sauvegarder la cl\xf4ture de caisse"),t.k0s(),t.j41(4,"div",113)(5,"h4",114),t.EFF(6,"D\xe9tails de la cl\xf4ture"),t.k0s(),t.j41(7,"div",115)(8,"div",116)(9,"span",117),t.EFF(10,"Total cl\xf4ture"),t.k0s()(),t.j41(11,"div",116)(12,"span",118),t.EFF(13),t.k0s(),t.j41(14,"span",119),t.EFF(15,"TND"),t.k0s()()(),t.j41(16,"div",120)(17,"div",121)(18,"label",122),t.EFF(19,"Montant Esp\xe9ce "),t.k0s(),t.j41(20,"p-inputNumber",123),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.cloture.montantClotureEspece,o)||(a.cloture.montantClotureEspece=o),t.Njj(o)}),t.k0s()()()()(),t.j41(21,"div",124)(22,"button",125),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.saveCloture())}),t.k0s()()()}if(2&n){const i=t.XpG();t.R7$(13),t.JRh(i.TotalAndReglement.total.toFixed(3)),t.R7$(7),t.Y8G("size",24),t.R50("ngModel",i.cloture.montantClotureEspece)}}function nT(n,s){1&n&&t.nrm(0,"span",126)}function oT(n,s){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"ID"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Nom"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Description"),t.k0s(),t.j41(7,"th"),t.EFF(8,"g"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Quantit\xe9"),t.k0s(),t.j41(11,"th"),t.EFF(12,"Qte Gros Min"),t.k0s(),t.j41(13,"th"),t.EFF(14,"Action"),t.k0s()())}function rT(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td")(16,"button",110,4),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.ajouterProduit(o))}),t.k0s()()()}if(2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.id),t.R7$(2),t.JRh(i.dataqr),t.R7$(2),t.JRh(i.nom),t.R7$(2),t.JRh(i.prixUnitaire+i.gainUnitaire),t.R7$(2),t.JRh(i.prixGros+i.gainGros),t.R7$(2),t.JRh(i.qantite),t.R7$(2),t.JRh(i.minQuantiteGros),t.R7$(2),t.Mz_("id","addp",i.id,"")}}function sT(n,s){1&n&&(t.j41(0,"tr",128)(1,"th"),t.EFF(2,"Nom"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Pr\xe9nom"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Email"),t.k0s(),t.j41(7,"th"),t.EFF(8,"T\xe9l\xe9phone"),t.k0s()())}function aT(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.firstname),t.R7$(2),t.JRh(i.lastname),t.R7$(2),t.JRh(i.email),t.R7$(2),t.JRh(i.telephone)}}function lT(n,s){if(1&n&&(t.j41(0,"p-table",127),t.DNE(1,sT,9,0,"ng-template",39)(2,aT,9,4,"ng-template",40),t.k0s()),2&n){const i=t.XpG();t.Y8G("value",t.eq3(1,KC,i.selectedVente.client))}}function cT(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"p-button",129),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.CalculeMontantFiltrer())}),t.k0s(),t.bVm()}2&n&&(t.R7$(),t.Y8G("outlined",!0))}function dT(n,s){if(1&n&&(t.j41(0,"div")(1,"span",130),t.EFF(2,"Total Montant :"),t.k0s(),t.j41(3,"span",130),t.EFF(4),t.k0s()()),2&n){const i=t.XpG();t.R7$(4),t.JRh(i.totalMontantFiltre)}}function pT(n,s){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Date"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Description"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Montant"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Status"),t.k0s(),t.nrm(9,"th"),t.k0s())}function uT(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.nI1(3,"date"),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td"),t.nrm(9,"i",133),t.k0s(),t.j41(10,"td")(11,"p-button",134),t.bIt("click",function(){const o=t.eBV(i).rowIndex,a=t.XpG(2);return t.Njj(a.deleteTrancheNewFacture(o))}),t.k0s()()()}if(2&n){const i=s.$implicit;t.R7$(2),t.JRh(t.i5U(3,6,i.dateEcheance,"yyyy-MM-dd")),t.R7$(3),t.JRh(i.description),t.R7$(2),t.JRh(i.montantTranche),t.R7$(2),t.Y8G("ngClass",t.l_i(9,XC,i.statutPayement,!i.statutPayement)),t.R7$(2),t.Y8G("rounded",!0)("outlined",!0)}}function _T(n,s){if(1&n&&(t.j41(0,"div",131)(1,"p-table",132,5),t.DNE(3,pT,10,0,"ng-template",39)(4,uT,12,12,"ng-template",40),t.k0s()()),2&n){const i=t.XpG();t.R7$(),t.Y8G("value",i.newFacture.tranches)("tableStyle",t.lJ4(2,xo))}}function mT(n,s){if(1&n){const i=t.RV6();t.j41(0,"h6",135),t.EFF(1,"NB : Les champs avec des \xe9toiles rouges sont des champs obligatoires"),t.k0s(),t.j41(2,"div",136)(3,"button",137),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.returnBack())}),t.k0s(),t.j41(4,"button",138),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.createNewFacture())}),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(4),t.FS9("label",0==i.newFacture.id?"Ajouter":"Enregistrer")}}let hT=(()=>{class n{formatDate(i){return`${i.getFullYear()}-${("0"+(i.getMonth()+1)).slice(-2)}-${("0"+i.getDate()).slice(-2)}`}ngOnInit(){this.getAllProduits(),this.getAllServices(),this.getAllClient(),this.onValueChange(),this.messages1=[{severity:"error",summary:"Error",detail:"Pas des images"}]}ngAfterViewChecked(){this.cdRef.detectChanges()}toggleDivVisibility(){this.divVisible=!this.divVisible}constructor(i,r,o,a,l,p,S,O,N,ne,_e,Ee,ke){this.produitService=i,this.serviceCompService=r,this.userService=o,this.clotureService=a,this.renderer=l,this.route=p,this.messageService=S,this.sanitizer=O,this.confirmationService=N,this.trancheService=ne,this.factureService=_e,this.router=Ee,this.cdRef=ke,this.focusIndex=0,this.searchTerm="",this.searchTermFilter="",this.searchTermFilterService="",this.produits=[],this.services=[],this.produitsFiltres=[],this.serviceFiltres=[],this.cloture=new bC.p,this.listeVente=[],this.selectedVente=new ho.l,this.checked=!0,this.divVisible=!0,this.visible=!1,this.show=!1,this.position="top",this.loading=!0,this.IsvisiblePop=!1,this.layout="list",this.autoimprimer=!1,this.visibleimage=!1,this.frais=0,this.reglement=0,this.sidebarVisibleFacture=!1,this.searchTable=!1,this.searchTableService=!1,this.TotalProductNb=0,this.TotalAndReglement={total:0,reglement:0},this.utilisateursClients=[],this.stateOptions=[{label:"Client",TypeUserSelected:"Client"},{label:"Passager",TypeUserSelected:"Passager"}],this.TypeUserSelected="Passager",this.messages1=[],this.safeImageUrl=[],this.productSaveUrl=[],this.top=top,this.showDialogueClient=!1,this.showPay=!1,this.showDialogTranche=!1,this.Newtranche=new St._,this.montantFiltreCalcule=!1,this.totalMontantFiltre=0,this.newFacture=new yt,this.listeVente.push(this.selectedVente),this.reglement=this.selectedVente.total}getAllClient(){this.userService.getUsersClient().subscribe(i=>{this.utilisateursClients=i})}confirm1(){this.messageService.add({severity:"info",summary:"Confirmed",detail:"Vente Paye\xe9 avec Success"}),this.selectedVente.paye=!0,this.SaveVente(),this.showPay=!1}confirm2(){this.selectedVente.paye=!1,this.createNewFacture(),this.showPay=!1}SaveVente(){console.log((new h.TG).transform(this.selectedVente)),0!=this.selectedVente.lignesVente.length?(this.getTotalVente(),this.selectedVente.reglement=this.reglement,this.produitService.SaveVente(this.selectedVente).subscribe(i=>{i&&(this.messageService.add({key:"tc",severity:"success",summary:"Succ\xe8s",detail:"Votre Vente est bien enregistr\xe9e"}),this.autoimprimer?this.confirmationService.confirm({message:"Votre vente est enregistr\xe9e. Voulez-vous imprimer le ticket ?",header:"Confirmation",accept:()=>{this.imprimer()}}):this.clearVente())})):this.messageService.add({key:"tc",severity:"error",summary:"Information",detail:"Pas de vente, SVP ajouter des produits"})}getAllProduits(){this.produitService.getProduits().subscribe(i=>{this.produits=i,this.produitsFiltres=i})}getAllServices(){this.loading=!0,this.serviceCompService.getServices().subscribe(i=>{this.services=i,this.loading=!1,console.table(i)},i=>{console.error("Error fetching services:",i),this.loading=!1,this.messageService.add({severity:"error",summary:"Oops...",detail:"Vous n'avez pas la permission, s'il vous pla\xeet contactez l'administrateur."})})}clearVente(){this.selectedVente.lignesVente=[],this.selectedVente.reglement=0,this.TotalProductNb=0}handleKeyDown(i){switch(i.key){case"F1":this.focusIndex=1,console.log("Focus set to Button 0"),this.sidebarVisibleFacture=!0;break;case"F2":this.focusIndex=2,i.preventDefault(),console.log("Focus set to Button 1"),null!=this.ajouterProduitButton&&this.ajouterProduitButton.nativeElement.click(),this.searchTerm="";break;case"Enter":break;case"F3":this.searchTerm="",this.focusIndex=3,i.preventDefault(),console.log("Focus set to Button 2"),this.focusOnSearchInput();break;case"F4":this.focusIndex=4,i.preventDefault(),console.log("Focus set to Button 3"),this.showDialog();break;case"F5":this.focusIndex=5,i.preventDefault(),console.log("Focus set to Button 4"),this.searchTable=!0;break;case"F6":this.focusIndex=6,this.route.navigate(["/"]);break;case"F7":this.focusIndex=7,i.preventDefault(),console.log("Focus set to Button 6!"),this.showClotureDIv();break;case"F8":this.focusIndex=8,this.toggleDivVisibility();break;case"F10":this.focusIndex=10,this.showPay=!0;break;case"F9":this.focusIndex=9,0!=this.selectedVente.lignesVente.length?$().fire({title:"Vous \xe9tes sur ?",text:"supprission d\xe9finitif",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, Vider Tout"}).then(r=>{r.isConfirmed&&(this.clearVente(),$().fire({title:"Vider!",text:"Votre vente est bien effac\xe9",icon:"success"}))}):$().fire({title:"Vider ?",text:"Votre vente est d\xe9ja vide",icon:"info"})}}onButtonClick(i){switch(i){case 1:this.focusIndex=1,this.sidebarVisibleFacture=!0;break;case 2:this.focusIndex=2,console.log("Focus set to Button 1"),null!=this.ajouterProduitButton&&this.ajouterProduitButton.nativeElement.click(),this.searchTerm="";break;case 3:this.searchTerm="",this.focusIndex=3,console.log("Focus set to Button 2"),this.focusOnSearchInput();break;case 4:this.focusIndex=4,console.log("Focus set to Button 3"),this.showDialog();break;case 5:this.focusIndex=5,console.log("Focus set to Button 4"),this.focusOnSupprimerButton();break;case 6:this.focusIndex=6,this.route.navigate(["/"]);break;case 7:this.focusIndex=7,console.log("Focus set to Button 6!"),this.showClotureDIv();break;case 8:this.focusIndex=8,this.toggleDivVisibility();break;case 10:this.focusIndex=10,this.showPay=!0;break;case 11:this.focusIndex=11,this.searchTable=!0;break;case 9:0!=this.selectedVente.lignesVente.length?$().fire({title:"Vous \xe9tes sur ?",text:"suprission d\xe9finitif",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, Vider Tout"}).then(r=>{r.isConfirmed&&(this.clearVente(),$().fire({title:"Vider!",text:"Votre vente est bien effac\xe9",icon:"success"}))}):$().fire({title:"Vider ?",text:"Votre vente est d\xe9ja vide",icon:"info"})}}isButtonFocused(i){return this.focusIndex===i}focusOnSearchInput(){this.searchInput&&this.searchInput.nativeElement&&this.searchInput.nativeElement.focus()}focusOnQuantityInput(){this.renderer.selectRootElement('.table input[type="number"]')&&this.renderer.selectRootElement('.table input[type="number"]').focus()}focusOnSupprimerButton(){if(this.selectedVente.lignesVente.length>0){const i=document.getElementById("suppLigneVente");i&&i.focus()}}createImageUrl(i){const r=URL.createObjectURL(i);return this.sanitizer.bypassSecurityTrustUrl(r)}loadFile(i){this.safeImageUrl=[],this.visibleimage=!0,console.error(i),i.forEach(r=>{this.produitService.getImageProduit(r.name).subscribe(o=>{const a=new FileReader;a.onloadend=()=>{const l=URL.createObjectURL(o);this.safeImageUrl.push(l)},a.readAsText(o)},o=>{console.error("Error loading file:",o)})})}search(){""!==this.searchTerm.trim()&&(this.produitsFiltres=[],this.produitService.getProduitByQrNom(this.searchTerm).subscribe(i=>{null!=i&&(this.produitsFiltres.push(i),this.visible=this.IsvisiblePop),0==this.IsvisiblePop&&this.ajouterProduit(i)}))}showTopCenter(i){this.messageService.add({key:"tc",severity:"warn",summary:"Warn",detail:i})}ajouterProduitSelectionne(i){if(i){const r=i,o=this.selectedVente.lignesVente.find(a=>a.produit.id===r.id);if(o)o.venteQty<o.produit.qantite?o.venteQty+=1:this.showTopCenter("Quantit\xe9 "+o.produit.nom+" est Depass\xe9il vous reste "+o.produit.qantite);else{const a=new aC.A;a.id=r.id,a.venteQty=1,a.prixVente=r.prixUnitaire+r.gainUnitaire,a.produit=r,this.selectedVente.lignesVente.unshift(a),this.focusOnSearchInput()}}this.searchTerm=""}updatePrixVente(i){const r=i.produit;i.prixVente=i.venteQty>=r.minQuantiteGros?r.prixUnitaire+r.gainGros:r.prixUnitaire+r.gainUnitaire,this.getTottalNbProduct()}getTottalNbProduct(){this.TotalProductNb=0,this.selectedVente.lignesVente.forEach(i=>{this.TotalProductNb+=i.venteQty})}ajouterProduit(i){this.produitsFiltres.length>0&&(this.ajouterProduitSelectionne(i),this.getTottalNbProduct())}getSommeTotale(){let i=0;for(const r of this.selectedVente.lignesVente)i+=r.venteQty*r.prixVente;return i}getSommeTaxes(){let i=0;for(const r of this.selectedVente.lignesVente)i+=r.produit.taxe*r.venteQty;return i}supprimerProduit(i){i>=0&&i<this.selectedVente.lignesVente.length&&(this.selectedVente.lignesVente.splice(i,1),this.getTottalNbProduct())}supprimerService(i){i>=0&&i<this.selectedVente.lignesVente.length&&this.selectedVente.lignesVente.splice(i,1)}imprimer(){const i=document.getElementById("contenuImprimerTICKet");i&&$().fire({title:"Imprission",html:i.innerHTML,width:800,heightAuto:!0,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Imprimer"}).then(r=>{if(r.isConfirmed&&i){const o=window.open("","PRINT","width=600,height=600");o?(o.document.write('<html lang="fr"><head><title>Imprimer</title></head><body>'),o.document.write(i.innerHTML),o.document.write("</body></html>"),o.document.close(),o.print(),o.close(),this.clearVente()):console.error("La fen\xeatre d'impression n'a pas pu \xeatre ouverte.")}})}clear(i){i.clear()}getTotalVente(){const i=this.getSommeTotale()+this.getSommeTaxes()+this.frais;return this.selectedVente.total=i,this.selectedVente.reglement=i,this.reglement=i,this.selectedVente.total}showClotureDIv(){this.clotureService.getTotalClotureNow(new Date).subscribe(i=>{this.TotalAndReglement=i}),this.show=!this.show}saveCloture(){this.cloture.employer.id=(0,re.lL)().id,this.cloture.dateCloture=new Date,this.clotureService.SaveCloture(this.cloture).subscribe(i=>{console.log(i),this.show=!1,$().fire({icon:"success",title:"Succ\xe8s!",text:"La cl\xf4ture a \xe9t\xe9 enregistr\xe9e avec succ\xe8s!"})},i=>{$().fire({icon:"error",title:"Erreur!",text:"Une erreur est survenue lors de l'enregistrement de la cl\xf4ture. Veuillez r\xe9essayer."}),console.error("Erreur lors de l'enregistrement de la cl\xf4ture",i)})}showDialog(){var i=this;return(0,It.A)(function*(){yield $().fire({title:"Client Passager",input:"text",inputValue:"Passager "+(i.listeVente.length+1),inputLabel:"nom client!",inputPlaceholder:"nom du client passager",showCancelButton:!0,confirmButtonText:"Ajouter nouveau",cancelButtonText:"Deja Existe"}),0!=i.selectedVente.lignesVente.length?(i.selectedVente=new ho.l,i.listeVente.push(i.selectedVente),i.getTottalNbProduct(),console.log("ligne Ventes:",i.listeVente)):$().fire({title:"Vider  !",text:"Votre vente est d\xe9ja vid\xe9",icon:"error"})})()}switchVente(i){this.getTottalNbProduct(),this.selectedVente=i,console.log("SelectedVente",this.selectedVente)}deleteTrancheNewFacture(i){i>-1&&this.removeTranche(this.newFacture.tranches[i],i)}removeTranche(i,r){this.confirmationService.confirm({message:"Vous ne pourrez pas revenir en arri\xe8re !",header:"Es-tu s\xfbr ?",icon:"pi pi-exclamation-triangle",acceptLabel:"Oui, supprimez-le !",rejectLabel:"Non",acceptButtonStyleClass:"custom-accept-button",rejectButtonStyleClass:"custom-reject-button",accept:()=>{this.trancheService.deleteTranche(i.id).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Supprim\xe9",detail:"Votre tranche a \xe9t\xe9 supprim\xe9e!",life:2e3}),this.newFacture.tranches.splice(r,1)},error:o=>{this.messageService.add({severity:"error",summary:"Erreur",detail:"Il y a eu un probl\xe8me lors de la suppression.",life:2e3})}})},reject:()=>{this.messageService.add({severity:"error",summary:"Annuler",detail:"La supprission de tranche est annuler!.",life:1e3})}})}resetMontantFiltreCalcule(){}CalculeMontantFiltrer(){this.totalMontantFiltre=(this.table.filteredValue||this.newFacture.tranches).reduce((r,o)=>r+o.montantTranche,0),this.montantFiltreCalcule=!0}AddTrancheToNewFacture(){this.Newtranche.user=new Se.K,this.newFacture.tranches.push(this.Newtranche),this.Newtranche=new St._}returnBack(){this.factureService.returnBack()}createNewFacture(){this.saveFactureWithVente(),console.log("Contenu de la facture \xe0 enregistrer :",this.newFacture)}saveFactureWithVente(){this.newFacture.reglement=this.selectedVente.reglement,alert(this.selectedVente.reglement),this.newFacture.client=this.selectedVente.client,this.newFacture.lignesFacture=this.selectedVente.lignesVente.map(i=>new co(0,i.venteQty,i.prixVente*i.venteQty,i.produit,i.produit.prixUnitaire,i.prixVente,"NoAction")),this.newFacture.montant=this.getTotalVente(),this.newFacture.typeFacture=De.SORTIE,this.newFacture.montantTaxe=0,this.newFacture.dateCreation=this.selectedVente.dateVente,this.factureService.addFacture(this.newFacture).subscribe(i=>{i&&(this.messageService.add({severity:"info",summary:"Facture est bien enregistr\xe9",detail:"Vente Non Paye\xe9"}),this.clearVente())},i=>{this.messageService.add({severity:"error",summary:"Rejected",detail:i})}),console.log("new Facture---"+this.newFacture)}validateFacture(){return 0==this.newFacture.depot.id?(this.messageService.add({severity:"error",summary:"Erreur",detail:"Aucun D\xe9pot n'a \xe9t\xe9 s\xe9lectionn\xe9 pour la facture",life:3e3}),!1):0==this.newFacture.lignesFacture.length?(this.messageService.add({severity:"error",summary:"Erreur",detail:"Aucun produit n'a \xe9t\xe9 s\xe9lectionn\xe9 pour la facture",life:3e3}),!1):0==this.newFacture.client.id&&"FACTURE_ACHAT"!==this.newFacture.typeFacture?(this.messageService.add({severity:"error",summary:"Erreur",detail:"Aucun client n'a \xe9t\xe9 s\xe9lectionn\xe9 pour la facture",life:3e3}),!1):0!=this.newFacture.provider.id||"FACTURE_ACHAT"!=this.newFacture.typeFacture||(this.messageService.add({severity:"error",summary:"Erreur",detail:"Aucun Fournisseur n'a \xe9t\xe9 s\xe9lectionn\xe9 pour la facture",life:3e3}),!1)}filterProduits(){this.produitsFiltres=this.searchTermFilter?this.produits.filter(i=>i.id.toString().includes(this.searchTermFilter)||i.nom.includes(this.searchTermFilter)||i.description.includes(this.searchTermFilter)||i.dataqr.includes(this.searchTermFilter)||i.dateExpiration.toString().includes(this.searchTermFilter)||i.dateFabrication.toString().includes(this.searchTermFilter)):[...this.produits]}filterServices(){this.serviceFiltres=this.searchTermFilterService?this.services.filter(i=>i.id.toString().includes(this.searchTermFilter)||i.nomServiceComp.includes(this.searchTermFilter)||i.descriptionServiceComp.includes(this.searchTermFilter)||i.dateDebutService.toString().includes(this.searchTermFilter)||i.dateFinService.toString().includes(this.searchTermFilter)):[...this.services]}onValueChange(){"Passager"==this.TypeUserSelected?this.userService.getUserByEmail("Passager@client").subscribe(i=>{this.selectedVente.client=i}):"CLient"==this.TypeUserSelected?this.showDialogueClient=!0:this.TypeUserSelected="Passager"}SelectedClient(){this.onValueChange()}selectClient(){this.showDialogueClient=!1}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(Ve.D),t.rXU(si),t.rXU(Ke.D),t.rXU(yo.k),t.rXU(t.sFG),t.rXU(c.Ix),t.rXU(L.bg),t.rXU(Ct.up),t.rXU(L.td),t.rXU(ii),t.rXU(ni),t.rXU(c.Ix),t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-caisse"]],viewQuery:function(r,o){if(1&r&&(t.GBs(SC,5),t.GBs(kC,5),t.GBs(FC,5),t.GBs(DC,5),t.GBs(OC,5),t.GBs(MC,5)),2&r){let a;t.mGM(a=t.lsd())&&(o.dv=a.first),t.mGM(a=t.lsd())&&(o.searchInput=a.first),t.mGM(a=t.lsd())&&(o.dtProduitsFiltres=a.first),t.mGM(a=t.lsd())&&(o.dtProduitsFiltreservice=a.first),t.mGM(a=t.lsd())&&(o.table=a.first),t.mGM(a=t.lsd())&&(o.ajouterProduitButton=a.first)}},hostBindings:function(r,o){1&r&&t.bIt("keydown",function(l){return o.handleKeyDown(l)},!1,t.EBC)},standalone:!0,features:[t.aNF],decls:132,vars:97,consts:[["searchInput",""],["dtProduitsFiltres",""],["dtProduitsFiltreservice",""],["montantTemplate",""],["ajouterProduitButton",""],["dt3",""],[1,"card","flex","flex-column","justify-content-between","gap-2"],["class","p-toolbar  flex flex-wrap justify-content-between   align-items-center",4,"ngIf"],[1,"card","flex","align-items-center","flex-column","w-full","gap-2","m-auto"],[1,"flex","overflow-hidden","flex-wrap","w-full","card"],[1,"flex-grow-1","flex-shrink-1","card","flex-row","align-items-center","justify-content-center","font-bold","p-4","m-3","border-round"],[1,"flex-row","w-full"],[1,"flex-auto","mb-2"],["label","Afficher d\xe9tails","data-bs-toggle","tooltip","inputId","binary",3,"ngModelChange","ngModel","binary"],[1,"flex-auto","mb-4"],[1,"pi","pi-barcode",2,"font-size","2rem","color","#3737d4"],["pInputText","","placeholder","Code \xe0 barre","type","text",3,"ngModelChange","ngModel"],[1,"mb-2","font-bold"],[1,"flex","align-items-center","justify-content-between","gap-3"],[1,"flex","flex-column","gap-3","mt-2","card","p-2"],[1,"flex","flex-wrap","gap-3"],[1,"flex","align-items-center"],["name","Passager","value","Passager","inputId","pass1",3,"ngModelChange","ngModel"],[1,"ml-2"],[1,"flex","align-items-center","gap-2"],["name","Client","value","Client","inputId","ingredient2",3,"ngModelChange","ngModel"],["class"," pi pi-eye  cursor-pointer text-blue-500 ",3,"click",4,"ngIf"],["class"," flex justify-content-center   gap-2 flex-wrap",4,"ngIf"],[1,"flex-shrink-0","flex-column","flex","align-items-center","justify-content-center","font-bold","p-4","m-3","border-round","gap-3"],[1,"flex","flex-column"],["htmlFor","frais"],["pTooltip","Frais supp","mode","currency","inputId","currency-tunisia","currency","TND","currencyDisplay","code","locale","en-IN",3,"ngModelChange","ngModel"],["htmlFor","reglement"],["pTooltip","reglement","mode","currency","inputId","currency-india","currency","TND","currencyDisplay","code","locale","en-IN",3,"ngModelChange","ngModel"],[1,"flex-grow-1","flex-shrink-1","card","bg-black-alpha-10","flex","flex-column","align-items-center","justify-content-center","font-bold","p-4","m-3","border-round"],[1,"text-red-600","text-6xl"],[1,"text-red-600"],[1,"card","flex","flex-column","w-full"],["selectionMode","single","dataKey","id","styleClass","p-datatable-striped",1,"w-wrap",3,"selectionChange","value","selection","metaKeySelection","tableStyle"],["pTemplate","header"],["pTemplate","body"],["header","Produits",3,"modal","visible","breakpoints","maximizable"],[1,"p-table",3,"value"],["header","Produits","position","top",3,"visible","modal","closable"],["pInputText","","type","text","placeholder","Rechercher ici ...",3,"ngModelChange","input","ngModel"],[1,"p-table",3,"value","globalFilterFields"],[2,"display","flex","justify-content","flex-end","width","100%"],["pButton","","pRipple","","label","Fermer","icon","pi pi-times",1,"p-button-text","p-button-danger",3,"click"],["position","top-center","key","tc",1,"bg-info"],["header","Cl\xf4ture Caisse",3,"visibleChange","maximizable","modal","visible"],["pTemplate","content"],[3,"visibleChange","visible","fullScreen"],["header","Services","position","top",3,"visible","modal","closable"],["header","S\xe9lectionner le client",3,"visibleChange","visible","modal"],[1,"card","flex","flex-wrap","gap-2","m-auto","align-items-center","w-full"],[1,"flex","mb-3","justify-content-start","w-full"],[1,"text-primary","font-bold","pi","pi-user","mb-2"],[1,"text-red-600","ml-1"],["optionLabel","firstname","filterBy","selectedVente.client.firstname","placeholder","S\xe9lectionner Client",3,"ngModelChange","options","ngModel","filter","scrollHeight"],[1,"col-12","w-full"],[3,"value",4,"ngIf"],[1,"flex","justify-content-end","mt-2"],["pButton","","pRipple","","icon","pi pi-check","label","S\xe9lectionn\xe9",3,"click"],["header","Vente Pay\xe9 ou non",3,"visibleChange","visible","modal"],[1,"card","flex","justify-content-center","gap-2"],["label","Pay\xe9",3,"onClick","outlined"],["label","Non Paye","severity","danger",3,"onClick","outlined"],["legend","Ajouter tranches",1,"m-1",3,"toggleable"],[1,"flex","flex-wrap","col-12","justify-content-between","align-items-center"],[1,"p-field","flex","flex-column","col-12","md:col-3","gap-2"],[1,"text-primary-600","font-bold"],["pInputText","","type","text","placeholder","Description",3,"ngModelChange","ngModel"],["mode","currency","currency","TND","locale","en-US",3,"ngModelChange","ngModel"],["dateFormat","yy-mm-dd",3,"ngModelChange","ngModel","showIcon"],["name","paymentStatus","value","true","inputId","paid",3,"ngModelChange","ngModel"],[1,"ml-2","font-bold","text-green-600"],["name","paymentStatus","value","false","inputId","notPaid",3,"ngModelChange","ngModel"],[1,"ml-2","font-bold","text-red-600"],[1,"flex","flex-column","col-12","md:col-3","gap-2"],["label","Ajouter","icon","pi pi-plus",1,"p-button-text","p-button-success","p-button-outlined",3,"click","outlined"],[4,"ngIf","ngIfElse"],["label","Rafra\xeechir","icon","pi pi-refresh","styleClass","p-button-raised p-button-text p-button-info",1,"p-button-rounded","p-button-secondary","p-button-outlined",3,"click","outlined"],["class","mt-4 p-2 bg-gray-100",4,"ngIf"],["pTemplate","footer"],[1,"p-toolbar","flex","flex-wrap","justify-content-between","align-items-center"],[1,"flex","flex-column","p-ai-center"],["pButton","","type","button","label","F 1","icon","pi pi-file-plus","accesskey","F1",1,"p-button-outlined","p-button-success",3,"click","ngClass"],[1,"flex","flex-column","align-items-center"],["pButton","","type","button","label","F 2","icon","pi pi-cart-plus","accesskey","F2",1,"p-button-outlined","p-button-success",3,"click","ngClass"],["pButton","","type","button","label","F 3","icon","pi pi-search","accesskey","F3",1,"p-button-outlined","p-button-primary",3,"click","ngClass"],["pButton","","type","button","label","F5","icon","pi pi-search","accesskey","F5",1,"p-button-outlined","p-button-primary",3,"click","ngClass"],["pButton","","type","button","label","F 9","icon","pi pi-cart-minus","accesskey","F9",1,"p-button-outlined","p-button-danger",3,"click","ngClass"],["pButton","","type","button","label","F 10","icon","pi pi-calculator","accesskey","F6",1,"p-button-outlined","p-button-success",3,"click","ngClass"],[1,"flex","flex-column","align-items-center","gap-2","font-bold"],[1,"flex","pi","pi-print","fs-5","text-primary","font-bold"],["onLabel","Oui","offLabel","Non","onIcon","pi pi-check","offIcon","pi pi-times","styleClass","mr-2",1,"flex",3,"ngModelChange","ngModel"],["pButton","","type","button","label","F 8","icon","pi pi-eye-slash","accesskey","F8",1,"p-button-outlined","p-button-danger",3,"click","ngClass"],["pButton","","type","button","label","F 7","icon","pi pi-key","accesskey","F7",1,"p-button-outlined","p-button-success",3,"click","ngClass"],["pButton","","type","button","label","F 6","icon","pi pi-home","accesskey","F6",1,"p-button-outlined","p-button-primary",3,"click","ngClass"],[1,"pi","pi-eye","cursor-pointer","text-blue-500",3,"click"],[1,"flex","justify-content-center","gap-2","flex-wrap"],["icon","pi pi-user",3,"label","removable","styleClass"],[1,"text-primary","font-bold"],[1,"flex-auto","text-primary","font-bold"],["icon","pi pi-box","pBadge","",3,"value"],[1,"font-bold","fs-3"],[1,"pi","pi-qrcode","text-success","fs-3"],[1,"flex"],["buttonLayout","horizontal","spinnerMode","horizontal","inputId","horizontal","decrementButtonClass","p-button-danger","incrementButtonClass","p-button-success","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus",3,"ngModelChange","ngModel","showButtons","min","max","inputStyle"],["icon","pi pi-trash","styleClass","p-button-raised p-button-text p-button-warning","id","suppLigneVente",3,"click"],["pButton","","type","button","label","F2","icon","pi pi-cart-plus",1,"p-button-rounded","p-button-outlined","p-button-text","p-button-success","mr-2",3,"click","id"],[1,"subscribe","m-5","justify-content-center"],[1,"text-center","text-primary"],[1,"container-lg","mt-2","shadow-lg","p-3","mb-5","bg-body-tertiary","rounded"],[1,"bi-lock","font-bold"],[1,"colorShadow","flex","flex-column","md:flex-row","gap-3","p-2"],[1,"col-6"],[1,"font-bold","text-6xl","text-primary"],[1,"ml-2","text-6xl","text-red-600","font-bold"],[1,"font-bold","text-red-600"],[1,"card","flex"],[1,"flex-auto"],[1,"font-bold","text-6xl","text-red-600"],["inputId","espece","pTooltip"," prix unitaire  d'achat","mode","currency","inputId","currency-india","currency","TND","currencyDisplay","code","locale","en-IN",3,"ngModelChange","size","ngModel"],[1,"flex","justify-content-end","align-items-end"],["pButton","","type","button","label","Cl\xf4ture","icon","pi pi-calculator",1,"p-button-rounded","p-button-outlined","p-button-text","p-button-success","mr-2",3,"click"],[1,"font-semibold","text-xl"],[3,"value"],[1,"fs-5",2,"--bs-table-color","#0056b3"],["label","Calcule Total","icon","pi pi-check","styleClass","p-button-raised p-button-text p-button-success",1,"p-button-rounded","p-button-primary","p-button-outlined",3,"click","outlined"],[1,"text-xl",2,"color","red","font-weight","bold"],[1,"mt-4","p-2","bg-gray-100"],[3,"value","tableStyle"],[1,"pi",3,"ngClass"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"text-gray-500","font-bold"],[1,"flex","flex-column","md:flex-row","md:justify-content-end","md:align-items-end","gap-3"],["pButton","","pRipple","","label","Annuler","icon","pi pi-times",1,"p-button-text","p-button-danger",3,"click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text","p-button-success",3,"click","label"]],template:function(r,o){if(1&r){const a=t.RV6();t.j41(0,"div",6),t.DNE(1,zC,41,35,"div",7),t.j41(2,"div",8)(3,"div",9)(4,"div",10)(5,"div",11)(6,"div",12)(7,"p-checkbox",13),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.IsvisiblePop,p)||(o.IsvisiblePop=p),t.Njj(p)}),t.k0s()(),t.j41(8,"div",14)(9,"p-inputGroup")(10,"p-inputGroupAddon"),t.nrm(11,"i",15),t.k0s(),t.j41(12,"input",16,0),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.searchTerm,p)||(o.searchTerm=p),t.Njj(p)}),t.bIt("ngModelChange",function(){return t.eBV(a),t.Njj(o.search())}),t.k0s()()()(),t.j41(14,"label",17),t.EFF(15,"Type Client"),t.k0s(),t.j41(16,"div",18)(17,"div",19)(18,"div",20)(19,"div",21)(20,"p-radioButton",22),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.TypeUserSelected,p)||(o.TypeUserSelected=p),t.Njj(p)}),t.k0s(),t.j41(21,"label",23),t.EFF(22," Passager "),t.k0s()(),t.j41(23,"div",24)(24,"p-radioButton",25),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.TypeUserSelected,p)||(o.TypeUserSelected=p),t.Njj(p)}),t.k0s(),t.j41(25,"label",23),t.EFF(26," Client "),t.k0s(),t.DNE(27,YC,1,0,"span",26),t.k0s()(),t.DNE(28,WC,2,3,"div",27),t.k0s()()(),t.j41(29,"div",28)(30,"div",29)(31,"label",30),t.EFF(32,"Frais"),t.k0s(),t.j41(33,"p-inputNumber",31),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.frais,p)||(o.frais=p),t.Njj(p)}),t.k0s()(),t.j41(34,"div",29)(35,"label",32),t.EFF(36,"R\xe9glement"),t.k0s(),t.j41(37,"p-inputNumber",33),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.reglement,p)||(o.reglement=p),t.Njj(p)}),t.k0s()()(),t.j41(38,"div",34)(39,"h4",35),t.EFF(40),t.nI1(41,"currency"),t.nI1(42,"number"),t.k0s(),t.j41(43,"h3",36),t.EFF(44,"TND"),t.k0s()()(),t.j41(45,"div",37)(46,"p-table",38),t.mxI("selectionChange",function(p){return t.eBV(a),t.DH7(o.selectedProduct,p)||(o.selectedProduct=p),t.Njj(p)}),t.DNE(47,QC,17,4,"ng-template",39)(48,qC,26,24,"ng-template",40),t.k0s()(),t.j41(49,"p-dialog",41)(50,"p-table",42),t.DNE(51,JC,17,0,"ng-template",39)(52,ZC,18,9,"ng-template",40),t.k0s()(),t.j41(53,"p-dialog",43)(54,"input",44),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.searchTermFilter,p)||(o.searchTermFilter=p),t.Njj(p)}),t.bIt("input",function(){return t.eBV(a),t.Njj(o.filterProduits())}),t.k0s(),t.j41(55,"p-table",45,1),t.DNE(57,eT,17,0,"ng-template",39)(58,tT,18,9,"ng-template",40),t.k0s(),t.j41(59,"p-footer")(60,"div",46)(61,"button",47),t.bIt("click",function(){return t.eBV(a),t.Njj(o.searchTable=!1)}),t.k0s()()()(),t.nrm(62,"p-toast",48),t.j41(63,"p-dialog",49),t.mxI("visibleChange",function(p){return t.eBV(a),t.DH7(o.show,p)||(o.show=p),t.Njj(p)}),t.DNE(64,iT,23,3,"ng-template",50),t.k0s(),t.j41(65,"p-sidebar",51),t.mxI("visibleChange",function(p){return t.eBV(a),t.DH7(o.sidebarVisibleFacture,p)||(o.sidebarVisibleFacture=p),t.Njj(p)}),t.DNE(66,nT,1,0,"ng-template",39),t.nrm(67,"app-facture-ajout"),t.k0s(),t.j41(68,"p-dialog",52)(69,"input",44),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.searchTermFilterService,p)||(o.searchTermFilterService=p),t.Njj(p)}),t.bIt("input",function(){return t.eBV(a),t.Njj(o.filterServices())}),t.k0s(),t.j41(70,"p-table",45,2),t.DNE(72,oT,15,0,"ng-template",39)(73,rT,18,9,"ng-template",40),t.k0s(),t.j41(74,"p-footer")(75,"div",46)(76,"button",47),t.bIt("click",function(){return t.eBV(a),t.Njj(o.searchTableService=!1)}),t.k0s()()()()(),t.j41(77,"p-dialog",53),t.mxI("visibleChange",function(p){return t.eBV(a),t.DH7(o.showDialogueClient,p)||(o.showDialogueClient=p),t.Njj(p)}),t.j41(78,"div",54)(79,"div",55)(80,"div",21)(81,"label",56),t.EFF(82,"Client"),t.k0s(),t.j41(83,"p",57),t.EFF(84,"*"),t.k0s()(),t.j41(85,"div",21)(86,"p-dropdown",58),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.selectedVente.client,p)||(o.selectedVente.client=p),t.Njj(p)}),t.k0s()()(),t.j41(87,"div",59),t.DNE(88,lT,3,3,"p-table",60),t.k0s()(),t.j41(89,"div",61)(90,"button",62),t.bIt("click",function(){return t.eBV(a),t.Njj(o.selectClient())}),t.k0s()()(),t.j41(91,"p-dialog",63),t.mxI("visibleChange",function(p){return t.eBV(a),t.DH7(o.showPay,p)||(o.showPay=p),t.Njj(p)}),t.j41(92,"div",64)(93,"p-button",65),t.bIt("onClick",function(){return t.eBV(a),t.Njj(o.confirm1())}),t.k0s(),t.j41(94,"p-button",66),t.bIt("onClick",function(){return t.eBV(a),t.Njj(o.confirm2())}),t.k0s()()(),t.j41(95,"p-dialog",63),t.mxI("visibleChange",function(p){return t.eBV(a),t.DH7(o.showDialogTranche,p)||(o.showDialogTranche=p),t.Njj(p)}),t.j41(96,"p-fieldset",67)(97,"div",29)(98,"div",68)(99,"div",69)(100,"label",70),t.EFF(101,"Description de la tranche"),t.k0s(),t.j41(102,"input",71),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.Newtranche.description,p)||(o.Newtranche.description=p),t.Njj(p)}),t.k0s()(),t.j41(103,"div",69)(104,"label",70),t.EFF(105,"Montant de la tranche"),t.k0s(),t.j41(106,"p-inputNumber",72),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.Newtranche.montantTranche,p)||(o.Newtranche.montantTranche=p),t.Njj(p)}),t.k0s()(),t.j41(107,"div",69)(108,"label",70),t.EFF(109,"Date d'\xe9ch\xe9ance"),t.k0s(),t.j41(110,"p-calendar",73),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.Newtranche.dateEcheance,p)||(o.Newtranche.dateEcheance=p),t.Njj(p)}),t.k0s()(),t.j41(111,"div",69)(112,"label",70),t.EFF(113,"\xc9tat de paiement"),t.k0s(),t.j41(114,"div",21)(115,"p-radioButton",74),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.Newtranche.statutPayement,p)||(o.Newtranche.statutPayement=p),t.Njj(p)}),t.k0s(),t.j41(116,"label",75),t.EFF(117,"Pay\xe9"),t.k0s(),t.j41(118,"p-radioButton",76),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.Newtranche.statutPayement,p)||(o.Newtranche.statutPayement=p),t.Njj(p)}),t.k0s(),t.j41(119,"label",77),t.EFF(120,"Non Pay\xe9"),t.k0s()()(),t.j41(121,"div",78)(122,"p-button",79),t.bIt("click",function(){return t.eBV(a),t.Njj(o.AddTrancheToNewFacture())}),t.k0s()(),t.j41(123,"div",78),t.DNE(124,cT,2,1,"ng-container",80)(125,dT,5,1,"ng-template",null,3,t.C5r),t.j41(127,"div")(128,"p-button",81),t.bIt("click",function(){return t.eBV(a),t.Njj(o.resetMontantFiltreCalcule())}),t.k0s()()()(),t.DNE(129,_T,5,3,"div",82),t.k0s()(),t.DNE(130,mT,5,1,"ng-template",83),t.k0s(),t.nrm(131,"p-toast"),t.k0s()}if(2&r){const a=t.sdS(126);t.R7$(),t.Y8G("ngIf",o.divVisible),t.R7$(6),t.R50("ngModel",o.IsvisiblePop),t.Y8G("binary",!0),t.R7$(5),t.R50("ngModel",o.searchTerm),t.R7$(8),t.R50("ngModel",o.TypeUserSelected),t.R7$(4),t.R50("ngModel",o.TypeUserSelected),t.R7$(3),t.Y8G("ngIf","Client"==o.TypeUserSelected),t.R7$(),t.Y8G("ngIf","Client"==o.TypeUserSelected),t.R7$(5),t.R50("ngModel",o.frais),t.R7$(4),t.R50("ngModel",o.reglement),t.R7$(3),t.JRh(t.i5U(42,82,t.brH(41,78,o.getTotalVente(),"TND",""),"1.3-3")),t.R7$(6),t.Y8G("value",o.selectedVente.lignesVente),t.R50("selection",o.selectedProduct),t.Y8G("metaKeySelection",!0)("tableStyle",t.lJ4(85,xo)),t.R7$(3),t.Aen(t.lJ4(86,RC)),t.Y8G("modal",!0)("visible",o.IsvisiblePop)("breakpoints",t.lJ4(87,jC))("maximizable",!0),t.R7$(),t.Y8G("value",o.produitsFiltres),t.R7$(3),t.Aen(t.lJ4(88,Eo)),t.Y8G("visible",o.searchTable)("modal",!0)("closable",!1),t.R7$(),t.R50("ngModel",o.searchTermFilter),t.R7$(),t.Y8G("value",o.produitsFiltres)("globalFilterFields",t.lJ4(89,PC)),t.R7$(8),t.Aen(t.lJ4(90,AC)),t.Y8G("maximizable",!0)("modal",!0),t.R50("visible",o.show),t.R7$(2),t.R50("visible",o.sidebarVisibleFacture),t.Y8G("fullScreen",!0),t.R7$(3),t.Aen(t.lJ4(91,Eo)),t.Y8G("visible",o.searchTableService)("modal",!0)("closable",!1),t.R7$(),t.R50("ngModel",o.searchTermFilterService),t.R7$(),t.Y8G("value",o.serviceFiltres)("globalFilterFields",t.lJ4(92,LC)),t.R7$(7),t.Aen(t.lJ4(93,BC)),t.R50("visible",o.showDialogueClient),t.Y8G("modal",!0),t.R7$(9),t.Aen(t.lJ4(94,VC)),t.Y8G("options",o.utilisateursClients),t.R50("ngModel",o.selectedVente.client),t.Y8G("filter",!0)("scrollHeight","200px"),t.R7$(2),t.Y8G("ngIf",void 0!==o.selectedVente.client),t.R7$(3),t.Aen(t.lJ4(95,GC)),t.R50("visible",o.showPay),t.Y8G("modal",!0),t.R7$(2),t.Y8G("outlined",!0),t.R7$(),t.Y8G("outlined",!0),t.R7$(),t.Aen(t.lJ4(96,NC)),t.R50("visible",o.showDialogTranche),t.Y8G("modal",!0),t.R7$(),t.Y8G("toggleable",!0),t.R7$(6),t.R50("ngModel",o.Newtranche.description),t.R7$(4),t.R50("ngModel",o.Newtranche.montantTranche),t.R7$(4),t.R50("ngModel",o.Newtranche.dateEcheance),t.Y8G("showIcon",!0),t.R7$(5),t.R50("ngModel",o.Newtranche.statutPayement),t.R7$(3),t.R50("ngModel",o.Newtranche.statutPayement),t.R7$(4),t.Y8G("outlined",!0),t.R7$(2),t.Y8G("ngIf",!o.montantFiltreCalcule)("ngIfElse",a),t.R7$(4),t.Y8G("outlined",!0),t.R7$(),t.Y8G("ngIf",o.newFacture.tranches&&o.newFacture.tranches.length>0)}},dependencies:[V.YN,V.me,V.BC,V.vS,w.kr,w.ms,L.wi,L.Ei,h.YU,He.q4,He.Sc,gC,d._f,d.$n,Ie.O3,Ie.YI,h.QX,be.P,be.l,Pi,Ce.m,Ce.e,h.vh,h.oe,de.MB,de.y8,Te.EJ,Te.FO,fo.I,fo.M,go.k,go.S,E.u,E.S,H.bG,H.XI,h.MD,h.bT,Hi,$i,xt.u,bo.n,bo.B,zi,J.Z,J.n,io,wC,at.m,To.xs,Io.P,Io.v,ve.F,wt,Et,$e.Ko,$e.a,Ae.rO,Ae.Vv],styles:[".table-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}"]})}return n})();const fT=()=>({"min-width":"50rem"});function gT(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",26)(1,"span",27),t.EFF(2," Securit\xe9 "),t.k0s(),t.j41(3,"div",28)(4,"div",29)(5,"label"),t.EFF(6,"Nouvelle Mot de passe"),t.k0s(),t.j41(7,"p-password",30),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG(2);return t.DH7(a.user.passwordConfirm,o)||(a.user.passwordConfirm=o),t.Njj(o)}),t.k0s()(),t.j41(8,"div",9)(9,"label"),t.EFF(10,"Confimer mot de passe "),t.k0s(),t.j41(11,"p-password",30),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG(2);return t.DH7(a.user.passwordConfirm1,o)||(a.user.passwordConfirm1=o),t.Njj(o)}),t.k0s()(),t.j41(12,"div",9)(13,"p-button",31),t.bIt("onClick",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.loadUp())}),t.k0s()()()()}if(2&n){const i=t.XpG(2);t.R7$(7),t.R50("ngModel",i.user.passwordConfirm),t.Y8G("toggleMask",!0),t.R7$(4),t.R50("ngModel",i.user.passwordConfirm1),t.Y8G("toggleMask",!0)}}function bT(n,s){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Table"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Ajouter"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Afficher"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Modifier"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Supprimer"),t.k0s()())}function vT(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"p-checkbox",32),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.getPermission(o.tableName,1==o.ajouter?"create":"createn"))}),t.mxI("ngModelChange",function(o){const a=t.eBV(i).$implicit;return t.DH7(a.ajouter,o)||(a.ajouter=o),t.Njj(o)}),t.k0s()(),t.j41(5,"td")(6,"p-checkbox",32),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.getPermission(o.tableName,1==o.afficher?"read":"readn"))}),t.mxI("ngModelChange",function(o){const a=t.eBV(i).$implicit;return t.DH7(a.afficher,o)||(a.afficher=o),t.Njj(o)}),t.k0s()(),t.j41(7,"td")(8,"p-checkbox",32),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.getPermission(o.tableName,1==o.modifier?"update":"updaten"))}),t.mxI("ngModelChange",function(o){const a=t.eBV(i).$implicit;return t.DH7(a.modifier,o)||(a.modifier=o),t.Njj(o)}),t.k0s()(),t.j41(9,"td")(10,"p-checkbox",32),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.getPermission(o.tableName,1==o.supprimer?"delete":"deleten"))}),t.mxI("ngModelChange",function(o){const a=t.eBV(i).$implicit;return t.DH7(a.supprimer,o)||(a.supprimer=o),t.Njj(o)}),t.k0s()()()}if(2&n){const i=s.$implicit;t.R7$(),t.HbH(i.icon),t.R7$(),t.JRh(i.name),t.R7$(2),t.R50("ngModel",i.ajouter),t.Y8G("binary",!0),t.R7$(2),t.R50("ngModel",i.afficher),t.Y8G("binary",!0),t.R7$(2),t.R50("ngModel",i.modifier),t.Y8G("binary",!0),t.R7$(2),t.R50("ngModel",i.supprimer),t.Y8G("binary",!0)}}function CT(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",3)(1,"h1",4),t.EFF(2,"Modifier Utilisateur"),t.k0s(),t.j41(3,"div",5)(4,"div",6)(5,"h4",7),t.EFF(6," D\xe9tails utilisateur"),t.k0s(),t.j41(7,"div",8)(8,"div",9)(9,"label"),t.EFF(10,"Nom"),t.k0s(),t.j41(11,"input",10),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.user.firstname,o)||(a.user.firstname=o),t.Njj(o)}),t.k0s()(),t.j41(12,"div",9)(13,"label"),t.EFF(14,"Pr\xe9nom:"),t.k0s(),t.j41(15,"input",11),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.user.lastname,o)||(a.user.lastname=o),t.Njj(o)}),t.k0s()()(),t.j41(16,"div",12)(17,"div",9)(18,"label"),t.EFF(19,"Email"),t.k0s(),t.j41(20,"input",13),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.user.email,o)||(a.user.email=o),t.Njj(o)}),t.k0s()(),t.j41(21,"div",9)(22,"label"),t.EFF(23,"T\xe9l\xe9phone"),t.k0s(),t.j41(24,"p-inputNumber",14),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.user.telephone,o)||(a.user.telephone=o),t.Njj(o)}),t.k0s()()(),t.j41(25,"div",12)(26,"div",12)(27,"div",9)(28,"label"),t.EFF(29,"Adresse"),t.k0s(),t.j41(30,"textarea",15),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.user.adresse,o)||(a.user.adresse=o),t.Njj(o)}),t.EFF(31,"        "),t.k0s()()(),t.j41(32,"div",9)(33,"label"),t.EFF(34,"R\xf4le:"),t.k0s(),t.j41(35,"p-dropdown",16),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.user.role,o)||(a.user.role=o),t.Njj(o)}),t.k0s()()(),t.DNE(36,gT,14,4,"div",17),t.k0s(),t.j41(37,"div",18)(38,"h4",19),t.EFF(39," Permission"),t.k0s(),t.j41(40,"p-table",20),t.DNE(41,bT,11,0,"ng-template",21)(42,vT,11,11,"ng-template",22),t.k0s()()(),t.j41(43,"div",23)(44,"button",24),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.returnBack())}),t.k0s(),t.j41(45,"button",25),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.sauvegarderModification())}),t.k0s()()()}if(2&n){const i=t.XpG();t.R7$(11),t.R50("ngModel",i.user.firstname),t.R7$(4),t.R50("ngModel",i.user.lastname),t.R7$(5),t.R50("ngModel",i.user.email),t.R7$(4),t.R50("ngModel",i.user.telephone),t.R7$(6),t.Y8G("autoResize",!0),t.R50("ngModel",i.user.adresse),t.Y8G("disabled",!0),t.R7$(5),t.R50("ngModel",i.user.role),t.Y8G("options",i.roles)("disabled",!0),t.R7$(),t.Y8G("ngIf",i.user.role==i.RoleEnum.ADMIN||i.user.role==i.RoleEnum.EMPLOYER||i.user.role==i.RoleEnum.RESPONSABLE||i.user.role==i.RoleEnum.MANAGER),t.R7$(4),t.Y8G("value",i.permissions)("tableStyle",t.lJ4(13,fT))}}function TT(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",33)(1,"div",34),t.nrm(2,"i",35),t.k0s(),t.j41(3,"span",36),t.EFF(4),t.k0s(),t.j41(5,"p",37),t.EFF(6),t.k0s(),t.j41(7,"div",38)(8,"button",39),t.bIt("click",function(){t.eBV(i),t.XpG();const o=t.sdS(4);return t.Njj(o.accept())}),t.k0s(),t.j41(9,"button",40),t.bIt("click",function(){t.eBV(i),t.XpG();const o=t.sdS(4);return t.Njj(o.reject())}),t.k0s()()()}if(2&n){const i=s.$implicit;t.R7$(4),t.SpI(" ",i.header," "),t.R7$(2),t.JRh(i.message)}}let IT=(()=>{class n{constructor(i,r,o,a,l,p){this.userService=i,this.route=r,this.router=o,this.ajouterUser=a,this.confirmationService=l,this.messageService=p,this.user=new Se.K,this.useracien=new Se.K,this.roles=Object.values(Se.U),this.permissions=[{name:"Utilisateurs",tableName:"user",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-person"},{name:"Depots",tableName:"depot",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-dropbox"},{name:"Produits",tableName:"produit",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-boxes"},{name:"Articles",tableName:"article",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-book"},{name:"Factures",tableName:"facture",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-journals"},{name:"Ventes",tableName:"vente",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-cart4"},{name:"Services",tableName:"service",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-tools"},{name:"Statistiques",tableName:"statistique",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-tools"},{name:"Payement",tableName:"tranche",afficher:!1,modifier:!1,supprimer:!1,ajouter:!1,icon:"bi-currency-exchange"}],this.userPermission=[],this.secretKeyU="",this.RoleEnum=Se.U}ngOnInit(){this.route.params.subscribe(i=>{const r=i.id;r&&this.userService.getUserById(r).subscribe(o=>{this.user=o,console.error("User :=> "+(new h.TG).transform(this.user));for(let a=0;a<this.permissions.length;a++)this.permissions[a].supprimer=null!=o.permission.find(l=>"delete"===l.api&&this.permissions[a].tableName===l.tableName),!0===this.permissions[a].supprimer&&this.userPermission.push({api:"delete",tableName:this.permissions[a].tableName}),this.permissions[a].afficher=null!=o.permission.find(l=>"read"===l.api&&this.permissions[a].tableName===l.tableName),!0===this.permissions[a].afficher&&this.userPermission.push({api:"read",tableName:this.permissions[a].tableName}),this.permissions[a].ajouter=null!=o.permission.find(l=>"create"===l.api&&this.permissions[a].tableName===l.tableName),!0===this.permissions[a].ajouter&&this.userPermission.push({api:"create",tableName:this.permissions[a].tableName}),this.permissions[a].modifier=null!=o.permission.find(l=>"update"===l.api&&this.permissions[a].tableName===l.tableName),!0===this.permissions[a].modifier&&this.userPermission.push({api:"update",tableName:this.permissions[a].tableName});this.userService.getUsersPassword(this.user.id).subscribe(a=>{this.user.password=a.password,console.log(a)}),console.log("user EDit From Data :",(new h.TG).transform(this.user))},o=>{console.error("Erreur lors de la r\xe9cup\xe9ration de l'utilisateur :",o)})})}loadUp(){return this.secretKeyU=this.userService.generateUUID(),this.confirmationService.confirm({header:"Remember your Secret key?",message:` ${this.secretKeyU}`,accept:()=>{console.log("accept"+this.secretKeyU),this.messageService.add({severity:"info",summary:"Confirmed",detail:"You have accepted your secret Key",life:3e3})},reject:()=>{this.secretKeyU="",this.messageService.add({severity:"error",summary:"Rejected",detail:"Secret Key rejected",life:3e3}),console.log("reject"+this.secretKeyU)}}),this.secretKeyU}sauvegarderModification(){if(this.user.secretKey=this.secretKeyU,""==this.user.firstname.trim())$().fire("Erreur nom ","nom vide ","error");else if(""==this.user.lastname.trim())$().fire("Erreur pr\xe9nom ","  pr\xe9nom  vide ","error");else if(""==this.user.email.trim())$().fire("Erreur email ","email vide ","error");else if(""==this.user.telephone.toString().trim())$().fire("Erreur t\xe9l\xe9phone ","t\xe9l\xe9phone vide plus de 8 chiffre","error");else if(""==this.user.adresse||null==this.user.adresse)$().fire("Erreur adress ","adress vide ","error");else if(""!==this.user.passwordConfirm&&this.user.passwordConfirm!==this.user.passwordConfirm1)$().fire("Erreur mot de passe ","Confimer votre mot de passe SVP    ","error");else{const i=$().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!0});i.fire({title:"\xcates-vous s\xfbr ?",text:"Vous ne pourrez pas revenir en arri\xe8re!",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmer!",cancelButtonText:"Annuler!",reverseButtons:!0}).then(r=>{r.isConfirmed?this.userService.modifierUser(this.user).subscribe(o=>{console.log("Utilisateur modifi\xe9 avec succ\xe8s :",o),i.fire({title:"Modifier!",text:"L'utilisateur est modifi\xe9 avec succ\xe8s!",icon:"success"}),this.user.id==(0,re.lL)().id?((0,re.ni)(),this.router.navigate(["/auth/login"])):this.router.navigate(["/uikit/users"])},o=>{console.error("Erreur lors de la modification de l'utilisateur :",o),i.fire({title:"Erreur!",text:"Une erreur est survenue lors de la modification de l'utilisateur.",icon:"error"})}):r.dismiss===$().DismissReason.cancel&&i.fire({title:"Annuler",text:"Votre modification est annul\xe9e!",icon:"error"})})}}returnBack(){this.userService.returnBack()}getPermission(i,r){if(void 0!==this.userPermission.find(a=>a.tableName==i&&(a.api==r||r.substring(0,r.length-1)==a.api))){let a=[];this.userPermission.forEach(l=>{l.tableName==i&&r.substring(0,r.length-1)==l.api||a.push(l)}),this.userPermission=a}else this.userPermission.push({api:r,tableName:i});this.user.permission=this.userPermission,console.log("Table Permisiion :"+(new h.TG).transform(this.user.permission))}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(Ke.D),t.rXU(c.nX),t.rXU(c.Ix),t.rXU(Ki),t.rXU(L.td),t.rXU(L.bg))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-update-user"]],standalone:!0,features:[t.aNF],decls:6,vars:1,consts:[["cd",""],["class","card",4,"ngIf"],["pTemplate","headless"],[1,"card"],[1,"text-primary-600","font-bold","mt-2"],[1,"flex","flex-row","gap-4"],[1,"card","col-4","gap-1"],[1,"text-primary-600","font-bold","pi","pi-user"],[1,"p-fluid","p-formgrid","p-grid","mt-4"],[1,"p-field","p-col-12","p-md-6","mt-4"],["pInputText","","name","nom","type","text",3,"ngModelChange","ngModel"],["pInputText","","name","prenom","type","text",3,"ngModelChange","ngModel"],[1,"p-fluid","p-formgrid","p-grid"],["pInputText","","name","email","type","email",3,"ngModelChange","ngModel"],["name","telephone","type","number",3,"ngModelChange","ngModel"],["pInputTextarea","","rows","5","cols","56",3,"ngModelChange","autoResize","ngModel","disabled"],["name","role",3,"ngModelChange","ngModel","options","disabled"],["class","card mt-4",4,"ngIf"],[1,"card","col-8","p-3"],[1,"text-primary-600","font-bold","pi","pi-wrench"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-end","align-items-end","mt-3"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],[1,"card","mt-4"],[1,"text-primary-600","font-bold","pi","pi-key"],[1,"p-fluid","p-formgrid","p-grid","mt-2"],["mt-4","",1,"p-field","p-col-12","p-md-6"],[3,"ngModelChange","ngModel","toggleMask"],["icon","pi pi-check","label","G\xe9n\xe9rer cl\xe9 de s\xe9curit\xe9",3,"onClick"],[3,"click","ngModelChange","ngModel","binary"],[1,"flex","flex-column","align-items-center","p-5","surface-overlay","border-round"],[1,"border-circle","bg-primary","inline-flex","justify-content-center","align-items-center","h-6rem","w-6rem"],[1,"pi","pi-key","text-5xl"],[1,"font-bold","text-2xl","block","mb-2","mt-4"],[1,"mb-0"],[1,"flex","align-items-center","gap-2","mt-4"],["pButton","","label","Save",1,"w-8rem",3,"click"],["pButton","","label","Cancel",1,"p-button-outlined","w-8rem",3,"click"]],template:function(r,o){1&r&&(t.DNE(0,CT,46,14,"div",1),t.j41(1,"div"),t.nrm(2,"p-toast"),t.j41(3,"p-confirmDialog",null,0),t.DNE(5,TT,10,2,"ng-template",2),t.k0s()()),2&r&&t.Y8G("ngIf",o.user)},dependencies:[He.q4,He.Sc,L.Ei,V.YN,V.me,V.BC,V.vS,d.tm,d._f,d.$n,oi.Ou,oi._2,H.bG,H.XI,h.MD,h.bT,w.kr,w.ms,Ie.O3,Ie.YI,E.u,E.S,J.Z,J.n,ve.F,ve.T,de.MB,de.y8,Ge,Ye]})}return n})();const yT=["filter"],xT=()=>["id","nom","prenom","email","telephone","adresse","role"],ET=()=>[5,10,20,30],wT=()=>({"background-color":"#b9c7ce",color:"#1a1717"});function ST(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",11)(1,"button",12),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.addUser())}),t.k0s(),t.j41(2,"button",13),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.refrech())}),t.k0s()()}}function kT(n,s){if(1&n&&t.nrm(0,"p-avatar",16),2&n){const i=t.XpG(2);t.Aen(t.lJ4(3,wT)),t.Y8G("value",i.users.length+"")}}function FT(n,s){if(1&n&&(t.j41(0,"div",14),t.DNE(1,kT,1,4,"p-avatar",15),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",i.displayusers)}}function DT(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",17)(1,"h5",18),t.EFF(2,"Gestion des utilisateurs"),t.k0s(),t.j41(3,"span",19),t.nrm(4,"i",20),t.j41(5,"input",21),t.bIt("input",function(o){t.eBV(i);const a=t.XpG(),l=t.sdS(8);return t.Njj(a.onGlobalFilter(l,o))}),t.k0s()()()}}function OT(n,s){1&n&&(t.j41(0,"tr")(1,"th",22),t.nrm(2,"p-tableHeaderCheckbox"),t.k0s(),t.j41(3,"th",23),t.EFF(4,"Code "),t.nrm(5,"p-sortIcon",24),t.k0s(),t.j41(6,"th",25),t.EFF(7,"Nom "),t.nrm(8,"p-sortIcon",26),t.k0s(),t.j41(9,"th",27),t.EFF(10,"Pr\xe9nom "),t.nrm(11,"p-sortIcon",28),t.k0s(),t.j41(12,"th",29),t.EFF(13,"Email "),t.nrm(14,"p-sortIcon",30),t.k0s(),t.j41(15,"th",31),t.EFF(16,"T\xe9l\xe9phone "),t.nrm(17,"p-sortIcon",32),t.k0s(),t.j41(18,"th",33),t.EFF(19,"Adresse "),t.nrm(20,"p-sortIcon",34),t.k0s(),t.j41(21,"th",35),t.EFF(22,"R\xf4le "),t.nrm(23,"p-sortIcon",36),t.k0s(),t.j41(24,"th"),t.EFF(25,"Actions"),t.k0s()())}function MT(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.nrm(2,"p-tableCheckbox",37),t.k0s(),t.j41(3,"td",38)(4,"span",39),t.EFF(5,"Code"),t.k0s(),t.EFF(6),t.k0s(),t.j41(7,"td",38)(8,"span",39),t.EFF(9,"Nom"),t.k0s(),t.EFF(10),t.k0s(),t.j41(11,"td",38)(12,"span",39),t.EFF(13,"Pr\xe9nom"),t.k0s(),t.EFF(14),t.k0s(),t.j41(15,"td",38)(16,"span",39),t.EFF(17,"Email"),t.k0s(),t.EFF(18),t.k0s(),t.j41(19,"td",38)(20,"span",39),t.EFF(21,"T\xe9l\xe9phone"),t.k0s(),t.EFF(22),t.k0s(),t.j41(23,"td",38)(24,"span",39),t.EFF(25,"Adresse"),t.k0s(),t.EFF(26),t.k0s(),t.j41(27,"td",38)(28,"span",39),t.EFF(29,"R\xf4le"),t.k0s(),t.EFF(30),t.k0s(),t.j41(31,"td")(32,"div",40)(33,"button",41),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.editUser(o))}),t.k0s(),t.j41(34,"button",42),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.deleteUser(o))}),t.k0s()()()()}if(2&n){const i=s.$implicit;t.R7$(2),t.Y8G("value",i),t.R7$(4),t.SpI("",i.id," "),t.R7$(4),t.SpI("",i.lastname," "),t.R7$(4),t.SpI("",i.firstname," "),t.R7$(4),t.SpI("",i.email," "),t.R7$(4),t.SpI("",i.telephone," "),t.R7$(4),t.SpI("",i.adresse," "),t.R7$(4),t.SpI("","PROVIDER"==i.role.toString()?"FOURNISSEUR":i.role," ")}}let RT=(()=>{class n{constructor(i,r,o){this.router=i,this.userService=r,this.route=o,this.users=[],this.searchTerm="",this.roles=[],this.selectedRole=Se.U.ALL,this.displayusers=!0,this.roles=this.getRoles(),this.displayusers=!0}ngOnInit(){this.userService.exist("user"),this.getUserById(),this.getAllUsers()}getAllUsers(){this.userService.getUsers().subscribe(i=>{this.users=i,console.error(""+(new h.TG).transform(this.users)),console.log(i)},i=>{this.displayusers=!1,$().fire({icon:"error",title:"Oops...",text:"Vous n'avez pas la permission s'il vous plait  contacter l'administrateur.  "})})}getUserById(){this.route.params.subscribe(i=>{const r=i.id;r&&this.userService.getUserById(r).subscribe(o=>{this.user=o},o=>{console.error("Erreur lors de la r\xe9cup\xe9ration de l'utilisateur :",o)})})}getRoles(){return Object.values(Se.U)}addUser(){this.router.navigate(["/uikit/Add-user"])}onSearch(){""!==this.searchTerm.trim()?(this.userService.searchUsers(this.searchTerm.toLowerCase()),this.users=this.userService.getFilteredUsers()):this.getAllUsers()}editUser(i){console.log("Utilisateur s\xe9lectionn\xe9 pour modification :",i.id),this.router.navigate(["/uikit/Edit-user",i.id])}deleteUser(i){$().fire({title:"\xcates-vous s\xfbr ?",text:"Voulez-vous supprimer cet utilisateur ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler"}).then(r=>{r.isConfirmed?this.userService.deleteUser(i).subscribe(o=>{console.log(o),1==o?($().fire("Supprim\xe9","L'utilisateur a \xe9t\xe9 supprim\xe9 avec succ\xe8s","success"),this.getAllUsers()):$().fire("Erreur","La suppression annul\xe9, User li\xe9 par un autre entit\xe9 ","error")},o=>{console.error("Erreur lors de la suppression :",o),$().fire("Erreur","Une erreur est survenue lors de la suppression. Veuillez consulter la console pour plus d'informations.","error")}):r.dismiss===$().DismissReason.cancel&&$().fire("Annul\xe9","La suppression a \xe9t\xe9 annul\xe9e","info")}),console.log("utilisateur",this.user)}deleteService(i){this.users=this.users.filter(r=>r.id!==i)}filterUsersByRole(){this.selectedRole!==Se.U.ALL?this.users=this.userService.getUsersByRole(this.selectedRole):this.getAllUsers()}refrech(){this.getAllUsers()}clear(i){i.clear(),this.filter.nativeElement.value=""}onGlobalFilter(i,r){i.filterGlobal(r.target.value,"contains")}newUser(){}deleteSelectedUsers(){}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(c.Ix),t.rXU(Ke.D),t.rXU(c.nX))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-user"]],viewQuery:function(r,o){if(1&r&&t.GBs(yT,5),2&r){let a;t.mGM(a=t.lsd())&&(o.filter=a.first)}},standalone:!0,features:[t.aNF],decls:12,vars:9,consts:[["dt",""],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Affichage {first} \xe0 {last} sur {totalRecords} \xe9lements","selectionMode","multiple","dataKey","id",3,"value","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"my-2"],["pButton","","pRipple","","label","Ajouter","icon","pi pi-user-plus",1,"p-button-success","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","label","Actualiser","icon","pi pi-refresh",1,"p-button-primary","p-button-outlined",3,"click"],[1,"col-2","float-end","d-flex","d-inline"],["class","float-end","icon","pi pi-users","pBadge","","styleClass","mr-5","size","large",3,"value","style",4,"ngIf"],["icon","pi pi-users","pBadge","","styleClass","mr-5","size","large",1,"float-end",3,"value"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Rechercher...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","id"],["field","id"],["pSortableColumn","lastname"],["field","lastname"],["pSortableColumn","firstname"],["field","firstname"],["pSortableColumn","email"],["field","email"],["pSortableColumn","telephone"],["field","telephone"],["pSortableColumn","adresse"],["field","adresse"],["pSortableColumn","role"],["field","role"],[3,"value"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"]],template:function(r,o){1&r&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.nrm(3,"p-toast"),t.j41(4,"p-toolbar",4),t.DNE(5,ST,3,0,"ng-template",5)(6,FT,2,1,"ng-template",6),t.k0s(),t.j41(7,"p-table",7,0),t.DNE(9,DT,6,0,"ng-template",8)(10,OT,26,0,"ng-template",9)(11,MT,35,8,"ng-template",10),t.k0s()()()()),2&r&&(t.R7$(7),t.Y8G("value",o.users)("rows",10)("globalFilterFields",t.lJ4(7,xT))("paginator",!0)("rowsPerPageOptions",t.lJ4(8,ET))("showCurrentPageReport",!0)("rowHover",!0))},dependencies:[d.tm,d._f,L.Ei,w.kr,E.u,E.S,Ze,Nt,L.Gg,vt,H.bG,H.XI,H.Tg,H.yc,H.S9,H.nA,V.YN,de.MB,de.y8,xe.m,xe.M,et,Ce.m,Ce.e,Te.EJ,Te.FO,h.bT,J.Z,J.n]})}return n})();const jT=["factureContent"],PT=()=>({"min-width":"50rem"}),AT=n=>[n];function LT(n,s){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Code"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Nom"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Quantit\xe9"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Prix"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Total produit"),t.k0s()())}function BT(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s()()),2&n){const i=s.$implicit,r=t.XpG();t.R7$(2),t.JRh(i.id),t.R7$(2),t.JRh(i.produit.nom),t.R7$(2),t.JRh(i.quantite),t.R7$(2),t.JRh(r.getNewPrice(i)),t.R7$(2),t.JRh((i.produit.prixUnitaire+i.produit.gainUnitaire)*i.quantite)}}function VT(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",20),t.EFF(2,"Total HT"),t.k0s(),t.j41(3,"td",9),t.EFF(4),t.nI1(5,"currency"),t.k0s()(),t.j41(6,"tr")(7,"td",20),t.EFF(8,"TVA"),t.k0s(),t.j41(9,"td",9),t.EFF(10),t.nI1(11,"currency"),t.k0s()(),t.j41(12,"tr")(13,"td",20),t.EFF(14,"R\xe9glement"),t.k0s(),t.j41(15,"td",9),t.EFF(16),t.nI1(17,"currency"),t.k0s()(),t.j41(18,"tr")(19,"td",21),t.EFF(20,"Total \xe0 payer"),t.k0s(),t.j41(21,"td",22),t.EFF(22),t.nI1(23,"currency"),t.k0s()()),2&n){const i=s.$implicit;t.R7$(4),t.JRh(t.brH(5,4,i.montant-i.montant*i.montantTaxe/100,"","TND ")),t.R7$(6),t.JRh(t.brH(11,8,i.montantTaxe,"","% ")),t.R7$(6),t.JRh(t.brH(17,12,i.reglement,"","TND ")),t.R7$(6),t.JRh(t.brH(23,16,i.montant,"","TND "))}}let GT=(()=>{class n{constructor(i,r,o,a){this.factureService=i,this.produitService=r,this.route=o,this.router=a,this.facture=new yt}ngOnInit(){this.getCommandeDetails()}getCommandeDetails(){const i=Number(this.route.snapshot.paramMap.get("id"));this.factureService.getFactureById(i)?.subscribe(r=>{this.facture=r})}returnBack(){this.factureService.returnBack()}saveFacture(){}printFacture(){const i=this.factureContent.nativeElement.innerHTML,r=document.createElement("iframe");document.body.appendChild(r),r.style.position="absolute",r.style.width="0",r.style.height="0",r.style.border="none";const o=r.contentDocument||r.contentWindow?.document;if(o){o.open();const a=Array.from(document.styleSheets).map(l=>{try{return Array.from(l.cssRules).map(p=>p.cssText).join("\n")}catch(p){return console.warn("Access to stylesheet is restricted",p),""}}).join("\n");o.write(`\n      <html>\n        <head>\n          <title>Facture</title>\n          <style>${a}</style>\n        </head>\n        <body>${i}</body>\n      </html>\n    `),o.close(),r.onload=()=>{r.contentWindow?.focus(),r.contentWindow?.print(),document.body.removeChild(r)}}}getNewPrice(i){return console.log("getNewPrice"+this.facture.typeFacture),"FACTURE_VENTE"!=this.facture.typeFacture?i.prixAchat:i.prixVente}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(ni),t.rXU(Ve.D),t.rXU(c.nX),t.rXU(c.Ix))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-facture-details"]],viewQuery:function(r,o){if(1&r&&t.GBs(jT,5),2&r){let a;t.mGM(a=t.lsd())&&(o.factureContent=a.first)}},standalone:!0,features:[t.aNF],decls:57,vars:19,consts:[["factureContent",""],[1,"grid","p-card"],[1,"col-12"],[1,"flex","justify-content-between","align-items-center","m-8"],[1,"p-grid","justify-content-center","align-items-center"],[1,"p-col","font-bold"],[1,"p-col"],[1,"center"],[1,"flex","justify-content-between","align-items-center","m-8","border-1","border-round","p-2"],[1,"font-bold"],[1,"m-8"],["styleClass","p-datatable-gridlines",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[1,"p-card",2,"width","45%","float","right"],[1,"p-datatable-custom",3,"value"],[1,"font-bold","m-5",2,"position","absolute","padding-left","18%"],[1,"flex","justify-content-end","align-items-end","col-12","p-4"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Imprimer","icon","pi pi-print",1,"p-button-text",3,"click"],[1,"xl:font-bold","p-2"],[1,"text-2xl","text-red-600","font-bold","p-2"],[1,"text-2xl","text-red-600","font-bold"]],template:function(r,o){if(1&r){const a=t.RV6();t.j41(0,"div",1)(1,"div",2,0)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3"),t.EFF(7),t.k0s()(),t.j41(8,"div",6),t.EFF(9),t.k0s(),t.j41(10,"div",6),t.EFF(11),t.k0s()(),t.j41(12,"div",7)(13,"h3"),t.EFF(14,"LOGO"),t.k0s()(),t.j41(15,"div")(16,"h3"),t.EFF(17),t.k0s()()(),t.j41(18,"div",8)(19,"div",4)(20,"div",9)(21,"h3"),t.EFF(22,"Factur\xe9 \xe0:"),t.k0s(),t.j41(23,"h3"),t.EFF(24),t.k0s(),t.j41(25,"div",6),t.EFF(26),t.k0s(),t.j41(27,"div",6),t.EFF(28),t.k0s()()(),t.j41(29,"div",9)(30,"h3"),t.EFF(31,"Livr\xe9 par:"),t.k0s(),t.j41(32,"h3"),t.EFF(33),t.k0s(),t.j41(34,"div",6),t.EFF(35),t.k0s(),t.j41(36,"div",6),t.EFF(37),t.k0s()(),t.j41(38,"div",9)(39,"h3"),t.EFF(40),t.k0s(),t.j41(41,"div",6),t.EFF(42),t.k0s(),t.j41(43,"div",6),t.EFF(44),t.k0s()()(),t.j41(45,"div",10)(46,"p-table",11),t.DNE(47,LT,11,0,"ng-template",12)(48,BT,11,5,"ng-template",13),t.k0s(),t.j41(49,"div",14)(50,"p-table",15),t.DNE(51,VT,24,20,"ng-template",13),t.k0s()()(),t.j41(52,"p",16),t.EFF(53,"Signature & Cachet"),t.k0s()(),t.j41(54,"div",17)(55,"button",18),t.bIt("click",function(){return t.eBV(a),t.Njj(o.returnBack())}),t.k0s(),t.j41(56,"button",19),t.bIt("click",function(){return t.eBV(a),t.Njj(o.printFacture())}),t.k0s()()()}2&r&&(t.R7$(7),t.JRh(o.facture.provider.firstname+" "+o.facture.provider.lastname),t.R7$(2),t.SpI("Adresse: ",o.facture.provider.adresse,""),t.R7$(2),t.SpI("TEl: ",o.facture.provider.telephone,""),t.R7$(6),t.JRh("FACTURE_VENTE"==o.facture.typeFacture?"Facture de vente":"Facture d'Achat"),t.R7$(7),t.JRh(o.facture.client.firstname+" "+o.facture.client.lastname),t.R7$(2),t.SpI("Adresse: ",o.facture.client.adresse,""),t.R7$(2),t.SpI("TEL: ",o.facture.client.telephone,""),t.R7$(5),t.JRh(o.facture.transporteur.firstname+" "+o.facture.transporteur.lastname),t.R7$(2),t.SpI("Adresse: ",o.facture.transporteur.adresse,""),t.R7$(2),t.SpI("TEL: ",o.facture.transporteur.telephone,""),t.R7$(3),t.JRh(o.facture.reference),t.R7$(2),t.SpI("Date:",o.facture.date,""),t.R7$(2),t.SpI("TEL: ",o.facture.client.telephone,""),t.R7$(2),t.Y8G("value",o.facture.lignesFacture)("tableStyle",t.lJ4(16,PT)),t.R7$(4),t.Y8G("value",t.eq3(17,AT,o.facture)))},dependencies:[d.tm,d._f,L.Ei,J.Z,J.n,xe.m,H.bG,H.XI,h.oe],styles:['@charset "UTF-8";@media print{body[_ngcontent-%COMP%]{margin:2cm}.grid[_ngcontent-%COMP%], .p-card[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{width:100%;display:block;margin:2em}.p-datatable-scrollable-body[_ngcontent-%COMP%], .p-datatable-scrollable-header[_ngcontent-%COMP%], .p-datatable-scrollable-wrapper[_ngcontent-%COMP%]{overflow:visible!important}.flex[_ngcontent-%COMP%], .justify-content-between[_ngcontent-%COMP%], .align-items-center[_ngcontent-%COMP%], .m-8[_ngcontent-%COMP%], .m-6[_ngcontent-%COMP%], .m-4[_ngcontent-%COMP%], .m-5[_ngcontent-%COMP%]{display:block;margin:2em!important}h3[_ngcontent-%COMP%], .font-bold[_ngcontent-%COMP%]{font-size:1.1em}.facture-content[_ngcontent-%COMP%]{margin:2cm}}']})}return n})();const NT=["opCloture"],UT=()=>["cloture.id","cloture.montantClotureValide"],wo=()=>[10,25,50],$T=()=>["id","nomClient","dateVente","total","reglement","employer.lastname","employer.firstname","produit.nom","ligneVente.produit.dataQr"];function HT(n,s){1&n&&(t.j41(0,"tr")(1,"th",16),t.nrm(2,"p-sortIcon",17),t.EFF(3," ID "),t.k0s(),t.j41(4,"th",18),t.nrm(5,"p-sortIcon",19),t.EFF(6," Date de cloture "),t.k0s(),t.j41(7,"th",20),t.nrm(8,"p-sortIcon",21),t.EFF(9," Montant cloture "),t.k0s(),t.j41(10,"th",22),t.nrm(11,"p-sortIcon",23),t.EFF(12," Montant caisse "),t.k0s(),t.j41(13,"th",24),t.nrm(14,"p-sortIcon",25),t.EFF(15," Employ\xe9 "),t.k0s(),t.j41(16,"th",26),t.EFF(17,"Action"),t.k0s()())}function KT(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",36)(1,"span",8),t.nrm(2,"i",9),t.j41(3,"input",37),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG(2);return t.DH7(a.searchTermVente,o)||(a.searchTermVente=o),t.Njj(o)}),t.bIt("input",function(){t.eBV(i),t.XpG();const o=t.sdS(16),a=t.XpG();return t.Njj(o.filterGlobal(a.searchTermVente,"contains"))}),t.k0s()()()}if(2&n){const i=t.XpG(2);t.R7$(3),t.R50("ngModel",i.searchTermVente)}}function XT(n,s){1&n&&(t.j41(0,"tr",38)(1,"th",16),t.nrm(2,"p-sortIcon",17),t.EFF(3," ID "),t.k0s(),t.j41(4,"th",39),t.nrm(5,"p-sortIcon",40),t.EFF(6," Date de Vente "),t.k0s(),t.j41(7,"th",41),t.nrm(8,"p-sortIcon",42),t.EFF(9," Nom du Client "),t.k0s(),t.j41(10,"th",43),t.nrm(11,"p-sortIcon",44),t.EFF(12," Total "),t.k0s(),t.j41(13,"th",45),t.nrm(14,"p-sortIcon",25),t.EFF(15," Employ\xe9 "),t.k0s(),t.j41(16,"th",46),t.EFF(17,"Lignes de Vente"),t.k0s()())}function zT(n,s){1&n&&(t.j41(0,"tr")(1,"th",49),t.EFF(2,"Produit"),t.k0s(),t.j41(3,"th",51),t.EFF(4,"Quantit\xe9"),t.k0s(),t.j41(5,"th",51),t.EFF(6,"Prix de Vente"),t.k0s(),t.nrm(7,"th",52),t.k0s())}function YT(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td",53),t.EFF(6),t.nI1(7,"currency"),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.produit.nom),t.R7$(2),t.JRh(i.qtyV),t.R7$(2),t.JRh(t.brH(7,3,i.prixVente,"TND","TND"))}}function WT(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",47),t.EFF(2),t.k0s(),t.j41(3,"td",47),t.EFF(4),t.k0s(),t.j41(5,"td",47),t.EFF(6),t.k0s(),t.j41(7,"td",48),t.EFF(8),t.k0s(),t.j41(9,"td",47),t.EFF(10),t.k0s(),t.j41(11,"td",49)(12,"p-table",50),t.DNE(13,zT,8,0,"ng-template",14)(14,YT,8,7,"ng-template",15),t.k0s()()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.id),t.R7$(2),t.JRh(i.dateVente),t.R7$(2),t.JRh(i.nomClient),t.R7$(2),t.SpI("",i.total," TND "),t.R7$(2),t.Lme("",i.employer.lastname," ",i.employer.firstname,""),t.R7$(2),t.Y8G("value",i.lignesVente)}}function QT(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td",27),t.EFF(2),t.k0s(),t.j41(3,"td",28),t.EFF(4),t.k0s(),t.j41(5,"td",29),t.EFF(6),t.k0s(),t.j41(7,"td",30),t.EFF(8),t.k0s(),t.j41(9,"td",27),t.EFF(10),t.k0s(),t.j41(11,"td",31)(12,"button",32),t.bIt("click",function(o){const a=t.eBV(i).$implicit,l=t.sdS(14),p=t.XpG();return t.Njj(p.get(a,l,o))}),t.k0s(),t.j41(13,"p-overlayPanel",null,1)(15,"p-table",33,2),t.DNE(17,KT,4,1,"ng-template",34)(18,XT,18,0,"ng-template",14)(19,WT,15,7,"ng-template",15),t.k0s()(),t.j41(20,"button",35),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.removeCloture(o.id))}),t.k0s()()()}if(2&n){const i=s.$implicit,r=t.XpG();t.R7$(2),t.JRh(i.id),t.R7$(2),t.JRh(i.dateCloture),t.R7$(2),t.SpI("",i.montantClotureValide.toFixed(3)," TND "),t.R7$(2),t.SpI("",i.montantClotureEspece.toFixed(3)," TND "),t.R7$(2),t.JRh(r.getEmployer(i).lastname+" "+r.getEmployer(i).firstname),t.R7$(5),t.Y8G("scrollable",!0)("value",r.listVente)("globalFilterFields",t.lJ4(13,$T))("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.lJ4(14,wo))("loading",r.loading)("paginator",!0)}}let qT=(()=>{class n{constructor(i,r,o,a,l){this.clotureService=i,this.serviceuser=r,this.route=o,this.router=a,this.cdr=l,this.searchTerm="",this.searchTermVente="",this.clotures=[],this.cloturesFiltrer=[],this.listVente=[],this.loading=!1,this.employer=[],this.showTable=!1,this.visible=!1}ngOnInit(){this.getAllClotures()}refrech(){this.getAllClotures()}getAllClotures(){this.loading=!0,this.clotureService.getClotures().subscribe(i=>{this.clotures=i,this.loading=!1,this.cdr.detectChanges(),console.log(i)})}getClotureById(){this.route.params.subscribe(i=>{const r=i.id;r&&this.clotureService.getClotureById(r).subscribe(o=>{this.cloture=o,this.cdr.detectChanges()},o=>{console.error("Erreur lors de la r\xe9cup\xe9ration de la cl\xf4ture :",o)})})}removeCloture(i){$().fire({title:"\xcates-vous s\xfbr ?",text:"Voulez-vous supprimer ce produit ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler"}).then(r=>{r.isConfirmed?this.clotureService.deleteCloture(i).subscribe(o=>{o?(this.getAllClotures(),$().fire("Supprim\xe9",o.message,"success")):$().fire("Erreur","La suppression a r\xe9ussi, mais aucun message de confirmation n'a \xe9t\xe9 re\xe7u.","error"),this.cdr.detectChanges()},o=>{console.error("Erreur lors de la suppression :",o),$().fire("Erreur","Une erreur est survenue lors de la suppression. Veuillez consulter la console pour plus d'informations.","error")}):r.dismiss===$().DismissReason.cancel&&$().fire("Annul\xe9","La suppression a \xe9t\xe9 annul\xe9e","info")})}getEmployer(i){const r={};return this.clotures.forEach(o=>{JSON.stringify(o.employer)}),r.lastname=i.employer.lastname,r.firstname=i.employer.firstname,r}onGlobalFilter(i,r){i.filterGlobal(r.target.value,"contains")}getDetailsCloture(i){this.clotureService.getCloturesFiltrer(i.id).subscribe(r=>{this.listVente=r,this.loading=!1,this.cdr.detectChanges()})}get(i,r,o){r.toggle(o),this.getDetailsCloture(i),this.cdr.detectChanges(),console.table(i)}showDialog(){this.visible=!0,this.cdr.detectChanges()}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(yo.k),t.rXU(Ke.D),t.rXU(c.nX),t.rXU(c.Ix),t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-cloture"]],viewQuery:function(r,o){if(1&r&&t.GBs(NT,5),2&r){let a;t.mGM(a=t.lsd())&&(o.opCloture=a.first)}},standalone:!0,features:[t.aNF],decls:16,vars:12,consts:[["dtCloture",""],["opCloture",""],["dtVente",""],[1,"col-lg","pe-4","ps-4","card-forms","m-1",2,"min-width","900px"],[1,"d-flex","flex-column","mb-3","position-relative"],[1,"card","flex","align-items-center","gap-3"],["pButton","","pRipple","","label","Actualiser","Class","p-button-raised p-button-text",3,"click"],[1,"bi","bi-arrow-repeat",2,"font-size","1rem"],[1,"p-input-icon-left",2,"justify-content","flex-end"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Rechercher ... ",1,"p-inputtext",3,"ngModelChange","input","ngModel"],[1,"row","m-2","shadow-lg","p-2"],[1,"flex","flex-wrap"],[3,"scrollable","value","globalFilterFields","rows","showCurrentPageReport","rowsPerPageOptions","loading","lazy","paginator"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","id",2,"width","10%","color","#0056b3"],["field","id"],["pSortableColumn","dateCloture",2,"width","20%","color","#0056b3"],["field","dateCloture"],["pSortableColumn","montantClotureValide",2,"width","20%","color","#0056b3"],["field","montantClotureValide"],["pSortableColumn","montantClotureEspece",2,"width","20%","color","#0056b3"],["field","montantClotureEspece"],["pSortableColumn","employer.lastname",2,"width","20%","color","#0056b3"],["field","employer.lastname"],[2,"width","6%","color","#0056b3"],[1,"font-bold",2,"width","10%"],[1,"font-bold",2,"width","12%"],[1,"text-success","font-bold",2,"width","12%"],[1,"text-danger","font-bold",2,"width","12%"],[1,"surface-overlay","flex-column",2,"width","14%"],["pButton","","pRipple","","icon","pi pi-eye",1,"p-button-rounded","p-button-primary","p-button-text","p-button-raised","mr-2",3,"click"],[3,"scrollable","value","globalFilterFields","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator"],["pTemplate","caption"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","p-button-text","p-button-raised",3,"click"],[1,"flex"],["pInputText","","type","text","placeholder","Rechercher ...",1,"p-inputtext","p-component","w-auto",3,"ngModelChange","input","ngModel"],[1,"fs-4"],["pSortableColumn","dateVente",2,"width","10%","color","#0056b3"],["field","dateVente"],["pSortableColumn","nomClient",2,"width","10%","color","#0056b3"],["field","nomClient"],["pSortableColumn","total",2,"width","10%","color","#0056b3"],["field","total"],["pSortableColumn","employer.lastname",2,"width","10%","color","#0056b3"],[2,"width","35%","color","#0056b3"],[1,"fw-bold",2,"width","10%"],[1,"text-success","fw-bold",2,"width","10%"],[2,"width","35%"],[1,"shadow-lg","m-2","rounded-2","w-100",3,"value"],[2,"width","30%"],[1,"float-end",2,"width","5%"],[1,"text-success"]],template:function(r,o){if(1&r){const a=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div")(4,"button",6),t.bIt("click",function(){return t.eBV(a),t.Njj(o.refrech())}),t.nrm(5,"i",7),t.k0s()(),t.j41(6,"div")(7,"span",8),t.nrm(8,"i",9),t.j41(9,"input",10),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.searchTerm,p)||(o.searchTerm=p),t.Njj(p)}),t.bIt("input",function(){t.eBV(a);const p=t.sdS(13);return t.Njj(p.filterGlobal(o.searchTerm,"contains"))}),t.k0s()()()(),t.j41(10,"div",11)(11,"div",12)(12,"p-table",13,0),t.DNE(14,HT,18,0,"ng-template",14)(15,QT,21,15,"ng-template",15),t.k0s()()()()()}2&r&&(t.R7$(9),t.R50("ngModel",o.searchTerm),t.R7$(3),t.Y8G("scrollable",!0)("value",o.clotures)("globalFilterFields",t.lJ4(10,UT))("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.lJ4(11,wo))("loading",o.loading)("lazy",!0)("paginator",!0))},dependencies:[H.bG,H.XI,L.Ei,H.Tg,H.yc,d.tm,d._f,Zt.d,Zt.j,be.P,h.MD,h.oe,V.X1,V.me,V.BC,V.YN,V.vS,J.Z,J.n]})}return n})();const JT=()=>["dateEcheance","description","m"],ZT=()=>[5,10,20,30,50],e2=()=>({height:"550px",width:"500px"}),t2=()=>({"background-color":"#b9c7ce",color:"#1a1717"});function n2(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",14)(1,"button",15),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.showDialogCreate())}),t.k0s(),t.j41(2,"button",16),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.refrech())}),t.k0s()()}}function o2(n,s){if(1&n&&(t.j41(0,"div",17),t.nrm(1,"p-avatar",18),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Aen(t.lJ4(3,t2)),t.Y8G("value",i.tranches.length+"")}}function r2(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",19)(1,"h5",20),t.EFF(2,"Gestion des articles"),t.k0s(),t.j41(3,"span",21),t.nrm(4,"i",22),t.j41(5,"input",23),t.bIt("input",function(o){t.eBV(i);const a=t.XpG(),l=t.sdS(8);return t.Njj(a.onGlobalFilter(l,o))}),t.k0s()()()}}function s2(n,s){1&n&&(t.j41(0,"tr")(1,"th",24),t.nrm(2,"p-tableHeaderCheckbox"),t.k0s(),t.j41(3,"th",25),t.EFF(4,"Code "),t.nrm(5,"p-sortIcon",26),t.k0s(),t.j41(6,"th",27),t.EFF(7,"Description "),t.nrm(8,"p-sortIcon",28),t.k0s(),t.j41(9,"th",29),t.EFF(10,"Date "),t.nrm(11,"p-sortIcon",30),t.k0s(),t.j41(12,"th",31),t.EFF(13,"Montant "),t.nrm(14,"p-sortIcon",32),t.k0s(),t.j41(15,"th",33),t.EFF(16,"Etat Payement "),t.nrm(17,"p-sortIcon",34),t.k0s(),t.nrm(18,"th"),t.k0s())}function a2(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.nrm(2,"p-tableCheckbox",35),t.k0s(),t.j41(3,"td",36)(4,"span",37),t.EFF(5,"Code"),t.k0s(),t.EFF(6),t.k0s(),t.j41(7,"td",36)(8,"span",37),t.EFF(9,"Nom"),t.k0s(),t.EFF(10),t.k0s(),t.j41(11,"td",36)(12,"span",37),t.EFF(13,"Date"),t.k0s(),t.EFF(14),t.k0s(),t.j41(15,"td",38)(16,"span",37),t.EFF(17,"Unite"),t.k0s(),t.EFF(18),t.k0s(),t.j41(19,"td",38)(20,"span",37),t.EFF(21,"Unite"),t.k0s(),t.EFF(22),t.k0s(),t.nrm(23,"td",39),t.k0s()),2&n){const i=s.$implicit;t.R7$(2),t.Y8G("value",i),t.R7$(4),t.SpI("",i.id," "),t.R7$(4),t.SpI("",i.description," "),t.R7$(4),t.JRh(i.dateEcheance),t.R7$(4),t.JRh(i.montantTranche),t.R7$(4),t.JRh(i.statutPayement)}}function l2(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",40)(1,"label"),t.EFF(2,"Description"),t.k0s(),t.j41(3,"input",41),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newTranche.description,o)||(a.newTranche.description=o),t.Njj(o)}),t.k0s()(),t.j41(4,"div",40)(5,"label"),t.EFF(6,"Date"),t.k0s(),t.j41(7,"input",42),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newTranche.dateEcheance,o)||(a.newTranche.dateEcheance=o),t.Njj(o)}),t.k0s()(),t.j41(8,"div",40)(9,"label",43),t.EFF(10,"Montant"),t.k0s(),t.j41(11,"textarea",44),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newTranche.montantTranche,o)||(a.newTranche.montantTranche=o),t.Njj(o)}),t.k0s()(),t.j41(12,"div",40)(13,"label",45),t.EFF(14,"Etat"),t.k0s(),t.j41(15,"input",46),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newTranche.statutPayement,o)||(a.newTranche.statutPayement=o),t.Njj(o)}),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(3),t.R50("ngModel",i.newTranche.description),t.R7$(4),t.R50("ngModel",i.newTranche.dateEcheance),t.R7$(4),t.R50("ngModel",i.newTranche.montantTranche),t.R7$(4),t.R50("ngModel",i.newTranche.statutPayement)}}function c2(n,s){}let d2=(()=>{class n{constructor(i,r){this.trancheService=i,this.router=r,this.tranches=[],this.searchTerm="",this.newTranche=new St._,this.loading=!0,this.displayusers=!0,this.ajoutTr=!1,this.displayusers=!0}ngOnInit(){this.getAllTranches(),this.trancheService.exist("tranche")}getAllTranches(){this.loading=!0,this.trancheService.getTranches().subscribe(i=>{this.tranches=i,this.loading=!1,console.log("Services:",i)},i=>{console.error("Error fetching ventes:",i),this.displayusers=!1,$().fire({icon:"error",title:"Oops...",text:"Vous n'avez pas la permission s'il vous plait  contacter l'administrateur.  "})})}rechercher(){this.tranches=this.trancheService.rechercheTranche(this.searchTerm)}addTranche(){this.router.navigate(["/tranche-add"])}modifierTranche(i){console.log("tranche s\xe9lectionn\xe9 pour modification :",i.id),this.router.navigate(["/tranche-edit",i.id])}refrech(){}showDialogCreate(){}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(ii),t.rXU(c.Ix))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-tranche"]],standalone:!0,features:[t.aNF],decls:15,vars:14,consts:[["dt",""],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","id",3,"value","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Depot Details",1,"p-fluid",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","label","Ajouter","icon","pi pi-plus",1,"p-button-success","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","label","Actualiser","icon","pi pi-refresh",1,"p-button-primary","p-button-outlined",3,"click"],[1,"col-2","float-end","d-flex","d-inline"],["icon","pi pi-book","pBadge","","styleClass","mr-5","size","large",1,"float-end",3,"value"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","recherche...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","id"],["field","id"],["pSortableColumn","desciption"],["field","desciption"],["pSortableColumn","dateEcheance"],["field","dateEcheance"],["pSortableColumn","montantTranche"],["field","montantTranche"],["pSortableColumn","statutPayement"],["field","statutPayement"],[3,"value"],[2,"min-width","10rem"],[1,"p-column-title"],[2,"min-width","8rem"],[2,"max-width","10rem"],[1,"field"],["type","description","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel"],["type","dateEcheance","pInputText","","id","telephone","required","","autofocus","",3,"ngModelChange","ngModel"],["for","montantTranche"],["id","montantTranche","pInputTextarea","","required","","rows","3","cols","20",3,"ngModelChange","ngModel"],["for","capitale"],["type","text","pInputText","","id","capitale","required","","autofocus","",3,"ngModelChange","ngModel"]],template:function(r,o){if(1&r){const a=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.nrm(3,"p-toast"),t.j41(4,"p-toolbar",4),t.DNE(5,n2,3,0,"ng-template",5)(6,o2,2,4,"ng-template",6),t.k0s(),t.j41(7,"p-table",7,0),t.DNE(9,r2,6,0,"ng-template",8)(10,s2,19,0,"ng-template",9)(11,a2,24,6,"ng-template",10),t.k0s()()()(),t.j41(12,"p-dialog",11),t.mxI("visibleChange",function(p){return t.eBV(a),t.DH7(o.ajoutTr,p)||(o.ajoutTr=p),t.Njj(p)}),t.DNE(13,l2,16,4,"ng-template",12)(14,c2,0,0,"ng-template",13),t.k0s()}2&r&&(t.R7$(7),t.Y8G("value",o.tranches)("rows",10)("globalFilterFields",t.lJ4(11,JT))("paginator",!0)("rowsPerPageOptions",t.lJ4(12,ZT))("showCurrentPageReport",!0)("rowHover",!0),t.R7$(5),t.Aen(t.lJ4(13,e2)),t.R50("visible",o.ajoutTr),t.Y8G("modal",!0))},dependencies:[d.tm,d._f,L.Ei,V.YN,V.me,V.BC,V.YS,V.vS,H.bG,H.XI,H.Tg,H.yc,H.S9,H.nA,Ce.m,Ce.e,Te.EJ,Te.FO,be.P,be.l,w.kr,E.u,E.S,Ge,Ye,J.Z,J.n,de.MB,de.y8,xe.m,xe.M]})}return n})();const p2=()=>["id","nom","description"],u2=()=>[5,10,20,30],_2=()=>({"background-color":"#b9c7ce",color:"#1a1717"});function m2(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",11)(1,"button",12),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.newService())}),t.k0s(),t.j41(2,"button",13),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.refresh())}),t.k0s()()}}function h2(n,s){if(1&n&&t.nrm(0,"p-avatar",16),2&n){const i=t.XpG(2);t.Aen(t.lJ4(3,_2)),t.Y8G("value",i.services.length+"")}}function f2(n,s){if(1&n&&(t.j41(0,"div",14),t.DNE(1,h2,1,4,"p-avatar",15),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",i.displayusers)}}function g2(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",17)(1,"h5",18),t.EFF(2,"gestion des services"),t.k0s(),t.j41(3,"span",19),t.nrm(4,"i",20),t.j41(5,"input",21),t.bIt("input",function(o){t.eBV(i);const a=t.XpG(),l=t.sdS(10);return t.Njj(a.onGlobalFilter(l,o))}),t.k0s()()()}}function b2(n,s){1&n&&(t.j41(0,"tr")(1,"th",22),t.nrm(2,"p-tableHeaderCheckbox"),t.k0s(),t.j41(3,"th",23),t.EFF(4,"Code "),t.nrm(5,"p-sortIcon",24),t.k0s(),t.j41(6,"th",25),t.EFF(7,"Nom "),t.nrm(8,"p-sortIcon",26),t.k0s(),t.j41(9,"th",27),t.EFF(10,"Description "),t.nrm(11,"p-sortIcon",28),t.k0s(),t.j41(12,"th",29),t.EFF(13,"Date Debut "),t.nrm(14,"p-sortIcon",30),t.k0s(),t.j41(15,"th",31),t.EFF(16,"Date Fin "),t.nrm(17,"p-sortIcon",32),t.k0s(),t.j41(18,"th",33),t.EFF(19,"Co\xfbt Service "),t.nrm(20,"p-sortIcon",34),t.k0s(),t.j41(21,"th"),t.EFF(22,"Type"),t.k0s(),t.nrm(23,"th"),t.k0s())}function v2(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.nrm(2,"p-tableCheckbox",35),t.k0s(),t.j41(3,"td",36)(4,"span",37),t.EFF(5,"Code"),t.k0s(),t.EFF(6),t.k0s(),t.j41(7,"td",36)(8,"span",37),t.EFF(9,"Nom"),t.k0s(),t.EFF(10),t.k0s(),t.j41(11,"td",38)(12,"span",37),t.EFF(13,"Description"),t.k0s(),t.EFF(14),t.k0s(),t.j41(15,"td",39)(16,"span",37),t.EFF(17,"Date Debut"),t.k0s(),t.EFF(18),t.k0s(),t.j41(19,"td",36)(20,"span",37),t.EFF(21,"Date Fin"),t.k0s(),t.EFF(22),t.k0s(),t.j41(23,"td",36)(24,"span",37),t.EFF(25,"Co\xfbt Service"),t.k0s(),t.EFF(26),t.nI1(27,"number"),t.k0s(),t.j41(28,"td",40),t.EFF(29),t.k0s(),t.j41(30,"td")(31,"div",41)(32,"button",42),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.modifierService(o))}),t.k0s(),t.j41(33,"button",43),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.supprimerService(o.id))}),t.k0s()()()()}if(2&n){const i=s.$implicit;t.R7$(2),t.Y8G("value",i),t.R7$(4),t.SpI("",i.id," "),t.R7$(4),t.SpI("",i.nomServiceComp," "),t.R7$(4),t.SpI("",i.descriptionServiceComp," "),t.R7$(4),t.SpI("",i.dateDebutService," "),t.R7$(4),t.JRh(i.dateFinService),t.R7$(4),t.JRh(t.i5U(27,11,i.coutService,"1.3-3")),t.R7$(2),t.muq("width: 8%; color:",i.outService?"green":"red",""),t.R7$(),t.JRh(i.outService?"ENTREE":"SORTIE")}}let C2=(()=>{class n{constructor(i,r,o,a){this.serviceCompService=i,this.router=r,this.confirmationService=o,this.messageService=a,this.services=[],this.loading=!0,this.displayusers=!0}ngOnInit(){this.getAllServices()}getAllServices(){this.loading=!0,this.serviceCompService.getServices().subscribe(i=>{this.services=i,this.loading=!1,console.table(i)},i=>{console.error("Error fetching services:",i),this.loading=!1,this.messageService.add({severity:"error",summary:"Oops...",detail:"Vous n'avez pas la permission, s'il vous pla\xeet contactez l'administrateur."})})}newService(){this.router.navigate(["/uikit/ajout-service"])}refresh(){}onGlobalFilter(i,r){i.filterGlobal(r.target.value,"contains")}modifierService(i){this.router.navigate(["/uikit/edit-service",i.id])}supprimerService(i){this.confirmationService.confirm({message:"Voulez-vous supprimer cet utilisateur ?",header:"Confirmation de suppression",icon:"pi pi-info-circle",acceptLabel:"Oui, supprimer",rejectLabel:"Annuler",accept:()=>{this.serviceCompService.deleteService(i).subscribe(r=>{r&&(this.messageService.add({severity:"success",summary:"Supprim\xe9",detail:"Le service a \xe9t\xe9 supprim\xe9 avec succ\xe8s!"}),this.getAllServices())},r=>{console.error("Erreur lors de la suppression :",r),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la suppression. Veuillez consulter la console pour plus d'informations."})})},reject:()=>{this.messageService.add({severity:"info",summary:"Annul\xe9",detail:"La suppression a \xe9t\xe9 annul\xe9e"})}})}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(si),t.rXU(c.Ix),t.rXU(L.td),t.rXU(L.bg))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-service"]],standalone:!0,features:[t.aNF],decls:14,vars:9,consts:[["dt",""],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Affichage {first} \xe0 {last} sur {totalRecords} \xe9lements","selectionMode","multiple","dataKey","id",3,"value","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"my-2"],["pButton","","pRipple","","label","Ajouter","icon","pi pi-plus",1,"p-button-success","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","label","Actualiser","icon","pi pi-refresh",1,"p-button-primary","p-button-outlined",3,"click"],[1,"col-2","float-end","d-flex","d-inline"],["class","float-end","icon","pi pi-sliders-h","pBadge","","styleClass","mr-5","size","large",3,"value","style",4,"ngIf"],["icon","pi pi-sliders-h","pBadge","","styleClass","mr-5","size","large",1,"float-end",3,"value"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","id"],["field","id"],["pSortableColumn","nom"],["field","nom"],["pSortableColumn","description"],["field","description"],["pSortableColumn","dateDebut"],["field","dateDebut"],["pSortableColumn","dateFin"],["field","dateFin"],["pSortableColumn","coutService"],["field","inventoryStatus"],[3,"value"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","14%"],[2,"width","14%","min-width","8rem"],[1,"fw-bold"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"]],template:function(r,o){1&r&&(t.nrm(0,"p-confirmDialog")(1,"p-toast"),t.j41(2,"div",1)(3,"div",2)(4,"div",3),t.nrm(5,"p-toast"),t.j41(6,"p-toolbar",4),t.DNE(7,m2,3,0,"ng-template",5)(8,f2,2,1,"ng-template",6),t.k0s(),t.j41(9,"p-table",7,0),t.DNE(11,g2,6,0,"ng-template",8)(12,b2,24,0,"ng-template",9)(13,v2,34,14,"ng-template",10),t.k0s()()()()),2&r&&(t.R7$(9),t.Y8G("value",o.services)("rows",10)("globalFilterFields",t.lJ4(7,p2))("paginator",!0)("rowsPerPageOptions",t.lJ4(8,u2))("showCurrentPageReport",!0)("rowHover",!0))},dependencies:[Ce.m,Ce.e,Te.EJ,Te.FO,L.Ei,d.tm,d._f,Gn,h.bT,h.QX,E.u,E.S,J.Z,J.n,L.Gg,H.bG,H.XI,H.Tg,H.yc,H.S9,H.nA,de.MB,de.y8,xe.m,xe.M,ve.F,ve.T]})}return n})();class So{constructor(s,i,r,o,a,l,p,S,O){this.etatService=!0,this.outService=!0,this.id=s||0,this.nomServiceComp=i||"",this.descriptionServiceComp=r||"",this.coutService=o||0,this.dateDebutService=a||new Date,this.dateFinService=l||new Date,this.users=O||[]}get _id(){return this.id}set _id(s){this.id=s}get _nomServiceComp(){return this.nomServiceComp}set _nomServiceComp(s){this.nomServiceComp=s}get _descriptionServiceComp(){return this.descriptionServiceComp}set _descriptionServiceComp(s){this.descriptionServiceComp=s}get _coutService(){return this.coutService}set _coutService(s){this.coutService=s}get _dateDebutService(){return this.dateDebutService}set _dateDebutService(s){this.dateDebutService=s}get _dateFinService(){return this.dateFinService}set _dateFinService(s){this.dateFinService=s}get _etatService(){return this.etatService}set _etatService(s){this.etatService=s}get _outService(){return this.outService}set _outService(s){this.outService=s}get _users(){return this.users}set _users(s){this.users=s}}function T2(n,s){if(1&n&&(t.j41(0,"div",3)(1,"h2",4),t.EFF(2),t.k0s()()),2&n){const i=t.XpG();t.R7$(2),t.SpI("",i.getTitleService(),"Service")}}function I2(n,s){if(1&n&&(t.j41(0,"div",37)(1,"p"),t.EFF(2),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.firstname)}}function y2(n,s){if(1&n&&(t.j41(0,"div",37)(1,"p"),t.EFF(2),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.firstname)}}function x2(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",5)(1,"h5",6),t.EFF(2,"Information de service"),t.k0s(),t.j41(3,"div",7)(4,"div",8)(5,"label",9),t.nrm(6,"span",10),t.EFF(7," Nom service "),t.k0s(),t.j41(8,"input",11),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newService.nomServiceComp,o)||(a.newService.nomServiceComp=o),t.Njj(o)}),t.k0s(),t.j41(9,"small",12),t.EFF(10,"V\xe9rifier bien que votre nom est significatif "),t.k0s()(),t.j41(11,"div",13)(12,"label",14),t.EFF(13,"Co\xfbt service "),t.k0s(),t.j41(14,"p-inputNumber",15),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newService.coutService,o)||(a.newService.coutService=o),t.Njj(o)}),t.k0s()(),t.j41(15,"p-fieldset",16)(16,"div",17)(17,"p-radioButton",18),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newService.etatService,o)||(a.newService.etatService=o),t.Njj(o)}),t.k0s(),t.j41(18,"label",19),t.EFF(19,"Activer"),t.k0s(),t.j41(20,"p-radioButton",20),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newService.etatService,o)||(a.newService.etatService=o),t.Njj(o)}),t.k0s(),t.j41(21,"label",21),t.EFF(22,"D\xe9sactiver"),t.k0s()()(),t.j41(23,"p-fieldset",22)(24,"div",17)(25,"p-radioButton",23),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newService.outService,o)||(a.newService.outService=o),t.Njj(o)}),t.k0s(),t.j41(26,"label",19),t.EFF(27,"Entrer"),t.k0s(),t.j41(28,"p-radioButton",24),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newService.outService,o)||(a.newService.outService=o),t.Njj(o)}),t.k0s(),t.j41(29,"label",21),t.EFF(30,"Sortie"),t.k0s()()()(),t.j41(31,"div",13)(32,"label",25),t.nrm(33,"span",26),t.EFF(34," D\xe9scription "),t.k0s(),t.j41(35,"textarea",27),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newService.descriptionServiceComp,o)||(a.newService.descriptionServiceComp=o),t.Njj(o)}),t.k0s()(),t.j41(36,"div",28)(37,"div",29)(38,"label",30),t.EFF(39," Date debut"),t.k0s(),t.j41(40,"p-calendar",31),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newService.dateDebutService,o)||(a.newService.dateDebutService=o),t.Njj(o)}),t.k0s()(),t.j41(41,"div",29)(42,"label",32),t.EFF(43," Date fin "),t.k0s(),t.j41(44,"p-calendar",31),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newService.dateFinService,o)||(a.newService.dateFinService=o),t.Njj(o)}),t.k0s()(),t.j41(45,"div",33)(46,"label",32),t.EFF(47," S\xe9lection d'utilisateur "),t.k0s(),t.j41(48,"p-multiSelect",34),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.newService.users,o)||(a.newService.users=o),t.Njj(o)}),t.DNE(49,I2,3,1,"ng-template",35)(50,y2,3,1,"ng-template",36),t.k0s()()()()}if(2&n){const i=t.XpG();t.R7$(8),t.R50("ngModel",i.newService.nomServiceComp),t.R7$(6),t.Y8G("min",0),t.R50("ngModel",i.newService.coutService),t.R7$(3),t.Y8G("value",!0),t.R50("ngModel",i.newService.etatService),t.R7$(),t.Y8G("for",i.newService.etatService),t.R7$(2),t.Y8G("value",!1),t.R50("ngModel",i.newService.etatService),t.R7$(),t.Y8G("for",i.newService.etatService),t.R7$(4),t.Y8G("value",!0),t.R50("ngModel",i.newService.outService),t.R7$(),t.Y8G("for",i.newService.outService),t.R7$(2),t.Y8G("value",!1),t.R50("ngModel",i.newService.outService),t.R7$(),t.Y8G("for",i.newService.outService),t.R7$(6),t.R50("ngModel",i.newService.descriptionServiceComp),t.Y8G("autoResize",!0),t.R7$(5),t.R50("ngModel",i.newService.dateDebutService),t.Y8G("touchUI",!0)("readonlyInput",!0),t.R7$(4),t.R50("ngModel",i.newService.dateFinService),t.Y8G("touchUI",!0)("readonlyInput",!0),t.R7$(4),t.Y8G("options",i.users),t.R50("ngModel",i.newService.users),t.Y8G("filter",!0)("showClear",!0)("disabled",!!i.newService.id)}}function E2(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",38)(1,"button",39),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.returnBack())}),t.k0s(),t.j41(2,"button",40),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.ajouterService())}),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(2),t.FS9("label",i.getTitleService())}}let ko=(()=>{class n{constructor(i,r,o,a,l,p){this.serviceService=i,this.userService=r,this.route=o,this.router=a,this.messageService=l,this.confirmationService=p,this.newService=new So,this.users=[]}ngOnInit(){this.loadUsers(),this.route.params.subscribe(i=>{this.serviceId=+i.id,this.serviceId&&this.loadService()})}loadUsers(){this.userService.getUsers().subscribe(i=>{this.users=i})}loadService(){this.serviceId&&this.serviceService.getServiceById(this.serviceId).subscribe(i=>{this.newService=i},i=>{console.error("Erreur lors du chargement du service :",i)})}ajouterService(){this.newService.id?this.serviceService.updateService(this.newService).subscribe(i=>{this.messageService.add({severity:"success",summary:"Succ\xe8s",detail:"Service mis \xe0 jour avec succ\xe8s"}),this.router.navigate(["/uikit/services"])},i=>{console.error("Erreur lors de la mise \xe0 jour du service :",i),this.messageService.add({severity:"error",summary:"Erreur",detail:"Erreur lors de la mise \xe0 jour du service"})}):this.serviceService.addService(this.newService).subscribe(i=>{this.confirmationService.confirm({message:"Service ajout\xe9 avec succ\xe8s. Voulez-vous consulter la liste des services ?",accept:()=>{this.router.navigate(["/uikit/services"])},reject:()=>{this.newService=new So}})},i=>{console.error("Erreur lors de l'ajout du service :",i),this.messageService.add({severity:"error",summary:"Erreur",detail:"Erreur lors de l'ajout du service"})})}returnBack(){this.router.navigate(["/uikit/services"])}getTitleService(){return this.newService.id?"Update ":"Ajouter "}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(si),t.rXU(Ke.D),t.rXU(c.nX),t.rXU(c.Ix),t.rXU(L.bg),t.rXU(L.td))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-ajout-service"]],standalone:!0,features:[t.aNF],decls:6,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],["pTemplate","footer"],[1,"flex","justify-content-between","align-items-center"],[1,"text-primary-600","font-bold","m-3"],[1,"flex-auto","card","col-12"],[1,"text-bluegray-600","font-bold"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex","flex-column","gap-2","p-3","div","p-col-12","p-md-6","p-lg-4","p-xl-3"],["for","nomservice",1,"font-bold","fs-5"],[1,"pi","pi-tags","text-success","font-bold"],["pInputText","","id","nomservice","aria-describedby","username-help",1,"form-control",3,"ngModelChange","ngModel"],["id","nomproduit-help"],[1,"flex","flex-column","gap-2","p-3"],[1,"form-label","font-bold","fs-5"],["pTooltip","Co\xfbt service","inputId","currency-india","currency","TND","currencyDisplay","code","locale","en-IN",3,"ngModelChange","min","ngModel"],["legend","\xc9tat du service"],[1,"p-d-flex","p-ai-center"],["name","etatService","inputId","active",3,"ngModelChange","value","ngModel"],[1,"m-2","font-bold","text-red-600",3,"for"],["name","etatService","inputId","inactive",3,"ngModelChange","value","ngModel"],[1,"ml-2","font-bold","text-red-600",3,"for"],["legend","Entr\xe9 Sortie"],["name","outService","inputId","entry",3,"ngModelChange","value","ngModel"],["name","outService","inputId","exit",3,"ngModelChange","value","ngModel"],[1,"font-bold","fs-5"],[1,"pi","pi-info-circle","text-success","font-bold","fs-5"],["rows","5","cols","30","pInputTextarea","",3,"ngModelChange","ngModel","autoResize"],[1,"flex","g-3","p-2","justify-content-center","flex-wrap"],[1,"flex-auto"],[1,"font-bold","fs-5","block","m-2"],["dateFormat","yy-mm-dd",3,"ngModelChange","ngModel","touchUI","readonlyInput"],[1,"font-bold","block","mb-2"],[1,"flex-auto","text-primary-600","font-bold"],["optionLabel","firstname","filterBy","nom","placeholder","Select Users",3,"ngModelChange","options","ngModel","filter","showClear","disabled"],["pTemplate","item"],["pTemplate","selectedItem"],[1,"flex","align-items-center","gap-2"],[1,"flex","justify-content-end"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text","p-button-danger",3,"click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text","p-button-success",3,"click","label"]],template:function(r,o){1&r&&(t.nrm(0,"p-confirmDialog")(1,"p-toast"),t.j41(2,"p-card"),t.DNE(3,T2,3,1,"ng-template",0)(4,x2,51,28,"ng-template",1)(5,E2,3,1,"ng-template",2),t.k0s())},dependencies:[V.YN,V.me,V.BC,V.vS,To.xs,L.Ei,be.P,Ie.O3,Ie.YI,Ae.rO,Ae.Vv,d._f,He.q4,pt.D,pt.Z,H.bG,Hi,w.kr,ve.F,ve.T,et,E.u,E.S,Ge,Ye,zt,J.Z,J.n,de.MB,de.y8,Ze,Di,$e.Ko,$e.a,wt,Et]})}return n})(),Yi=(()=>{class n{constructor(i,r){this.http=i,this.datePipe=r,this.api=`${Ue.c.apiUrl}/commandes`}getAllCommandes(){const i=localStorage.getItem("token");if(console.log(i),i){const r=(new ie.Lr).set("Authorization",`Bearer ${i}`).set("Content-Type","application/json; charset=utf8");return this.http.get(this.api,{headers:r})}return new D.c}getCommandeById(i){const r=(new ie.Lr).set("Authorization",`Bearer ${(0,re.gf)()}`);return this.http.get(`${this.api}/${i}`,{headers:r})}addCommande(i){const r=(0,re.gf)(),o=new ie.Lr({Authorization:`Bearer ${r}`,"Content-Type":"application/json"}),a=i.produits.flatMap(S=>S.produit.files.map(O=>({id:O.id,name:O.name,type:O.type,path:O.path}))),l=i.produits.map(S=>({produit:{id:S.produit.id,qantite:S.produit.qantite,nom:S.produit.nom,prixUnitaire:S.produit.prixUnitaire,prixGros:S.produit.prixGros,description:S.produit.description,dataqr:S.produit.dataqr,gainUnitaire:S.produit.gainUnitaire,gainGros:S.produit.gainGros,minQuantiteGros:S.produit.minQuantiteGros,article:{id:S.produit.article.id,nom:S.produit.article.nom,description:S.produit.article.description,unite:S.produit.article.unite},dateFabrication:S.produit.dateFabrication,dateExpiration:S.produit.dateExpiration,taxe:S.produit.taxe,filesList:a},qtyV:S.qtyV,montantTotal:S.prixVente,prixVente:S.produit.prixUnitaire+S.produit.gainUnitaire,prixAchat:S.produit.prixUnitaire})),p={dateCreation:this.datePipe.transform(i.dateCreation,"yyyy-MM-dd"),dateValidationOuSortie:this.datePipe.transform(i.dateValidationOuSortie,"yyyy-MM-dd"),dateEstimeeFin:this.datePipe.transform(i.dateEstimeeFin,"yyyy-MM-dd"),reference:i.reference,paiement:i.paiement,status:i.status,avance:i.avance,prixSupplimentaire:i.prixSupplimentaire,totalCoutService:i.totalCoutService,totalProduits:i.totalProduits,prixTotal:i.prixTotal,produits:l,nomPanne:i.nomPanne,descriptionPanne:i.descriptionPanne,descriptionprixSupplimentaire:i.descriptionprixSupplimentaire,client:{id:i.client.id,role:i.client.role},services:i.services.map(S=>({id:S.id,description:S.descriptionServiceComp}))};return console.log("Commande envoy\xe9e:",p),this.http.post(this.api,p,{headers:o}).pipe((0,Ni.W)(S=>(console.error("Erreur lors de l'ajout de la commande:",S),(0,ti.$)(()=>new Error("Une erreur est survenue lors de l'ajout de la commande.")))))}updateCommande(i){const r=(0,re.gf)(),o=new ie.Lr({Authorization:`Bearer ${r}`,"Content-Type":"application/json"}),a=i.produits.flatMap(S=>S.produit.files.map(O=>({id:O.id,name:O.name,type:O.type,path:O.path}))),l=i.produits.map(S=>({produit:{id:S.produit.id,qantite:S.produit.qantite,nom:S.produit.nom,prixUnitaire:S.produit.prixUnitaire,prixGros:S.produit.prixGros,description:S.produit.description,dataqr:S.produit.dataqr,gainUnitaire:S.produit.gainUnitaire,gainGros:S.produit.gainGros,minQuantiteGros:S.produit.minQuantiteGros,article:{id:S.produit.article.id,nom:S.produit.article.nom,description:S.produit.article.description,unite:S.produit.article.unite},dateFabrication:S.produit.dateFabrication,dateExpiration:S.produit.dateExpiration,taxe:S.produit.taxe,filesList:a},qtyV:S.qtyV,montantTotal:S.prixVente,prixVente:S.produit.prixUnitaire+S.produit.gainUnitaire,prixAchat:S.produit.prixUnitaire})),p={dateCreation:this.datePipe.transform(i.dateCreation,"yyyy-MM-dd"),dateValidationOuSortie:this.datePipe.transform(i.dateValidationOuSortie,"yyyy-MM-dd"),dateEstimeeFin:this.datePipe.transform(i.dateEstimeeFin,"yyyy-MM-dd"),paiement:i.paiement,reference:i.reference,status:i.status,avance:i.avance,prixSupplimentaire:i.prixSupplimentaire,totalCoutService:i.totalCoutService,totalProduits:i.totalProduits,prixTotal:i.prixTotal,produits:l,nomPanne:i.nomPanne,descriptionPanne:i.descriptionPanne,descriptionprixSupplimentaire:i.descriptionprixSupplimentaire,client:{id:i.client.id,role:i.client.role},services:i.services.map(S=>({id:S.id,description:S.descriptionServiceComp}))};return console.log("Commande mise \xe0 jour:",p),this.http.put(`${this.api}/${i.id}`,p,{headers:o}).pipe((0,Ni.W)(S=>(console.error("Erreur lors de la mise \xe0 jour de la commande:",S),(0,ti.$)(()=>new Error("Une erreur est survenue lors de la mise \xe0 jour de la commande.")))))}deleteCommande(i){const r=(new ie.Lr).set("Authorization",`Bearer ${(0,re.gf)()}`);return this.http.delete(`${this.api}/${i}`,{headers:r})}static#e=this.\u0275fac=function(r){return new(r||n)(t.KVO(ie.Qq),t.KVO(h.vh))};static#t=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const w2=()=>["id","dateCreation","dateEstimeeFin","dateValidationOuSortie","status","prixTotal","paiement","avance","descriptionPanne","nomPanne"],S2=()=>[5,10,20,30,50],k2=()=>({"background-color":"#b9c7ce",color:"#1a1717"}),F2=(n,s,i)=>({"status-en-cours":n,"status-retour":s,"status-terminer":i});function D2(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",13)(1,"button",14),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.ajouterCommandeService())}),t.k0s(),t.j41(2,"button",15),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.refresh())}),t.k0s()()}}function O2(n,s){if(1&n&&(t.j41(0,"div",16),t.nrm(1,"p-avatar",17),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Aen(t.lJ4(3,k2)),t.Y8G("value",i.commandes.length+"")}}function M2(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",18)(1,"h5",19),t.EFF(2,"Gestion des commandes"),t.k0s(),t.j41(3,"span",20),t.nrm(4,"i",21),t.j41(5,"input",22),t.bIt("input",function(o){t.eBV(i);const a=t.XpG(),l=t.sdS(8);return t.Njj(a.onGlobalFilter(l,o))}),t.k0s()()()}}function R2(n,s){1&n&&(t.j41(0,"tr")(1,"th",23),t.EFF(2,"ID "),t.nrm(3,"p-sortIcon",24),t.k0s(),t.j41(4,"th",25),t.EFF(5,"DateCr\xe9ation "),t.nrm(6,"p-sortIcon",26),t.k0s(),t.j41(7,"th",27),t.EFF(8,"Estim\xe9e Fin "),t.nrm(9,"p-sortIcon",28),t.k0s(),t.j41(10,"th",29),t.EFF(11,"Date Sortie "),t.nrm(12,"p-sortIcon",30),t.k0s(),t.j41(13,"th",31),t.EFF(14,"Total "),t.nrm(15,"p-sortIcon",32),t.k0s(),t.j41(16,"th",33),t.EFF(17,"Avance "),t.nrm(18,"p-sortIcon",34),t.k0s(),t.j41(19,"th",35),t.EFF(20,"Description "),t.nrm(21,"p-sortIcon",36),t.k0s(),t.j41(22,"th",37),t.EFF(23,"Panne "),t.nrm(24,"p-sortIcon",38),t.k0s(),t.j41(25,"th",39),t.EFF(26,"Status "),t.nrm(27,"p-sortIcon",40),t.k0s(),t.j41(28,"th",41),t.EFF(29,"Paiement "),t.nrm(30,"p-sortIcon",42),t.k0s(),t.nrm(31,"th"),t.k0s())}function j2(n,s){1&n&&(t.qex(0),t.nrm(1,"i",50),t.bVm())}function P2(n,s){1&n&&t.nrm(0,"i",51)}function A2(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td")(2,"span",43),t.EFF(3,"ID"),t.k0s(),t.EFF(4),t.k0s(),t.j41(5,"td")(6,"span",43),t.EFF(7,"Date de Cr\xe9ation"),t.k0s(),t.EFF(8),t.k0s(),t.j41(9,"td")(10,"span",43),t.EFF(11,"Date Estim\xe9e de Fin"),t.k0s(),t.EFF(12),t.k0s(),t.j41(13,"td")(14,"span",43),t.EFF(15,"Date de Validation ou Sortie"),t.k0s(),t.EFF(16),t.k0s(),t.j41(17,"td")(18,"span",43),t.EFF(19,"Prix Total"),t.k0s(),t.EFF(20),t.k0s(),t.j41(21,"td")(22,"span",43),t.EFF(23,"Avance"),t.k0s(),t.EFF(24),t.k0s(),t.j41(25,"td")(26,"span",43),t.EFF(27,"Description de la Panne"),t.k0s(),t.EFF(28),t.k0s(),t.j41(29,"td")(30,"span",43),t.EFF(31,"Nom de la Panne"),t.k0s(),t.EFF(32),t.k0s(),t.j41(33,"td")(34,"span",43),t.EFF(35,"Status"),t.k0s(),t.j41(36,"span",44),t.EFF(37),t.k0s()(),t.j41(38,"td")(39,"span",43),t.EFF(40,"Paiement"),t.k0s(),t.DNE(41,j2,2,0,"ng-container",45)(42,P2,1,0,"ng-template",null,2,t.C5r),t.k0s(),t.j41(44,"td")(45,"div",46)(46,"button",47),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.editCommande(o.id))}),t.k0s(),t.j41(47,"button",48),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.goToCoommandeDetails(o.id))}),t.k0s(),t.j41(48,"button",49),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.confirmDelete(o.id))}),t.k0s()()()()}if(2&n){const i=s.$implicit,r=t.sdS(43);t.R7$(4),t.JRh(i.id),t.R7$(4),t.JRh(i.dateCreation),t.R7$(4),t.JRh(i.dateEstimeeFin),t.R7$(4),t.SpI("",i.dateValidationOuSortie," "),t.R7$(4),t.JRh(i.prixTotal),t.R7$(4),t.JRh(i.avance),t.R7$(4),t.SpI("",i.descriptionPanne," "),t.R7$(4),t.JRh(i.nomPanne),t.R7$(4),t.Y8G("ngClass",t.sMw(12,F2,"ENCOURS"===i.status,"RETOUR"===i.status,"CONFIRME"===i.status)),t.R7$(),t.SpI(" ",i.status," "),t.R7$(4),t.Y8G("ngIf",i.paiement)("ngIfElse",r)}}let L2=(()=>{class n{constructor(i,r,o,a){this.commandesService=i,this.router=r,this.confirmationService=o,this.messageService=a,this.commandes=[],this.statuses=[{label:"En cours",value:"ENCOURS"},{label:"Retour",value:"RETOUR"},{label:"Confirm\xe9",value:"CONFIRME"}]}ngOnInit(){this.getCommandes()}getCommandes(){this.commandesService.getAllCommandes().subscribe(i=>{this.commandes=i,console.table(this.commandes)},i=>{console.error("Erreur lors de la r\xe9cup\xe9ration des commandes",i)})}confirmDelete(i){this.confirmationService.confirm({message:"\xcates-vous s\xfbr de vouloir supprimer cette commande ?",header:"Confirmer la suppression",icon:"pi pi-info-circle",accept:()=>{this.deleteCommande(i)},reject:()=>{}})}deleteCommande(i){this.commandesService.deleteCommande(i).subscribe({next:()=>{this.commandes=this.commandes.filter(r=>r.id!==i),this.messageService.add({severity:"success",summary:"Succ\xe8s",detail:"Commande supprim\xe9e avec succ\xe8s!"})},error:r=>{console.error("Erreur lors de la suppression de la commande:",r),this.messageService.add({severity:"error",summary:"Erreur",detail:"Erreur lors de la suppression de la commande."})}})}onGlobalFilter(i,r){i.filterGlobal(r.target.value,"contains")}refresh(){this.getCommandes()}ajouterCommandeService(){this.router.navigate(["/uikit/Ajout-Commande"])}editCommande(i){this.router.navigate(["/uikit/Edit-Commande",i])}goToCoommandeDetails(i){this.router.navigate(["uikit/CommandeServ/",i])}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(Yi),t.rXU(c.Ix),t.rXU(L.td),t.rXU(L.bg))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-commande-service"]],standalone:!0,features:[t.aNF],decls:14,vars:9,consts:[["dt",""],["confirmDialog",""],["echec",""],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Affichage {first} \xe0 {last} sur {totalRecords} \xe9l\xe9ments","selectionMode","multiple","dataKey","id",3,"value","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"my-2"],["pButton","","pRipple","","label","Ajouter","icon","pi pi-plus",1,"p-button-success","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","label","Actualiser","icon","pi pi-refresh",1,"p-button-primary","p-button-outlined",3,"click"],[1,"col-2","float-end","d-flex","d-inline"],["icon","pi pi-cog","pBadge","","styleClass","mr-5","size","large",1,"float-end",3,"value"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Recherche...",1,"w-full","sm:w-auto",3,"input"],["pSortableColumn","id"],["field","id"],["pSortableColumn","dateCreation"],["field","dateCreation"],["pSortableColumn","dateEstimeeFin"],["field","dateEstimeeFin"],["pSortableColumn","dateValidationOuSortie"],["field","dateValidationOuSortie"],["pSortableColumn","prixTotal"],["field","prixTotal"],["pSortableColumn","avance"],["field","avance"],["pSortableColumn","descriptionPanne"],["field","descriptionPanne"],["pSortableColumn","nomPanne"],["field","nomPanne"],["pSortableColumn","status"],["field","status"],["pSortableColumn","paiement"],["field","paiement"],[1,"p-column-title"],[3,"ngClass"],[4,"ngIf","ngIfElse"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-print",1,"p-button-rounded","p-button-primary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[1,"pi","pi-verified",2,"color","#0dd30d","font-size","1.5em"],[1,"pi","pi-times-circle",2,"color","red","font-size","1.5em"]],template:function(r,o){1&r&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5),t.nrm(3,"p-toast"),t.j41(4,"p-toolbar",6),t.DNE(5,D2,3,0,"ng-template",7)(6,O2,2,4,"ng-template",8),t.k0s(),t.j41(7,"p-table",9,0),t.DNE(9,M2,6,0,"ng-template",10)(10,R2,32,0,"ng-template",11)(11,A2,49,16,"ng-template",12),t.k0s(),t.nrm(12,"p-confirmDialog",null,1),t.k0s()()()),2&r&&(t.R7$(7),t.Y8G("value",o.commandes)("rows",10)("globalFilterFields",t.lJ4(7,w2))("paginator",!0)("rowsPerPageOptions",t.lJ4(8,S2))("showCurrentPageReport",!0)("rowHover",!0))},dependencies:[Ce.m,Ce.e,Te.EJ,Te.FO,L.Ei,d.tm,d._f,E.u,E.S,h.bT,J.Z,J.n,L.Gg,H.bG,H.XI,H.Tg,H.yc,de.MB,de.y8,xe.m,xe.M,Ae.rO,V.YN,w.kr,ve.F,ve.T,h.YU],styles:[".status-en-cours[_ngcontent-%COMP%]{color:#00f;font-family:Arial Black}.status-retour[_ngcontent-%COMP%]{color:red;font-family:Arial Black}.status-terminer[_ngcontent-%COMP%]{color:#26c226;font-family:Arial Black}"]})}return n})();var Wi=function(n){return n.ENCOURS="ENCOURS",n.RETOUR="RETOUR",n.CONFIRME="CONFIRME",n}(Wi||{});class li{constructor(s,i,r,o,a,l,p,S,O,N,ne,_e,Ee,ke,Oe,we,Ft,Dt){this.paiement=!1,this.services=[],this.produits=[],this.id=s||0,this.reference=i||"",this.dateCreation=r||(new Date).toString(),this.dateEstimeeFin=o||(new Date).toString(),this.dateValidationOuSortie=a||(new Date).toString(),this.status=p||Wi.ENCOURS,this.prixTotal=S||0,this.paiement=l||!1,this.avance=O||0,this.services=Oe||[],this.produits=we||[],this.descriptionPanne=N||"",this.nomPanne=ne||"",this.client=Ft||new Se.K,this.totalProduits=_e||0,this.totalCoutService=Ee||0,this.prixSupplimentaire=ke||0,this.descriptionprixSupplimentaire=Dt||""}get _id(){return this.id}set _id(s){this.id=s}get _reference(){return this.reference}set _reference(s){this.reference=s}get _dateCreation(){return this.dateCreation}set _dateCreation(s){this.dateCreation=s}get _dateEstimeeFin(){return this.dateEstimeeFin}set _dateEstimeeFin(s){this.dateEstimeeFin=s}get _dateValidationOuSortie(){return this.dateValidationOuSortie}set _dateValidationOuSortie(s){this.dateValidationOuSortie=s}get _status(){return this.status}set _status(s){this.status=s}get _prixTotal(){return this.prixTotal}set _prixTotal(s){this.prixTotal=s}get _paiement(){return this.paiement}set _paiement(s){this.paiement=s}get _avance(){return this.avance}set _avance(s){this.avance=s}get _services(){return this.services}set _services(s){this.services=s}get _produits(){return this.produits}set _produits(s){this.produits=s}get _descriptionPanne(){return this.descriptionPanne}set _descriptionPanne(s){this.descriptionPanne=s}get _nomPanne(){return this.nomPanne}set _nomPanne(s){this.nomPanne=s}get _client(){return this.client}set _client(s){this.client=s}get _totalProduits(){return this.totalProduits}set _totalProduits(s){this.totalProduits=s}get _totalCoutService(){return this.totalCoutService}set _totalCoutService(s){this.totalCoutService=s}get _prixSupplimentaire(){return this.prixSupplimentaire}set _prixSupplimentaire(s){this.prixSupplimentaire=s}get _descriptionprixSupplimentaire(){return this.descriptionprixSupplimentaire}set _descriptionprixSupplimentaire(s){this.descriptionprixSupplimentaire=s}}class B2{constructor(s,i,r,o){this.id=s||0,this.qtyV=i||0,this.prixVente=r||0,this.produit=o||new Ne.I}get _id(){return this.id}set _id(s){this.id=s}get _qtyV(){return this.qtyV}set _qtyV(s){this.qtyV=s}get _prixVente(){return this.prixVente}set _prixVente(s){this.prixVente=s}get _produit(){return this.produit}set _produit(s){this.produit=s}}const V2=()=>["nom","description","dataqr","dateF","dateE"],G2=()=>["produit.nom","quantite","montantTotal"],N2=n=>[n],U2=()=>({width:"100rem"}),$2=()=>({"1199px":"75vw","575px":"90vw"});function H2(n,s){if(1&n&&(t.j41(0,"div",67)(1,"p"),t.EFF(2),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.nomServiceComp)}}function K2(n,s){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"ID"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Nom"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Co\xfbt Service"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Description"),t.k0s()())}function X2(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"currency"),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.id),t.R7$(2),t.JRh(i.nomServiceComp),t.R7$(2),t.JRh(t.brH(7,4,i.coutService,"","TND ")),t.R7$(3),t.JRh(i.descriptionServiceComp)}}function z2(n,s){if(1&n&&(t.j41(0,"p-table",68),t.DNE(1,K2,9,0,"ng-template",36)(2,X2,10,8,"ng-template",37),t.k0s()),2&n){const i=t.XpG();t.Y8G("value",i.newCommandeService.services)}}function Y2(n,s){if(1&n&&(t.j41(0,"div",67)(1,"p"),t.EFF(2),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.lastname)}}function W2(n,s){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"ID"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Nom"),t.k0s(),t.j41(5,"th"),t.EFF(6,"TEl"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Email"),t.k0s()())}function Q2(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.id),t.R7$(2),t.JRh(i.firstname+" "+i.lastname),t.R7$(2),t.JRh(i.telephone),t.R7$(2),t.JRh(i.email)}}function q2(n,s){if(1&n&&(t.j41(0,"p-table",68),t.DNE(1,W2,9,0,"ng-template",36)(2,Q2,9,4,"ng-template",37),t.k0s()),2&n){const i=t.XpG();t.Y8G("value",t.eq3(1,N2,i.newCommandeService.client))}}function J2(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",69)(1,"div",70)(2,"button",71),t.bIt("click",function(){t.eBV(i);const o=t.XpG(),a=t.sdS(59);return t.Njj(o.clear(a))}),t.k0s()(),t.j41(3,"div",70)(4,"button",72),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.refresh())}),t.k0s()(),t.j41(5,"div",70)(6,"button",73),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.addProduit())}),t.k0s(),t.j41(7,"p-dialog",74),t.mxI("visibleChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.showAddProduit,o)||(a.showAddProduit=o),t.Njj(o)}),t.j41(8,"div",75),t.nrm(9,"app-produit-ajout"),t.k0s()()(),t.j41(10,"div",76)(11,"span",77),t.nrm(12,"i",78),t.j41(13,"input",79),t.mxI("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.rechercheProduit,o)||(a.rechercheProduit=o),t.Njj(o)}),t.bIt("input",function(){t.eBV(i);const o=t.XpG(),a=t.sdS(59);return t.Njj(a.filterGlobal(o.rechercheProduit,"contains"))}),t.k0s()()()()}if(2&n){const i=t.XpG();t.R7$(7),t.Aen(t.lJ4(7,U2)),t.Y8G("modal",!0),t.R50("visible",i.showAddProduit),t.Y8G("breakpoints",t.lJ4(8,$2))("maximizable",!0),t.R7$(6),t.R50("ngModel",i.rechercheProduit)}}function Z2(n,s){1&n&&(t.j41(0,"div",88)(1,"span",89),t.EFF(2,"Agent Picker"),t.k0s()())}function eI(n,s){if(1&n&&(t.j41(0,"div",91),t.nrm(1,"img",92),t.j41(2,"span",93),t.EFF(3),t.k0s()()),2&n){const i=s.$implicit;t.R7$(),t.Mz_("src","https://primefaces.org/cdn/primeng/images/demo/avatar/",i.image,"",t.B4B),t.Y8G("alt",i.label),t.R7$(2),t.JRh(i.name)}}function tI(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-multiSelect",90),t.bIt("onChange",function(o){const a=t.eBV(i).filterCallback;return t.Njj(a(o.value))}),t.DNE(1,eI,4,4,"ng-template",27),t.k0s()}if(2&n){const i=s.$implicit,r=t.XpG(2);t.Y8G("ngModel",i)("options",r.produits)}}function iI(n,s){if(1&n){const i=t.RV6();t.j41(0,"p-slider",94),t.bIt("onSlideEnd",function(o){const a=t.eBV(i).filterCallback;return t.Njj(a(o.values))}),t.k0s(),t.j41(1,"div",95)(2,"span"),t.EFF(3),t.k0s(),t.j41(4,"span"),t.EFF(5),t.k0s()()}if(2&n){const i=t.XpG(2);t.Y8G("ngModel",i.activityValues)("range",!0),t.R7$(3),t.JRh(i.activityValues[0]),t.R7$(2),t.JRh(i.activityValues[1])}}function nI(n,s){1&n&&(t.j41(0,"tr")(1,"th",80)(2,"div",81),t.EFF(3," Nom "),t.nrm(4,"p",82),t.k0s()(),t.j41(5,"th",80)(6,"div",81),t.EFF(7," Code "),t.nrm(8,"p",83),t.k0s()(),t.j41(9,"th",80)(10,"div",81),t.EFF(11," Quantit\xe9 "),t.nrm(12,"p",84),t.DNE(13,Z2,3,0,"ng-template",36)(14,tI,2,2,"ng-template",85),t.k0s()(),t.j41(15,"th",86)(16,"div",81),t.nrm(17,"p",87),t.DNE(18,iI,6,4,"ng-template",85),t.k0s()()())}function oI(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td",96),t.EFF(2),t.k0s(),t.j41(3,"td",96),t.EFF(4),t.k0s(),t.j41(5,"td",96),t.EFF(6),t.k0s(),t.j41(7,"td",97)(8,"button",98),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.addToCommande(o))}),t.k0s()()()}if(2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.nom),t.R7$(2),t.JRh(i.dataqr),t.R7$(2),t.JRh(i.qantite)}}function rI(n,s){1&n&&(t.j41(0,"tr")(1,"td",99),t.EFF(2,"Aucun produit n'a \xe9t\xe9 trouv\xe9."),t.k0s()())}function sI(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",100)(1,"span",77),t.nrm(2,"i",78),t.j41(3,"input",101),t.bIt("input",function(o){t.eBV(i),t.XpG();const a=t.sdS(68);return t.Njj(a.filterGlobal(o.target,"contains"))}),t.k0s()()()}}function aI(n,s){1&n&&(t.j41(0,"tr")(1,"th",102),t.EFF(2,"Nom Produits "),t.nrm(3,"p-sortIcon",103),t.k0s(),t.j41(4,"th",104),t.EFF(5,"Quantit\xe9 "),t.nrm(6,"p-sortIcon",105),t.k0s(),t.j41(7,"th",106),t.EFF(8,"Prix (TND)"),t.k0s(),t.j41(9,"th",107),t.EFF(10,"Total (TND) "),t.nrm(11,"p-sortIcon",108),t.k0s(),t.nrm(12,"th",106),t.k0s())}function lI(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"p-inputNumber",109),t.mxI("ngModelChange",function(o){const a=t.eBV(i).$implicit;return t.DH7(a.qtyV,o)||(a.qtyV=o),t.Njj(o)}),t.bIt("ngModelChange",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.handleQuantityChange(o))}),t.k0s()(),t.j41(5,"td",110),t.EFF(6),t.nI1(7,"number"),t.k0s(),t.j41(8,"td",111),t.EFF(9),t.k0s(),t.j41(10,"td")(11,"button",112),t.bIt("click",function(){const o=t.eBV(i).rowIndex,a=t.XpG();return t.Njj(a.deleteProduct(o))}),t.k0s()()()}if(2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.produit.nom),t.R7$(2),t.FS9("id",i.produit.id),t.R50("ngModel",i.qtyV),t.Y8G("max",i.produit.qantite),t.R7$(2),t.JRh(t.bMT(7,6,i.produit.prixUnitaire+i.produit.gainUnitaire)),t.R7$(3),t.JRh((i.produit.prixUnitaire+i.produit.gainUnitaire)*i.qtyV)}}function cI(n,s){1&n&&(t.j41(0,"tr")(1,"td",113),t.nrm(2,"p-message",114),t.k0s()()),2&n&&(t.R7$(2),t.xc7("padding-left","28%"))}function dI(n,s){if(1&n&&(t.j41(0,"div",115)(1,"h3"),t.EFF(2,"Commande cr\xe9\xe9e avec succ\xe8s!"),t.k0s(),t.j41(3,"p"),t.EFF(4,"R\xe9f\xe9rence de la commande: "),t.j41(5,"strong"),t.EFF(6),t.k0s()()()),2&n){const i=t.XpG();t.R7$(6),t.JRh(i.referenceCommande)}}let Fo=(()=>{class n{constructor(i,r,o,a,l,p,S,O){this.commandeService=i,this.userService=r,this.produitService=o,this.serviceCompService=a,this.messageService=l,this.confirmationService=p,this.router=S,this.route=O,this.clients=[],this.newCommandeService=new li,this.showAddProduit=!1,this.produits=[],this.rechercheProduit="",this.activityValues=[0,100],this.displayActionDialog=!1,this.Status=Wi}ngOnInit(){var i=this;return(0,It.A)(function*(){i.genererReference(),i.updateRootFromCurrentPath();const r=i.route.snapshot.paramMap.get("id");try{if(r)try{i.newCommandeService=yield i.commandeService.getCommandeById(Number(r)).toPromise(),Array.isArray(i.newCommandeService.produits)?i.newCommandeService.produits=i.newCommandeService.produits:console.warn("Commande _lignesCommande is not an array or is undefined",i.newCommandeService.produits),console.log("Commande r\xe9cup\xe9r\xe9e !!",i.newCommandeService)}catch{i.router.navigate(["uikit/commande"])}i.getAllClients(),i.getAllProduits(),i.getAllServices()}catch(o){console.error("Erreur lors du chargement des donn\xe9es :",o)}})()}updateRootFromCurrentPath(){this.root=this.router.url}getAllClients(){this.userService.getUsersClient().subscribe(i=>{this.clients=i})}getAllServices(){this.serviceCompService.getServices().subscribe(i=>{this.services=i},i=>{console.error("Error fetching services:",i),this.messageService.add({severity:"error",summary:"Oops...",detail:"Vous n'avez pas la permission, s'il vous pla\xeet contactez l'administrateur."})})}getAllProduits(){this.produitService.getProduits().subscribe(i=>{this.produits=i})}addNewCommande(){console.log("Commande avant envoi:",JSON.stringify(this.newCommandeService)),console.log("Client avant envoi:",JSON.stringify(this.newCommandeService.client)),console.log("Role du client:",this.newCommandeService.client.role),console.log("Nombre de produits:",this.newCommandeService.produits.length),this.newCommandeService.dateCreation=(0,h.Yq)(new Date(this.newCommandeService.dateCreation),"yyyy-MM-dd","en-US"),this.newCommandeService.dateEstimeeFin=(0,h.Yq)(new Date(this.newCommandeService.dateEstimeeFin),"yyyy-MM-dd","en-US"),this.newCommandeService.dateValidationOuSortie=(0,h.Yq)(new Date(this.newCommandeService.dateValidationOuSortie),"yyyy-MM-dd","en-US"),console.log("Date de validation ou sortie:",this.newCommandeService.dateValidationOuSortie),console.log("ID du client:",this.newCommandeService.client.id),this.newCommandeService.id?this.commandeService.updateCommande(this.newCommandeService).subscribe(i=>{console.log("Commande mise \xe0 jour avec succ\xe8s:",i),this.messageService.add({severity:"success",summary:"Succ\xe8s",detail:"Commande mise \xe0 jour avec succ\xe8s!"}),this.newCommandeService=new li,this.router.navigate(["/uikit/Commandes"])},i=>{console.error("Erreur lors de la mise \xe0 jour de la commande:",i),this.messageService.add({severity:"error",summary:"Erreur",detail:"Erreur lors de la mise \xe0 jour de la commande!"})}):this.commandeService.addCommande(this.newCommandeService).subscribe(i=>{this.referenceCommande=i.reference,console.log("Commande cr\xe9\xe9e avec succ\xe8s:",i),this.imprimerTicket(),this.messageService.add({severity:"success",summary:"Succ\xe8s",detail:"Commande cr\xe9\xe9e avec succ\xe8s!"}),this.newCommandeService=new li,this.router.navigate(["/uikit/Commandes"])},i=>{console.error("Erreur lors de la cr\xe9ation de la commande:",i),this.messageService.add({severity:"error",summary:"Erreur",detail:"Erreur lors de la cr\xe9ation de la commande!"})})}confirmNavigation(){this.confirmationService.confirm({message:"\xcates-vous s\xfbr de vouloir quitter cette page ?",accept:()=>{}})}addProduit(){this.showAddProduit=!0}clear(i){i.clear()}refresh(){this.getAllProduits()}addToCommande(i){if(this.newCommandeService.produits.find(o=>o.produit.id===i.id))this.messageService.add({severity:"warn",summary:"Produit d\xe9j\xe0 dans la facture",detail:"Ce produit est d\xe9j\xe0 dans la commande !",life:1500});else{const o=new B2;o.produit=i,o.qtyV=1,o.prixVente=o.prixVente,this.newCommandeService.produits.push(o),this.messageService.add({severity:"success",summary:"Produit ajout\xe9 \xe0 la facture",detail:"Le produit a \xe9t\xe9 ajout\xe9 avec succ\xe8s \xe0 la facture !",life:1e3}),this.getVentePrix(),this.calaculateCommandeTotal(),console.log("Produits dans le service:",this.newCommandeService.produits)}}imprimerCommande(){console.log("Impression de la commande..."),this.router.navigate(["/uikit/Edit-Commande",this.newCommandeService.id])}getVentePrix(){this.newCommandeService.totalProduits=0,this.newCommandeService.produits.forEach(i=>{this.newCommandeService.totalProduits+=(i.qtyV||0)*(i.produit.prixUnitaire+i.produit.gainUnitaire)}),console.log("Total Price:",this.newCommandeService.totalProduits)}handleQuantityChange(i){this.getVentePrix(),this.calaculateCommandeTotal()}calaculateCommandeTotal(){this.getVentePrix(),this.getCoutService(),this.newCommandeService.prixTotal=this.newCommandeService.totalProduits+this.newCommandeService.totalCoutService+this.newCommandeService.prixSupplimentaire,console.log("Total Facture:",this.newCommandeService.prixTotal)}getCoutService(){this.newCommandeService.totalCoutService=0,this.newCommandeService.services.forEach(i=>{this.newCommandeService.totalCoutService+=i.coutService||0}),console.log("Total Service Cost:",this.newCommandeService.totalCoutService)}deleteProduct(i){i>=0&&i<this.newCommandeService.produits.length&&this.confirmationService.confirm({message:"\xcates-vous s\xfbr de vouloir supprimer ce produit?",accept:()=>{this.newCommandeService.produits.splice(i,1),this.getVentePrix(),this.calaculateCommandeTotal(),this.messageService.add({severity:"success",summary:"Succ\xe8s",detail:"Produit supprim\xe9 avec succ\xe8s"})}})}returnBack(i){this.confirmationService.confirm({target:i.target,message:"\xcates-vous s\xfbr de vouloir revenir \xe0 la page des commandes ?",header:"Confirmation de retour",icon:"pi pi-exclamation-triangle",acceptIcon:"none",rejectIcon:"none",acceptLabel:"Oui",rejectLabel:"Non",rejectButtonStyleClass:"p-button-text p-button-danger",acceptButtonStyleClass:"p-button-text p-button-success",accept:()=>{this.messageService.add({severity:"success",summary:"Retour confirm\xe9",detail:"Redirection vers la page des commandes...",life:3e3}),setTimeout(()=>{this.router.navigate(["/uikit/Commandes"])},2e3)},reject:()=>{this.messageService.add({severity:"error",summary:"Retour annul\xe9",detail:"Vous restez sur la page actuelle.",life:3e3})}})}genererReference(){const i=Math.random().toString(36).substring(2,10).toUpperCase();this.newCommandeService.reference=`CMD-${i}`}imprimerTicket(){const i=window.open();i.document.write("<html><head><title>Commande service</title>"),i.document.write("<style>"),i.document.write("body { font-family: Arial, sans-serif; margin: 20px; }"),i.document.write("p { margin: 10px 0; }"),i.document.write(".text-red { color: red; font-weight: bold; }"),i.document.write(".text-center { text-align: center; }"),i.document.write(".ml-4 { margin-left: 1rem; }"),i.document.write(".p-2 { padding: 0.5rem; }"),i.document.write(".inline { display: inline-block; margin-right: 10px; }"),i.document.write("</style>"),i.document.write("</head><body >"),i.document.write('<h3 class="ml-4">Commande service</h3>'),i.document.write("<p>______________________________________</p>"),i.document.write('<div class="ml-4 p-2">'),i.document.write(`<span class="inline"><strong>R\xe9f\xe9rence:</strong></span><span class="inline">${this.newCommandeService.reference}</span>`),i.document.write("</div>"),i.document.write('<div class="ml-4 p-2">'),i.document.write(`<span class="inline"><strong>Nom Client:</strong></span><span class="inline">${this.newCommandeService.client.firstname+" "+this.newCommandeService.client.lastname}</span>`),i.document.write("</div>"),i.document.write('<div class="ml-4 p-2">'),i.document.write(`<span class="inline"><strong>Nom panne:</strong></span><span class="inline">${this.newCommandeService.nomPanne}</span>`),i.document.write("</div>"),i.document.write('<div class="ml-4 p-2">'),i.document.write(`<span class="inline"><strong>Date de Cr\xe9ation:</strong></span><span class="inline">${this.newCommandeService.dateCreation}</span>`),i.document.write("</div>"),i.document.write('<div class="ml-4 p-2">'),i.document.write(`<span class="inline"><strong>Date Estim\xe9e Fin:</strong></span><span class="inline">${this.newCommandeService.dateEstimeeFin}</span>`),i.document.write("</div>"),i.document.write('<div class="ml-4 p-2">'),i.document.write(`<span class="inline"><strong>Date Validation/Sortie:</strong></span><span class="inline">${this.newCommandeService.dateValidationOuSortie}</span>`),i.document.write("</div>"),i.document.write('<div class="ml-4 p-2">'),i.document.write(`<span class="inline"><strong>Description:</strong></span><span class="inline">${this.newCommandeService.descriptionPanne}</span>`),i.document.write("</div>"),i.document.write('<div class="ml-4 p-2">'),i.document.write(`<span class="inline"><strong>Avance:</strong></span><span class="inline"  style="font-family: bold; font-size: x-large; color: #0fd00f;">${this.newCommandeService.avance} TND</span>`),i.document.write("</div>"),i.document.write('<div class="ml-4 p-2">'),i.document.write(`<span class="inline text-red"><strong>Total:</strong></span><span class="inline text-red">${this.newCommandeService.prixTotal} TND</span>`),i.document.write("</div>"),i.document.write('<div class="ml-4 p-2">'),i.document.write(`<span class="inline"><strong>Reste \xe0 payer:</strong></span><span class="inline text-red">${this.newCommandeService.prixTotal-this.newCommandeService.avance} TND</span>`),i.document.write("</div>"),i.document.write("<p>______________________________________</p>"),i.document.write('<h4 class="ml-4">**** Merci pour votre Confiance ! ****</h4>'),i.document.close(),i.focus(),i.print()}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(Yi),t.rXU(Ke.D),t.rXU(Ve.D),t.rXU(si),t.rXU(L.bg),t.rXU(L.td),t.rXU(c.Ix),t.rXU(c.nX))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-commande-serv-ajout"]],standalone:!0,features:[t.aNF],decls:132,vars:52,consts:[["dtproduit",""],["dt",""],["header","Confirmation","icon","pi pi-exclamation-triangle"],[1,"card","flex-wrap","justify-content-center"],[1,"PrimaryColorTitle","fs-3","font-bold"],[1,"text-primary-600","font-bold"],["legend","D\xe9tails Commande",1,"m-1",3,"toggleable"],[1,"gap-5","flex","flex-wrap","col-12","justify-content-around","bg-gray-50"],[1,"p-card","flex-row","flex-wrap","col-12","md:col-4","p-2"],[1,"flex","flex-column","gap-2","p-3","col-12","md:col-12"],["for","nompanne",1,"font-bold","fs-5"],[1,"pi","pi-tags","text-success","font-bold"],["pInputText","","id","nompanne","aria-describedby","nompanne-help",1,"form-control",3,"ngModelChange","ngModel"],["id","nompanne-help"],[1,"grid"],[1,"col-12","md:col-6"],[1,"font-bold","block","mb-2"],["pInputText","","readonly","",3,"ngModelChange","ngModel"],["dateFormat","yy-mm-dd",3,"ngModelChange","ngModel","touchUI","readonlyInput","showIcon"],["dateFormat","yy-mm-dd",3,"ngModelChange","ngModel","touchUI","showIcon"],[1,"font-bold","fs-5"],[1,"pi","pi-info-circle","text-success","font-bold","fs-5"],["pInputTextarea","","id","description","rows","5",3,"ngModelChange","ngModel","autoResize"],[1,"p-card","flex","flex-wrap","col-12","md:col-7","p-2"],[1,"flex","flex-column","gap-2","col-12"],[1,"flex","flex-column","gap-2","col-12","p-2"],["optionLabel","nomServiceComp","filterBy","nomServiceComp","placeholder","S\xe9lectionner Services",3,"ngModelChange","onChange","options","ngModel","showToggleAll","filter"],["pTemplate","item"],["class","mt-2",3,"value",4,"ngIf"],["optionLabel","lastname","filterBy","lastname","placeholder","S\xe9lectionner Client",3,"ngModelChange","options","ngModel","filter","showClear"],["legend","Ligne Commande",1,"m-1",3,"toggleable"],[1,"card","flex","flex-wrap","gap-3"],[1,"flex-auto","col-12","md:col-4"],[1,"font-bold","text-center"],["dataKey","id","scrollable","true","scrollHeight","20rem","currentPageReportTemplate","Affichage de {first} \xe0 {last} des entr\xe9es {totalRecords}",3,"value","globalFilterFields"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"flex-auto","col-12","md:col-7"],[1,"font-bold","mt-2","text-center"],["scrollHeight","24rem",3,"value","scrollable","globalFilterFields"],["legend","Somme Commande",3,"toggleable"],[1,"flex","flex-wrap","justify-content-between","p-3"],["calaculateCommandeTotal","","mode","decimal","currency","USD",3,"ngModelChange","ngModel"],["mode","decimal","currency","USD",3,"ngModelChange","ngModel"],["pInputText","","type","text",3,"ngModelChange","ngModel"],["legend","Etat Commande",1,"m-1",3,"toggleable"],[1,"flex","flex-wrap","gap-4","p-2"],[1,"flex-auto","col-12","md:col-8","lg:col-7"],["legend","\xc9tat Commande Service"],[1,"flex","flex-wrap","p-ai-center"],[1,"p-mr-3","p-mb-2","col-12","md:col-4"],["name","etatService","inputId","enCours",3,"ngModelChange","value","ngModel"],[1,"m-2","font-bold","text-blue-600"],["name","etatService","inputId","confirme",3,"ngModelChange","value","ngModel"],[1,"m-2","font-bold","text-green-600"],["name","etatService","inputId","retour",3,"ngModelChange","value","ngModel"],[1,"m-2","font-bold","text-red-600"],["legend","Paiement"],[1,"p-mr-3","p-mb-2","col-12","md:col-6"],["name","paiement","inputId","paiementOui",3,"ngModelChange","value","ngModel"],["name","paiement","inputId","paiementNon",3,"ngModelChange","value","ngModel"],[1,"p-3","flex","justify-content-end"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text","p-button-danger",3,"click"],["pButton","","pRipple","","label","Ajouter","icon","pi pi-check",1,"p-button-text","p-button-success",3,"click"],["class","reference-commande",4,"ngIf"],[1,"flex","align-items-center","gap-2"],[1,"mt-2",3,"value"],[1,"flex","flex-wrap"],[1,"flex-auto","col-12","md:col-2"],["pButton","","label"," ","icon","pi pi-filter-slash",1,"p-button-outlined","p-button-warning",3,"click"],["pButton","","pRipple","","label"," ","icon","pi pi-refresh",1,"p-button-primary","p-button-outlined",3,"click"],["pButton","","label"," ","icon","pi pi-plus",1,"p-button-outlined","p-button-success",3,"click"],["header","Ajouter Produit",3,"visibleChange","modal","visible","breakpoints","maximizable"],[1,"p-fluid"],[1,"flex-auto"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Rechercher ici ...",3,"ngModelChange","input","ngModel"],[2,"min-width","4rem"],[1,"flex","align-items-center"],["type","text","field","nom","display","menu"],["type","text","field","dataqr","display","menu"],["field","Quantite","matchMode","in","display","menu"],["pTemplate","filter"],[2,"min-width","3rem"],["field","activity","matchMode","between","display","menu"],[1,"px-3","pt-3","pb-0"],[1,"font-bold"],["placeholder","Any","optionLabel","name",3,"onChange","ngModel","options"],[1,"inline-block","vertical-align-middle"],["width","24",1,"vertical-align-middle",3,"alt","src"],[1,"ml-1","mt-1"],["styleClass","m-3",3,"onSlideEnd","ngModel","range"],[1,"flex","align-items-center","px-2"],[1,"text-break"],[1,"align-items-center"],["pButton","","pRipple","","icon","pi pi-cart-plus",1,"p-button-success","p-button-rounded",3,"click"],["colspan","7"],[1,"col-8","md:col-4"],["type","text","pInputText","","placeholder","Rechercher...",3,"input"],["pSortableColumn","nom",2,"width","20%"],["field","nom"],["pSortableColumn","quantite",2,"width","20%"],["field","quantite"],[2,"width","20%"],["pSortableColumn","montantTotal",2,"width","20%"],["field","price"],["min","1","name","quantiteProduit",1,"text-center",3,"ngModelChange","id","ngModel","max"],[1,"fw-bold","fs-4","text-red-600"],[1,"fw-bold","fs-3","text-black"],["pButton","","pRipple","","icon","pi pi-cart-minus",1,"p-button-danger","p-button-rounded",3,"click"],["colspan","5"],["severity","error","text","Aucun produit n'a \xe9t\xe9 ajout\xe9 \xe0 votre facture !"],[1,"reference-commande"]],template:function(r,o){if(1&r){const a=t.RV6();t.nrm(0,"p-toast")(1,"p-confirmDialog",2),t.j41(2,"div",3)(3,"div",4)(4,"h3",5),t.EFF(5,"Ajouter une commande service"),t.k0s()(),t.j41(6,"p-fieldset",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"label",10),t.nrm(11,"span",11),t.EFF(12," Nom panne "),t.k0s(),t.j41(13,"input",12),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.nomPanne,p)||(o.newCommandeService.nomPanne=p),t.Njj(p)}),t.k0s(),t.j41(14,"small",13),t.EFF(15,"V\xe9rifiez que le nom est significatif"),t.k0s()(),t.j41(16,"div",14)(17,"div",15)(18,"label",16),t.EFF(19,"R\xe9ferance"),t.k0s(),t.j41(20,"input",17),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.reference,p)||(o.newCommandeService.reference=p),t.Njj(p)}),t.k0s()(),t.j41(21,"div",15)(22,"label",16),t.EFF(23,"Date de Cr\xe9ation"),t.k0s(),t.j41(24,"p-calendar",18),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.dateCreation,p)||(o.newCommandeService.dateCreation=p),t.Njj(p)}),t.k0s()()(),t.j41(25,"div",14)(26,"div",15)(27,"label",16),t.EFF(28,"Date Estim\xe9e Fin"),t.k0s(),t.j41(29,"p-calendar",19),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.dateEstimeeFin,p)||(o.newCommandeService.dateEstimeeFin=p),t.Njj(p)}),t.k0s()(),t.j41(30,"div",15)(31,"label",16),t.EFF(32,"Date Validation/Sortie"),t.k0s(),t.j41(33,"p-calendar",19),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.dateValidationOuSortie,p)||(o.newCommandeService.dateValidationOuSortie=p),t.Njj(p)}),t.k0s()()(),t.j41(34,"div",9)(35,"label",20),t.nrm(36,"span",21),t.EFF(37," Description "),t.k0s(),t.j41(38,"textarea",22),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.descriptionPanne,p)||(o.newCommandeService.descriptionPanne=p),t.Njj(p)}),t.k0s()()(),t.j41(39,"div",23)(40,"div",24)(41,"div",25)(42,"label",20),t.EFF(43," Liste de services "),t.k0s(),t.j41(44,"p-multiSelect",26),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.services,p)||(o.newCommandeService.services=p),t.Njj(p)}),t.bIt("onChange",function(){return t.eBV(a),t.Njj(o.getCoutService())}),t.DNE(45,H2,3,1,"ng-template",27),t.k0s(),t.DNE(46,z2,3,1,"p-table",28),t.k0s(),t.j41(47,"div",25)(48,"label",16),t.EFF(49," Client "),t.k0s(),t.j41(50,"p-dropdown",29),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.client,p)||(o.newCommandeService.client=p),t.Njj(p)}),t.DNE(51,Y2,3,1,"ng-template",27),t.k0s(),t.DNE(52,q2,3,3,"p-table",28),t.k0s()()()()(),t.j41(53,"p-fieldset",30)(54,"div",31)(55,"div",32)(56,"h4",33),t.EFF(57,"S\xe9lectionner Produits"),t.k0s(),t.j41(58,"p-table",34,0),t.DNE(60,J2,14,9,"ng-template",35)(61,nI,19,0,"ng-template",36)(62,oI,9,3,"ng-template",37)(63,rI,3,0,"ng-template",38),t.k0s()(),t.j41(64,"div",39)(65,"h3",40),t.EFF(66,"Produits Commande"),t.k0s(),t.j41(67,"p-table",41,1),t.DNE(69,sI,4,0,"ng-template",35)(70,aI,13,0,"ng-template",36)(71,lI,12,8,"ng-template",37)(72,cI,3,2,"ng-template",38),t.k0s()()()(),t.j41(73,"p-fieldset",42)(74,"div",43)(75,"div",32)(76,"label",16),t.EFF(77," total Produit "),t.k0s(),t.j41(78,"p-inputNumber",44),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.totalProduits,p)||(o.newCommandeService.totalProduits=p),t.Njj(p)}),t.k0s()(),t.j41(79,"div",32)(80,"label",16),t.EFF(81," Prix Supplimentaire "),t.k0s(),t.j41(82,"p-inputNumber",45),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.prixSupplimentaire,p)||(o.newCommandeService.prixSupplimentaire=p),t.Njj(p)}),t.bIt("ngModelChange",function(){return t.eBV(a),t.Njj(o.calaculateCommandeTotal())}),t.k0s()(),t.j41(83,"div",32)(84,"label",16),t.EFF(85," Description Supplimentaire "),t.k0s(),t.j41(86,"input",46),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.descriptionprixSupplimentaire,p)||(o.newCommandeService.descriptionprixSupplimentaire=p),t.Njj(p)}),t.k0s()(),t.j41(87,"div",32)(88,"label",16),t.EFF(89,"Total Cout Service "),t.k0s(),t.j41(90,"p-inputNumber",45),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.totalCoutService,p)||(o.newCommandeService.totalCoutService=p),t.Njj(p)}),t.k0s()(),t.j41(91,"div",32)(92,"label",16),t.EFF(93," Avance "),t.k0s(),t.j41(94,"p-inputNumber",45),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.avance,p)||(o.newCommandeService.avance=p),t.Njj(p)}),t.k0s()(),t.j41(95,"div",32)(96,"label",16),t.EFF(97," Total "),t.k0s(),t.j41(98,"p-inputNumber",45),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.prixTotal,p)||(o.newCommandeService.prixTotal=p),t.Njj(p)}),t.k0s()()()(),t.j41(99,"p-fieldset",47)(100,"div",48)(101,"div",49)(102,"p-fieldset",50)(103,"div",51)(104,"div",52)(105,"p-radioButton",53),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.status,p)||(o.newCommandeService.status=p),t.Njj(p)}),t.k0s(),t.j41(106,"label",54),t.EFF(107,"ENCOURS"),t.k0s()(),t.j41(108,"div",52)(109,"p-radioButton",55),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.status,p)||(o.newCommandeService.status=p),t.Njj(p)}),t.k0s(),t.j41(110,"label",56),t.EFF(111,"CONFIRME"),t.k0s()(),t.j41(112,"div",52)(113,"p-radioButton",57),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.status,p)||(o.newCommandeService.status=p),t.Njj(p)}),t.k0s(),t.j41(114,"label",58),t.EFF(115,"RETOUR"),t.k0s()()()()(),t.j41(116,"div",32)(117,"p-fieldset",59)(118,"div",51)(119,"div",60)(120,"p-radioButton",61),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.paiement,p)||(o.newCommandeService.paiement=p),t.Njj(p)}),t.k0s(),t.j41(121,"label",56),t.EFF(122,"Payer"),t.k0s()(),t.j41(123,"div",60)(124,"p-radioButton",62),t.mxI("ngModelChange",function(p){return t.eBV(a),t.DH7(o.newCommandeService.paiement,p)||(o.newCommandeService.paiement=p),t.Njj(p)}),t.k0s(),t.j41(125,"label",58),t.EFF(126,"Non payer"),t.k0s()()()()()()(),t.j41(127,"div",63)(128,"button",64),t.bIt("click",function(p){return t.eBV(a),t.Njj(o.returnBack(p))}),t.k0s(),t.j41(129,"button",65),t.bIt("click",function(){return t.eBV(a),t.Njj(o.addNewCommande())}),t.k0s()(),t.nrm(130,"p-toast"),t.DNE(131,dI,7,1,"div",66),t.k0s()}2&r&&(t.R7$(6),t.Y8G("toggleable",!0),t.R7$(7),t.R50("ngModel",o.newCommandeService.nomPanne),t.R7$(7),t.R50("ngModel",o.newCommandeService.reference),t.R7$(4),t.R50("ngModel",o.newCommandeService.dateCreation),t.Y8G("touchUI",!0)("readonlyInput",!0)("showIcon",!0),t.R7$(5),t.R50("ngModel",o.newCommandeService.dateEstimeeFin),t.Y8G("touchUI",!0)("showIcon",!0),t.R7$(4),t.R50("ngModel",o.newCommandeService.dateValidationOuSortie),t.Y8G("touchUI",!0)("showIcon",!0),t.R7$(5),t.R50("ngModel",o.newCommandeService.descriptionPanne),t.Y8G("autoResize",!0),t.R7$(6),t.Y8G("options",o.services),t.R50("ngModel",o.newCommandeService.services),t.Y8G("showToggleAll",!1)("filter",!0),t.R7$(2),t.Y8G("ngIf",o.newCommandeService.services.length),t.R7$(4),t.Y8G("options",o.clients),t.R50("ngModel",o.newCommandeService.client),t.Y8G("filter",!0)("showClear",!0),t.R7$(2),t.Y8G("ngIf",o.newCommandeService.client&&o.newCommandeService.client.id),t.R7$(),t.Y8G("toggleable",!0),t.R7$(5),t.Y8G("value",o.produits)("globalFilterFields",t.lJ4(50,V2)),t.R7$(9),t.Y8G("value",o.newCommandeService.produits)("scrollable",!0)("globalFilterFields",t.lJ4(51,G2)),t.R7$(6),t.Y8G("toggleable",!0),t.R7$(5),t.R50("ngModel",o.newCommandeService.totalProduits),t.R7$(4),t.R50("ngModel",o.newCommandeService.prixSupplimentaire),t.R7$(4),t.R50("ngModel",o.newCommandeService.descriptionprixSupplimentaire),t.R7$(4),t.R50("ngModel",o.newCommandeService.totalCoutService),t.R7$(4),t.R50("ngModel",o.newCommandeService.avance),t.R7$(4),t.R50("ngModel",o.newCommandeService.prixTotal),t.R7$(),t.Y8G("toggleable",!0),t.R7$(6),t.Y8G("value",o.Status.ENCOURS),t.R50("ngModel",o.newCommandeService.status),t.R7$(4),t.Y8G("value",o.Status.CONFIRME),t.R50("ngModel",o.newCommandeService.status),t.R7$(4),t.Y8G("value",o.Status.RETOUR),t.R50("ngModel",o.newCommandeService.status),t.R7$(7),t.Y8G("value",!0),t.R50("ngModel",o.newCommandeService.paiement),t.R7$(4),t.Y8G("value",!1),t.R50("ngModel",o.newCommandeService.paiement),t.R7$(7),t.Y8G("ngIf",o.referenceCommande))},dependencies:[d.tm,d._f,L.Ei,J.Z,J.n,Ae.rO,Ae.Vv,w.kr,w.ms,V.YN,V.me,V.BC,V.vS,E.u,E.S,Ge,Ye,He.q4,Ie.O3,Ie.YI,Ze,Di,wt,Et,$e.Ko,$e.a,de.MB,de.y8,h.QX,be.P,be.l,ri.u,ri.C,h.bT,Wt,vt,Mi,H.bG,H.XI,H.Tg,H.yc,ve.F,ve.T,h.oe]})}return n})();const pI=["factureContent"],Do=()=>({"min-width":"50rem"}),uI=n=>[n];function _I(n,s){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Code"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Nom"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Description"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Co\xfbt Service"),t.k0s()())}function mI(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.id),t.R7$(2),t.JRh(i.nomServiceComp),t.R7$(2),t.JRh(i.descriptionServiceComp),t.R7$(2),t.JRh(i.coutService)}}function hI(n,s){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Code"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Nom"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Quantit\xe9"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Prix"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Total produit"),t.k0s()())}function fI(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.id),t.R7$(2),t.JRh(i.produit.nom),t.R7$(2),t.JRh(i.qtyV),t.R7$(2),t.JRh(i.produit.prixUnitaire+i.produit.gainUnitaire),t.R7$(2),t.JRh((i.produit.prixUnitaire+i.produit.gainUnitaire)*i.qtyV)}}function gI(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",18),t.EFF(2,"Total Produits"),t.k0s(),t.j41(3,"td",5),t.EFF(4),t.nI1(5,"currency"),t.k0s()(),t.j41(6,"tr")(7,"td",18),t.EFF(8,"Co\xfbt services"),t.k0s(),t.j41(9,"td",5),t.EFF(10),t.nI1(11,"currency"),t.k0s()(),t.j41(12,"tr")(13,"td",18),t.EFF(14,"avance"),t.k0s(),t.j41(15,"td",5),t.EFF(16),t.nI1(17,"currency"),t.k0s()(),t.j41(18,"tr")(19,"td",19),t.EFF(20,"Total \xe0 payer"),t.k0s(),t.j41(21,"td",20),t.EFF(22),t.nI1(23,"currency"),t.k0s()(),t.j41(24,"tr")(25,"td",19),t.EFF(26,"Reste \xe0 payer"),t.k0s(),t.j41(27,"td",20),t.EFF(28),t.nI1(29,"currency"),t.k0s()()),2&n){const i=s.$implicit;t.R7$(4),t.JRh(t.brH(5,5,i.totalProduits,"","TND ")),t.R7$(6),t.JRh(t.brH(11,9,i.totalCoutService,"","TND ")),t.R7$(6),t.JRh(t.brH(17,13,i.avance,"","TND ")),t.R7$(6),t.JRh(t.brH(23,17,i.prixTotal,"","TND ")),t.R7$(6),t.JRh(t.brH(29,21,i.prixTotal-i.avance,"","TND "))}}let bI=(()=>{class n{constructor(i,r,o,a){this.commandeService=i,this.produitService=r,this.route=o,this.router=a,this.commandeSer=new li}ngOnInit(){this.getFactureDetails()}getFactureDetails(){const i=Number(this.route.snapshot.paramMap.get("id"));this.commandeService.getCommandeById(i)?.subscribe(r=>{this.commandeSer=r})}printFacture(){const i=this.factureContent.nativeElement.innerHTML,r=document.createElement("iframe");document.body.appendChild(r),r.style.position="absolute",r.style.width="0",r.style.height="0",r.style.border="none";const o=r.contentDocument||r.contentWindow?.document;if(o){o.open();const a=Array.from(document.styleSheets).map(l=>{try{return Array.from(l.cssRules).map(p=>p.cssText).join("\n")}catch(p){return console.warn("Access to stylesheet is restricted",p),""}}).join("\n");o.write(`\n      <html>\n        <head>\n          <title>Facture</title>\n          <style>${a}</style>\n        </head>\n        <body>${i}</body>\n      </html>\n    `),o.close(),r.onload=()=>{r.contentWindow?.focus(),r.contentWindow?.print(),document.body.removeChild(r)}}}returnBack(){this.router.navigate(["/uikit/Commandes"])}static#e=this.\u0275fac=function(r){return new(r||n)(t.rXU(Yi),t.rXU(Ve.D),t.rXU(c.nX),t.rXU(c.Ix))};static#t=this.\u0275cmp=t.VBU({type:n,selectors:[["app-commande-serv-details"]],viewQuery:function(r,o){if(1&r&&t.GBs(pI,5),2&r){let a;t.mGM(a=t.lsd())&&(o.factureContent=a.first)}},standalone:!0,features:[t.aNF],decls:41,vars:15,consts:[["factureContent",""],[1,"grid","p-card"],[1,"col-12"],[1,"flex","justify-content-between","align-items-center","m-8","border-1","border-round","p-2"],[1,"p-grid","justify-content-center","align-items-center"],[1,"font-bold"],[1,"p-col"],[1,"m-8"],[1,"font-bold","text-primary-500"],["styleClass","p-datatable-gridlines",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[1,"p-card",2,"width","45%","float","right"],[1,"p-datatable-custom",3,"value"],[1,"font-bold","m-5",2,"position","absolute","padding-left","18%"],[1,"flex","justify-content-end","align-items-end","col-12","p-4"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Imprimer","icon","pi pi-print",1,"p-button-text",3,"click"],[1,"xl:font-bold","p-2"],[1,"text-2xl","text-red-600","font-bold","p-2"],[1,"text-2xl","text-red-600","font-bold"]],template:function(r,o){if(1&r){const a=t.RV6();t.j41(0,"div",1)(1,"div",2,0)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3"),t.EFF(7,"Commande \xe0:"),t.k0s(),t.j41(8,"h3"),t.EFF(9),t.k0s(),t.j41(10,"div",6),t.EFF(11),t.k0s(),t.j41(12,"div",6),t.EFF(13),t.k0s()()(),t.j41(14,"div",5)(15,"h3"),t.EFF(16),t.k0s(),t.j41(17,"div",6),t.EFF(18),t.k0s(),t.j41(19,"div",6),t.EFF(20),t.k0s()()(),t.j41(21,"div",7)(22,"h3",8),t.EFF(23,"Services de commande"),t.k0s(),t.j41(24,"p-table",9),t.DNE(25,_I,9,0,"ng-template",10)(26,mI,9,4,"ng-template",11),t.k0s()(),t.j41(27,"div",7)(28,"h3",8),t.EFF(29,"Liste produits de commande"),t.k0s(),t.j41(30,"p-table",9),t.DNE(31,hI,11,0,"ng-template",10)(32,fI,11,5,"ng-template",11),t.k0s(),t.j41(33,"div",12)(34,"p-table",13),t.DNE(35,gI,30,25,"ng-template",11),t.k0s()()(),t.j41(36,"p",14),t.EFF(37,"Signature & Cachet"),t.k0s()(),t.j41(38,"div",15)(39,"button",16),t.bIt("click",function(){return t.eBV(a),t.Njj(o.returnBack())}),t.k0s(),t.j41(40,"button",17),t.bIt("click",function(){return t.eBV(a),t.Njj(o.printFacture())}),t.k0s()()()}2&r&&(t.R7$(9),t.JRh(o.commandeSer.client.firstname+" "+o.commandeSer.client.lastname),t.R7$(2),t.SpI("Adresse: ",o.commandeSer.client.adresse,""),t.R7$(2),t.SpI("TEL: ",o.commandeSer.client.telephone,""),t.R7$(3),t.JRh(o.commandeSer.reference),t.R7$(2),t.SpI("Date:",o.commandeSer.dateCreation,""),t.R7$(2),t.SpI("Date: ",o.commandeSer.dateValidationOuSortie,""),t.R7$(4),t.Y8G("value",o.commandeSer.services)("tableStyle",t.lJ4(11,Do)),t.R7$(6),t.Y8G("value",o.commandeSer.produits)("tableStyle",t.lJ4(12,Do)),t.R7$(4),t.Y8G("value",t.eq3(13,uI,o.commandeSer)))},dependencies:[d.tm,d._f,L.Ei,h.oe,J.Z,J.n,L.Gg,H.bG,H.XI]})}return n})();var vI=_(8366);let CI=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=t.$C({type:n});static#i=this.\u0275inj=t.G2t({imports:[c.iI.forChild([{path:"login",component:vI.X},{path:"Users",component:RT},{path:"Add-user",component:Ki},{path:"Edit-user/:id",component:IT},{path:"produits",component:r_},{path:"ajout-produit",component:Wt},{path:"edit-produit/:id",component:Wt},{path:"services",component:C2},{path:"ajout-service",component:ko},{path:"edit-service/:id",component:ko},{path:"POS",component:$v.C},{path:"Ventes",component:sC},{path:"depots",component:Ah},{path:"article",component:vh},{path:"caisse",component:hT},{path:"facture",component:gb},{path:"cloture",component:qT},{path:"add-facture",component:zi},{path:"update-facture/:id",component:zi},{path:"tranches",component:d2},{path:"facture/:id",component:GT},{path:"Commandes",component:L2},{path:"Ajout-Commande",component:Fo},{path:"Edit-Commande/:id",component:Fo},{path:"CommandeServ/:id",component:bI},{path:"menu",data:{breadcrumb:"Menu"},loadChildren:()=>Promise.all([_.e(469),_.e(525)]).then(_.bind(_,3525)).then(i=>i.MenusModule)},{path:"**",redirectTo:"/notfound"}]),c.iI]})}return n})(),TI=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=t.$C({type:n});static#i=this.\u0275inj=t.G2t({providers:[L.td,L.bg],imports:[h.MD,CI,ve.F,de.MB,$n,H.bG,Ge,Ae.rO,zn,et,Xt,Ie.O3,Yn,be.P,po.H_,w.kr,d.tm,ve.F,de.MB,h.MD,xt.u,V.X1,V.YN]})}return n})()},7818:(k,C,_)=>{_.d(C,{k:()=>I});var h=_(5312),c=_(1626),d=_(177),v=_(1985),w=_(2182),E=_(9437),t=_(8810),M=_(4438);let I=(()=>{class u{constructor(g,f){this.http=g,this.datePipe=f,this.api=h.c.apiUrl,this.clotures=[]}SaveCloture(g){const f=(0,w.gf)();if(console.log((new d.TG).transform(g)),f){const b=(new c.Lr).set("Authorization",`Bearer ${f}`),T={dateCloture:this.datePipe.transform(g.dateCloture,"dd-MM-yyyy HH:mm:ss"),etatCloture:g.etatCloture,montantClotureValide:g.montantClotureValide,montantClotureEspece:g.montantClotureEspece,employer:{id:g.employer.id}};return console.error((new d.TG).transform(T.employer)),this.http.put(`${this.api}/cloture/clotureemployer`,T,{headers:b})}return new v.c}addCloture(g){console.log("Data cloture",g);const f=(0,w.gf)();if(console.log(f),f){const b=(new c.Lr).set("Authorization",`Bearer ${f}`).set("Content-Type","application/json; charset=utf8");return this.http.post(`${this.api}/cloture/create`,g,{headers:b}).pipe((0,E.W)(T=>(console.error("Erreur lors de la requ\xeate HTTP",T),(0,t.$)(T))))}return(0,t.$)("Token manquant")}getClotures(){const g=(0,w.gf)();if(console.log(g),g){const f=(new c.Lr).set("Authorization",`Bearer ${g}`).set("Content-Type","application/json; charset=utf8");return this.http.get(this.api+"/cloture/read",{headers:f})}return new v.c}getClotureById(g){const f=`${this.api}/cloture/getClotureById/${g}`,b=(0,w.gf)();if(console.log(b),b){const T=(new c.Lr).set("Authorization",`Bearer ${b}`).set("Content-Type","application/json; charset=utf8");return this.http.get(f,{headers:T})}return new v.c}getTotalClotureNow(g){const f=`${this.api}/cloture/getSommeVente`,b=(0,w.gf)(),T={employer:{id:(0,w.lL)().id},dateCloture:this.datePipe.transform(g,"dd-MM-yyyy HH:mm:ss")};if(console.error(T),b){const x=(new c.Lr).set("Authorization",`Bearer ${b}`).set("Content-Type","application/json; charset=utf8");return this.http.post(f,T,{headers:x})}return new v.c}deleteCloture(g){const f=(0,w.gf)();if(console.log(f),f){const b=(new c.Lr).set("Authorization",`Bearer ${f}`).set("Content-Type","application/json; charset=utf8");return this.http.delete(this.api+"/cloture/delete/"+g,{headers:b})}return new v.c}getCloturesFiltrer(g){const f=(0,w.gf)();if(console.log(f),f){const b=(new c.Lr).set("Authorization",`Bearer ${f}`).set("Content-Type","application/json; charset=utf8");return this.http.get(this.api+`/cloture/getVentesClotureFiltrer/${g}`,{headers:b})}return new v.c}static#e=this.\u0275fac=function(f){return new(f||u)(M.KVO(c.Qq),M.KVO(d.vh))};static#t=this.\u0275prov=M.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},2874:(k,C,_)=>{_.d(C,{c:()=>E});var h=_(5312),c=_(1985),d=_(1626),v=_(2182),w=_(4438);let E=(()=>{class t{constructor(I){this.http=I,this.api=h.c.apiUrl+"/article"}getArticles(){const I=(0,v.gf)();if(console.log(I),I){const u=(new d.Lr).set("Authorization",`Bearer ${I}`).set("Content-Type","application/json; charset=utf8");return this.http.get(`${this.api}/read`,{headers:u})}return new c.c}static#e=this.\u0275fac=function(u){return new(u||t)(w.KVO(d.Qq))};static#t=this.\u0275prov=w.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},7197:(k,C,_)=>{_.d(C,{D:()=>m});var h=_(5312),c=_(1626),d=_(1985),v=_(2182),w=_(8032),E=_.n(w),t=_(4438),M=_(4662),I=_(177),u=_(5779);let m=(()=>{class g{constructor(b,T,x,D,R){this.http=b,this.router=T,this.datePipe=x,this.confirmationService=D,this.messageService=R,this.listvente=[],this.produits=[],this.api=h.c.apiUrl+"/produit",this.apiarticle=h.c.apiUrl+"/articles",this.apivente=h.c.apiUrl+"/vente",this.apilignevente=h.c.apiUrl+"/ligneVente",this.apifile=h.c.apiUrl+"/api/",this.apifilePrime=h.c.apiUrl+"/api/uploadFilesIntoDB",this.produitsFactures=[],this.nbProduit=0,this.CodeBarreSharing=""}getProduits(){const b=`${this.api}/read`,T=(0,v.gf)();if(T){const x=(new c.Lr).set("Authorization",`Bearer ${T}`).set("Content-Type","application/json; charset=utf8");return this.http.get(b,{headers:x})}return new d.c}getProduitById(b){const T=`${this.api}/findById`,x=(0,v.gf)();if(console.log(x),x){const D=(new c.Lr).set("Authorization",`Bearer ${x}`).set("Content-Type","application/json; charset=utf8");return this.http.get(T+"/"+b,{headers:D})}return new d.c}getProduitByArticle(b){const T=`${this.api}/getAllProductByArticle`,x=(0,v.gf)();if(console.log(x),x){const D=(new c.Lr).set("Authorization",`Bearer ${x}`).set("Content-Type","application/json; charset=utf8");return this.http.get(T+"/"+b,{headers:D})}return new d.c}getProduitOrderByQtyVDesc(){const b=`${this.apilignevente}/getproduitdesc`,T=(0,v.gf)();if(T){const x=(new c.Lr).set("Authorization",`Bearer ${T}`).set("Content-Type","application/json; charset=utf8");return this.http.get(b,{headers:x})}return new d.c}searchProduit(b,T){return b=b.toLowerCase(),T.filter(x=>-1!==x._nom.toLowerCase().indexOf(b)||-1!==x._description.indexOf(b))}addProduit(b,T){const x=(0,v.gf)();if(x){const D=(new c.Lr).set("Authorization",`Bearer ${x}`);let R=new FormData;const P=b;R.append("produit",new Blob([JSON.stringify(P)],{type:"application/json"}));for(let Y=0;Y<T.length;Y++)R.append("file",T[Y]);return console.log(P),this.http.post(this.api+"/create",R,{headers:D})}return new d.c}shouldStayOnSamePageOrder(){return this.router.url.includes("/edit-produit")}modifierProduit(b,T){const x=(0,v.gf)();if(x){const D=(new c.Lr).set("Authorization",`Bearer ${x}`);let R=new FormData;R.append("produit",new Blob([JSON.stringify(b)],{type:"application/json"}));for(let Y=0;Y<T.length;Y++)R.append("file",T[Y]);return this.http.put(this.api+"/update",R,{headers:D})}return new d.c}supprimerProduit(b){const T=(0,v.gf)();if(T){const x=(new c.Lr).set("Authorization",`Bearer ${T}`).set("Content-Type","application/json; charset=utf8");return this.http.delete(this.api+"/delete/"+b,{headers:x})}return new d.c}getImageProduit(b){const T=(0,v.gf)();if(T){const x=(new c.Lr).set("Authorization",`Bearer ${T}`).set("Content-Type","application/json; charset=utf8");return this.http.get(this.apifile+"getFileByName/"+b,{headers:x,responseType:"blob"})}return new d.c}getProduitByQrNom(b){const T=`${this.api}/findByDataqr`,x=(0,v.gf)();if(x){const D=(new c.Lr).set("Authorization",`Bearer ${x}`).set("Content-Type","application/json; charset=utf8");return this.http.get(T+"/"+b,{headers:D})}return new d.c}SaveVente(b){const T=(0,v.gf)();if(T){const x=(new c.Lr).set("Authorization",`Bearer ${T}`);let D=[];b.lignesVente.forEach(P=>{D.push({qtyV:P.venteQty,prixVente:P.prixVente,produit:{id:P.produit.id}})});const R={paye:b.paye,dateVente:this.datePipe.transform(b.dateVente,"dd-MM-yyyy"),client:{id:b.client.id},total:b.total,reglement:b.reglement,lignesVente:D,employer:{id:b.employer.id}};return console.info(R),this.http.post(this.apivente+"/create",R,{headers:x})}return new d.c}getArticles(){const b=`${this.apiarticle}/read`,T=(0,v.gf)();if(T){const x=(new c.Lr).set("Authorization",`Bearer ${T}`).set("Content-Type","application/json; charset=utf8");return this.http.get(b,{headers:x})}return new d.c}deleteArticle(b){const T=`${this.apiarticle}/delete/`+b.id,x=(0,v.gf)();if(x){const D=(new c.Lr).set("Authorization",`Bearer ${x}`).set("Content-Type","application/json; charset=utf8");return this.http.delete(T,{headers:D})}return new d.c}addArticle(b){const T=`${this.apiarticle}/create`,x=(0,v.gf)();if(x){const D=(new c.Lr).set("Authorization",`Bearer ${x}`).set("Content-Type","application/json; charset=utf8");return this.http.post(T,b,{headers:D})}return new d.c}exist(b){const T=(0,v.gf)();if(T){const x=(new c.Lr).set("Authorization",`Bearer ${T}`).set("Content-Type","application/json; charset=utf8");let D={user:{id:(0,v.lL)().id},tableName:b};this.http.post(h.c.apiUrl+"/permission/checkpermission",D,{headers:x}).subscribe(R=>{this.permission=R})}else this.permission=!1}existArticle(b){const T=(0,v.gf)();if(T){const x=(new c.Lr).set("Authorization",`Bearer ${T}`).set("Content-Type","application/json; charset=utf8");let D={user:{id:(0,v.lL)().id},tableName:b};this.http.post(h.c.apiUrl+"/permission/checkpermission",D,{headers:x}).subscribe(R=>{this.permissionArticle=R})}else this.permissionArticle=!1}returnBack(){E().fire({title:"Vous \xeates s\xfbr?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui",cancelButtonText:"Annuler"}).then(b=>{b.isConfirmed?this.router.navigate(["/uikit/produits"]):E().fire({title:"Annulation",icon:"info",text:"Le retour a \xe9t\xe9 annul\xe9."})})}getHistoriques(b){const T=`${this.api}/historiques`,x=(0,v.gf)();if(x){const D=(new c.Lr).set("Authorization",`Bearer ${x}`).set("Content-Type","application/json; charset=utf8");return this.http.get(T+"/"+b,{headers:D})}return new d.c}static#e=this.\u0275fac=function(T){return new(T||g)(t.KVO(c.Qq),t.KVO(M.Ix),t.KVO(I.vh),t.KVO(u.td),t.KVO(u.bg))};static#t=this.\u0275prov=t.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},6991:(k,C,_)=>{_.d(C,{c:()=>h,n:()=>c});var h=function(d){return d.PIECE="PIECE",d.CM="CM",d.ML="ML",d.G="G",d}(h||{});class c{constructor(v=0,w="",E="",t=h.CM){this.id=v,this.nom=w,this.description=E,this.unite=t}get _id(){return this.id}set _id(v){this.id=v}get _nom(){return this.nom}set _nom(v){this.nom=v}get _description(){return this.description}set _description(v){this.description=v}get _unite(){return this.unite}set _unite(v){this.unite=v}}},8936:(k,C,_)=>{_.d(C,{p:()=>v});var h=_(2524),c=_(4694);class d extends c.K{constructor(E="",t=""){super(),this.typeEmployer=E,this.tacheEmployer=t}get _typeEmployer(){return this.typeEmployer}set _typeEmployer(E){this.typeEmployer=E}get _tacheEmployer(){return this.tacheEmployer}set _tacheEmployer(E){this.tacheEmployer=E}}class v{constructor(E,t,M,I,u,m,g){this.etatCloture=!0,this.id=E||0,this.etatCloture=t||!1,this.dateCloture=M||new Date,this.montantClotureValide=I||0,this.montantClotureEspece=u||0,this.employer=m||new d,this.tranche=g||new h._}get _id(){return this.id}set _id(E){this.id=E}get _etatCloture(){return this.etatCloture}set _etatCloture(E){this.etatCloture=E}get _dateCloture(){return this.dateCloture}set _dateCloture(E){this.dateCloture=E}get _montantClotureValide(){return this.montantClotureValide}set _montantClotureValide(E){this.montantClotureValide=E}get _montantClotureEspece(){return this.montantClotureEspece}set _montantClotureEspece(E){this.montantClotureEspece=E}get _employer(){return this.employer}set _employer(E){this.employer=E}get _tranche(){return this.tranche}set _tranche(E){this.tranche=E}}},6852:(k,C,_)=>{_.d(C,{A:()=>c});var h=_(3568);class c{constructor(v,w,E,t,M){this.focus=!1,this.id=v||0,this.venteQty=w||0,this.prixVente=E||0,this.produit=t||new h.I,this.focus=M||!1}get _id(){return this.id}set _id(v){this.id=v}get _venteQty(){return this.venteQty}set _venteQty(v){this.venteQty=v}get _prixVente(){return this.prixVente}set _prixVente(v){this.prixVente=v}get _produit(){return this.produit}set _produit(v){this.produit=v}get _focus(){return this.focus}set _focus(v){this.focus=v}}},2524:(k,C,_)=>{_.d(C,{_:()=>c});var h=_(4694);class c{constructor(v,w,E,t,M,I){this.id=v||0,this.description=w||"",this.dateEcheance=E||new Date,this.montantTranche=t||0,this.user=M||new h.K,this.statutPayement=I||!0}get _id(){return this.id}set _id(v){this.id=v}get _description(){return this.description}set _description(v){this.description=v}get _dateEcheance(){return this.dateEcheance}set _dateEcheance(v){this.dateEcheance=v}get _montantTranche(){return this.montantTranche}set _montantTranche(v){this.montantTranche=v}get _user(){return this.user}set _user(v){this.user=v}get _statutPayement(){return this.statutPayement}set _statutPayement(v){this.statutPayement=v}}},6995:(k,C,_)=>{_.d(C,{l:()=>c});var h=_(4694);class c{constructor(v=0,w,E=new Date,t=0,M=0,I=[],u=new h.K,m=new h.K,g=!1,f=!0){this.id=v,this.paye=w||!1,this.dateVente=E,this.total=t,this.reglement=M,this.lignesVente=I,this.employer=u,this.client=m,this.visible=g,this.isPrint=f}get _id(){return this.id}set _id(v){this.id=v}get _dateVente(){return this.dateVente}set _dateVente(v){this.dateVente=v}get _total(){return this.total}set _total(v){this.total=v}get _reglement(){return this.reglement}set _reglement(v){this.reglement=v}get _lignesVente(){return this.lignesVente}set _lignesVente(v){this.lignesVente=v}get _employer(){return this.employer}set _employer(v){this.employer=v}get _client(){return this.client}set _client(v){this.client=v}get _visible(){return this.visible}set _visible(v){this.visible=v}get _isPrint(){return this.isPrint}set _isPrint(v){this.isPrint=v}}},3568:(k,C,_)=>{_.d(C,{I:()=>c});var h=_(6991);class c{constructor(v=0,w="",E=0,t=0,M="",I=0,u=new Blob,m=0,g=0,f=[],b=new Date,T=new Date,x=0,D=0,R=!1,P="",Y=0,X=new h.n,te=0,G=!1,ee=!1,oe=[],W=[]){this.id=v,this.nom=w,this.prixUnitaire=E,this.prixGros=t,this.description=M,this.qantite=I,this.image=u,this.gainUnitaire=m,this.gainGros=g,this.files=f,this.dateExpiration=b,this.dateFabrication=T,this.minQuantiteGros=x,this.taxe=D,this.enable=R,this.dataqr=P,this.qantiteFacture=Y,this.article=X,this.levelstock=te,this.showDetails=G,this.checkedService=ee,this.subdataqr=oe,this.historiques=W}get _id(){return this.id}set _id(v){this.id=v}get _nom(){return this.nom}set _nom(v){this.nom=v}get _prixUnitaire(){return this.prixUnitaire}set _prixUnitaire(v){this.prixUnitaire=v}get _prixGros(){return this.prixGros}set _prixGros(v){this.prixGros=v}get _description(){return this.description}set _description(v){this.description=v}get _qantite(){return this.qantite}set _qantite(v){this.qantite=v}get _image(){return this.image}set _image(v){this.image=v}get _gainUnitaire(){return this.gainUnitaire}set _gainUnitaire(v){this.gainUnitaire=v}get _gainGros(){return this.gainGros}set _gainGros(v){this.gainGros=v}get _filesList(){return this.files}set _filesList(v){this.files=v}get _dateExpiration(){return this.dateExpiration}set _dateExpiration(v){this.dateExpiration=v}get _dateFabrication(){return this.dateFabrication}set _dateFabrication(v){this.dateFabrication=v}get _minQuantiteGros(){return this.minQuantiteGros}set _minQuantiteGros(v){this.minQuantiteGros=v}get _taxe(){return this.taxe}set _taxe(v){this.taxe=v}get _enable(){return this.enable}set _enable(v){this.enable=v}get _dataqr(){return this.dataqr}set _dataqr(v){this.dataqr=v}get _qantiteFacture(){return this.qantiteFacture}set _qantiteFacture(v){this.qantiteFacture=v}get _article(){return this.article}set _article(v){this.article=v}get _levelstock(){return this.levelstock}set _levelstock(v){this.levelstock=v}get _showDetails(){return this.showDetails}set _showDetails(v){this.showDetails=v}get _checkedService(){return this.checkedService}set _checkedService(v){this.checkedService=v}get _subdataqr(){return this.subdataqr}set _subdataqr(v){this.subdataqr=v}get _files(){return this.files}set _files(v){this.files=v}get _historiques(){return this.historiques}set _historiques(v){this.historiques=v}toJSON(){return{...this,dateExpiration:this.dateExpiration?this.dateExpiration.toISOString().split("T")[0]:null,dateFabrication:this.dateFabrication?this.dateFabrication.toISOString().split("T")[0]:null}}static copy(v){const w=new c;return w.id=v.id,w.nom=v.nom,w.prixUnitaire=v.prixUnitaire,w.prixGros=v.prixGros,w.description=v.description,w.qantite=v.qantite,w.image=v.image,w.gainUnitaire=v.gainUnitaire,w.gainGros=v.gainGros,w.files=v.files?[...v.files]:[],w.dateExpiration=v.dateExpiration,w.dateFabrication=v.dateFabrication,w.minQuantiteGros=v.minQuantiteGros,w.taxe=v.taxe,w.enable=v.enable,w.dataqr=v.dataqr,w.qantiteFacture=v.qantiteFacture,w.article=v.article,w.levelstock=v.levelstock,w.showDetails=v.showDetails,w.checkedService=v.checkedService,w.subdataqr=v.subdataqr?[...v.subdataqr]:[],w.historiques=v.historiques?[...v.historiques]:[],w}}},1874:(k,C,_)=>{var c=R(_(3209)),v=R(_(3931)),E=R(_(9246)),M=R(_(8084)),u=R(_(2042)),g=R(_(1951)),b=R(_(650)),T=_(1498),D=R(_(5482));function R(W){return W&&W.__esModule?W:{default:W}}var P=function(){},Y=function(se,ue,ce){var pe=new P;if(typeof se>"u")throw Error("No element to render on was provided.");return pe._renderProperties=(0,u.default)(se),pe._encodings=[],pe._options=D.default,pe._errorHandler=new b.default(pe),typeof ue<"u"&&((ce=ce||{}).format||(ce.format=ee()),pe.options(ce)[ce.format](ue,ce).render()),pe};for(var X in Y.getModule=function(W){return c.default[W]},c.default)c.default.hasOwnProperty(X)&&te(c.default,X);function te(W,se){P.prototype[se]=P.prototype[se.toUpperCase()]=P.prototype[se.toLowerCase()]=function(ue,ce){var pe=this;return pe._errorHandler.wrapBarcodeCall(function(){ce.text=typeof ce.text>"u"?void 0:""+ce.text;var ye=(0,v.default)(pe._options,ce);ye=(0,g.default)(ye);var U=G(ue,W[se],ye);return pe._encodings.push(U),pe})}}function G(W,se,ue){var ce=new se(W=""+W,ue);if(!ce.valid())throw new T.InvalidInputException(ce.constructor.name,W);var pe=ce.encode();pe=(0,E.default)(pe);for(var ye=0;ye<pe.length;ye++)pe[ye].options=(0,v.default)(ue,pe[ye].options);return pe}function ee(){return c.default.CODE128?"CODE128":Object.keys(c.default)[0]}function oe(W,se,ue){se=(0,E.default)(se);for(var ce=0;ce<se.length;ce++)se[ce].options=(0,v.default)(ue,se[ce].options),(0,M.default)(se[ce].options);(0,M.default)(ue),new(0,W.renderer)(W.element,se,ue).render(),W.afterRender&&W.afterRender()}P.prototype.options=function(W){return this._options=(0,v.default)(this._options,W),this},P.prototype.blank=function(W){var se=new Array(W+1).join("0");return this._encodings.push({data:se}),this},P.prototype.init=function(){var W;if(this._renderProperties)for(var se in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var ue=(0,v.default)(this._options,(W=this._renderProperties[se]).options);"auto"==ue.format&&(ue.format=ee()),this._errorHandler.wrapBarcodeCall(function(){var ye=G(ue.value,c.default[ue.format.toUpperCase()],ue);oe(W,ye,ue)})}},P.prototype.render=function(){if(!this._renderProperties)throw new T.NoElementException;if(Array.isArray(this._renderProperties))for(var W=0;W<this._renderProperties.length;W++)oe(this._renderProperties[W],this._encodings,this._options);else oe(this._renderProperties,this._encodings,this._options);return this},P.prototype._defaults=D.default,typeof window<"u"&&(window.JsBarcode=Y),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(W,se){var ue=[];return jQuery(this).each(function(){ue.push(this)}),Y(ue,W,se)}),k.exports=Y},2933:(k,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.default=function c(d,v){(function _(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.data=d,this.text=v.text||d,this.options=v}},3166:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=function(){function u(m,g){for(var f=0;f<g.length;f++){var b=g[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,g,f){return g&&u(m.prototype,g),f&&u(m,f),m}}(),d=function w(u){return u&&u.__esModule?u:{default:u}}(_(2933)),v=_(9973),I=function(u){function m(g,f){!function E(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m);var b=function t(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?u:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,g.substring(1),f));return b.bytes=g.split("").map(function(T){return T.charCodeAt(0)}),b}return function M(u,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}(m,u),h(m,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var f=this.bytes,b=f.shift()-105,T=v.SET_BY_CODE[b];if(void 0===T)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&f.unshift(v.FNC1);var x=m.next(f,1,T);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:m.getBar(b)+x.result+m.getBar((x.checksum+b)%v.MODULO)+m.getBar(v.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var f=this.options.ean128||!1;return"string"==typeof f&&(f="true"===f.toLowerCase()),f}}],[{key:"getBar",value:function(f){return v.BARS[f]?v.BARS[f].toString():""}},{key:"correctIndex",value:function(f,b){if(b===v.SET_A){var T=f.shift();return T<32?T+64:T-32}return b===v.SET_B?f.shift()-32:10*(f.shift()-48)+f.shift()-48}},{key:"next",value:function(f,b,T){if(!f.length)return{result:"",checksum:0};var x=void 0,D=void 0;if(f[0]>=200){D=f.shift()-105;var R=v.SWAP[D];void 0!==R?x=m.next(f,b+1,R):((T===v.SET_A||T===v.SET_B)&&D===v.SHIFT&&(f[0]=T===v.SET_A?f[0]>95?f[0]-96:f[0]:f[0]<32?f[0]+96:f[0]),x=m.next(f,b+1,T))}else D=m.correctIndex(f,T),x=m.next(f,b+1,T);return{result:m.getBar(D)+x.result,checksum:D*b+x.checksum}}}]),m}(d.default);C.default=I},4675:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=function(){function u(m,g){for(var f=0;f<g.length;f++){var b=g[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,g,f){return g&&u(m.prototype,g),f&&u(m,f),m}}(),d=function w(u){return u&&u.__esModule?u:{default:u}}(_(3166)),v=_(9973),I=function(u){function m(g,f){return function E(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function t(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?u:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v.A_START_CHAR+g,f))}return function M(u,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}(m,u),h(m,[{key:"valid",value:function(){return new RegExp("^"+v.A_CHARS+"+$").test(this.data)}}]),m}(d.default);C.default=I},4502:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=function(){function u(m,g){for(var f=0;f<g.length;f++){var b=g[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,g,f){return g&&u(m.prototype,g),f&&u(m,f),m}}(),d=function w(u){return u&&u.__esModule?u:{default:u}}(_(3166)),v=_(9973),I=function(u){function m(g,f){return function E(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function t(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?u:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v.B_START_CHAR+g,f))}return function M(u,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}(m,u),h(m,[{key:"valid",value:function(){return new RegExp("^"+v.B_CHARS+"+$").test(this.data)}}]),m}(d.default);C.default=I},2693:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=function(){function u(m,g){for(var f=0;f<g.length;f++){var b=g[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,g,f){return g&&u(m.prototype,g),f&&u(m,f),m}}(),d=function w(u){return u&&u.__esModule?u:{default:u}}(_(3166)),v=_(9973),I=function(u){function m(g,f){return function E(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function t(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?u:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v.C_START_CHAR+g,f))}return function M(u,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}(m,u),h(m,[{key:"valid",value:function(){return new RegExp("^"+v.C_CHARS+"+$").test(this.data)}}]),m}(d.default);C.default=I},714:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var c=w(_(3166)),v=w(_(5113));function w(u){return u&&u.__esModule?u:{default:u}}function t(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?u:m}var I=function(u){function m(g,f){if(function E(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),/^[\x00-\x7F\xC8-\xD3]+$/.test(g))var b=t(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,(0,v.default)(g),f));else b=t(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,g,f));return t(b)}return function M(u,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}(m,u),m}(c.default);C.default=I},5113:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=_(9973),c=function(M){return M.match(new RegExp("^"+h.A_CHARS+"*"))[0].length},d=function(M){return M.match(new RegExp("^"+h.B_CHARS+"*"))[0].length},v=function(M){return M.match(new RegExp("^"+h.C_CHARS+"*"))[0]};function w(t,M){var I=M?h.A_CHARS:h.B_CHARS,u=t.match(new RegExp("^("+I+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(u)return u[1]+"\xcc"+E(t.substring(u[1].length));var m=t.match(new RegExp("^"+I+"+"))[0];return m.length===t.length?t:m+String.fromCharCode(M?205:206)+w(t.substring(m.length),!M)}function E(t){var M=v(t),I=M.length;if(I===t.length)return t;t=t.substring(I);var u=c(t)>=d(t);return M+String.fromCharCode(u?206:205)+w(t,u)}C.default=function(t){var M=void 0;if(v(t).length>=2)M=h.C_START_CHAR+E(t);else{var u=c(t)>d(t);M=(u?h.A_START_CHAR:h.B_START_CHAR)+w(t,u)}return M.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(m,g){return"\xcb"+g})}},9973:(k,C)=>{var _;function h(X,te,G){return te in X?Object.defineProperty(X,te,{value:G,enumerable:!0,configurable:!0,writable:!0}):X[te]=G,X}Object.defineProperty(C,"__esModule",{value:!0});var c=C.SET_A=0,d=C.SET_B=1,v=C.SET_C=2,E=(C.SHIFT=98,C.START_A=103),t=C.START_B=104,M=C.START_C=105;C.MODULO=103,C.STOP=106,C.FNC1=207,C.SET_BY_CODE=(h(_={},E,c),h(_,t,d),h(_,M,v),_),C.SWAP={101:c,100:d,99:v},C.A_START_CHAR="\xd0",C.B_START_CHAR="\xd1",C.C_START_CHAR="\xd2",C.A_CHARS="[\0-_\xc8-\xcf]",C.B_CHARS="[ -\x7f\xc8-\xcf]",C.C_CHARS="(\xcf*[0-9]{2}\xcf*)",C.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},9152:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.CODE128C=C.CODE128B=C.CODE128A=C.CODE128=void 0;var c=I(_(714)),v=I(_(4675)),E=I(_(4502)),M=I(_(2693));function I(u){return u&&u.__esModule?u:{default:u}}C.CODE128=c.default,C.CODE128A=v.default,C.CODE128B=E.default,C.CODE128C=M.default},3803:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.CODE39=void 0;var h=function(){function x(D,R){for(var P=0;P<R.length;P++){var Y=R[P];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(D,Y.key,Y)}}return function(D,R,P){return R&&x(D.prototype,R),P&&x(D,P),D}}(),M=function(x){function D(R,P){return function w(x,D){if(!(x instanceof D))throw new TypeError("Cannot call a class as a function")}(this,D),R=R.toUpperCase(),P.mod43&&(R+=function f(x){return I[x]}(function T(x){for(var D=0,R=0;R<x.length;R++)D+=b(x[R]);return D%=43}(R))),function E(x,D){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!D||"object"!=typeof D&&"function"!=typeof D?x:D}(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,R,P))}return function t(x,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function, not "+typeof D);x.prototype=Object.create(D&&D.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(x,D):x.__proto__=D)}(D,x),h(D,[{key:"encode",value:function(){for(var P=m("*"),Y=0;Y<this.data.length;Y++)P+=m(this.data[Y])+"0";return{data:P+=m("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),D}(function v(x){return x&&x.__esModule?x:{default:x}}(_(2933)).default),I=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],u=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function m(x){return function g(x){return u[x].toString(2)}(b(x))}function b(x){return I.indexOf(x)}C.CODE39=M},7331:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=function(){function g(f,b){for(var T=0;T<b.length;T++){var x=b[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(f,x.key,x)}}return function(f,b,T){return b&&g(f.prototype,b),T&&g(f,T),f}}(),c=_(2846),v=t(_(2143));function t(g){return g&&g.__esModule?g:{default:g}}var m=function(g){function f(b,T){!function M(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f);var x=function I(g,f){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?g:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,b,T));return x.fontSize=!T.flat&&T.fontSize>10*T.width?10*T.width:T.fontSize,x.guardHeight=T.height+x.fontSize/2+T.textMargin,x}return function u(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(f,g),h(f,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(T,x){return this.text.substr(T,x)}},{key:"leftEncode",value:function(T,x){return(0,v.default)(T,x)}},{key:"rightText",value:function(T,x){return this.text.substr(T,x)}},{key:"rightEncode",value:function(T,x){return(0,v.default)(T,x)}},{key:"encodeGuarded",value:function(){var T={fontSize:this.fontSize},x={height:this.guardHeight};return[{data:c.SIDE_BIN,options:x},{data:this.leftEncode(),text:this.leftText(),options:T},{data:c.MIDDLE_BIN,options:x},{data:this.rightEncode(),text:this.rightText(),options:T},{data:c.SIDE_BIN,options:x}]}},{key:"encodeFlat",value:function(){return{data:[c.SIDE_BIN,this.leftEncode(),c.MIDDLE_BIN,this.rightEncode(),c.SIDE_BIN].join(""),text:this.text}}}]),f}(t(_(2933)).default);C.default=m},7779:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=function(){function g(f,b){for(var T=0;T<b.length;T++){var x=b[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(f,x.key,x)}}return function(f,b,T){return b&&g(f.prototype,b),T&&g(f,T),f}}(),c=function g(f,b,T){null===f&&(f=Function.prototype);var x=Object.getOwnPropertyDescriptor(f,b);if(void 0===x){var D=Object.getPrototypeOf(f);return null===D?void 0:g(D,b,T)}if("value"in x)return x.value;var R=x.get;return void 0===R?void 0:R.call(T)},d=_(2846),w=function E(g){return g&&g.__esModule?g:{default:g}}(_(7331)),u=function(f){return(10-f.substr(0,12).split("").map(function(T){return+T}).reduce(function(T,x,D){return D%2?T+3*x:T+x},0)%10)%10},m=function(g){function f(b,T){(function t(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")})(this,f),-1!==b.search(/^[0-9]{12}$/)&&(b+=u(b));var x=function M(g,f){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?g:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,b,T));return x.lastChar=T.lastChar,x}return function I(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(f,g),h(f,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===u(this.data)}},{key:"leftText",value:function(){return c(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var T=this.data.substr(1,6),x=d.EAN13_STRUCTURE[this.data[0]];return c(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"leftEncode",this).call(this,T,x)}},{key:"rightText",value:function(){return c(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var T=this.data.substr(7,6);return c(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"rightEncode",this).call(this,T,"RRRRRR")}},{key:"encodeGuarded",value:function(){var T=c(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(T.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(T.push({data:"00"}),T.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),T}}]),f}(w.default);C.default=m},197:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=function(){function g(f,b){for(var T=0;T<b.length;T++){var x=b[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(f,x.key,x)}}return function(f,b,T){return b&&g(f.prototype,b),T&&g(f,T),f}}(),c=_(2846),v=t(_(2143));function t(g){return g&&g.__esModule?g:{default:g}}var m=function(g){function f(b,T){return function M(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),function I(g,f){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?g:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,b,T))}return function u(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(f,g),h(f,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var T=c.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,v.default)(this.data,T,"01"),text:this.text}}}]),f}(t(_(2933)).default);C.default=m},6400:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=function(){function f(b,T){for(var x=0;x<T.length;x++){var D=T[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(b,D.key,D)}}return function(b,T,x){return T&&f(b.prototype,T),x&&f(b,x),b}}(),c=_(2846),v=t(_(2143));function t(f){return f&&f.__esModule?f:{default:f}}var g=function(f){function b(T,x){return function M(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function I(f,b){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?f:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,T,x))}return function u(f,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);f.prototype=Object.create(b&&b.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(f,b):f.__proto__=b)}(b,f),h(b,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var x=c.EAN5_STRUCTURE[function(b){return b.split("").map(function(x){return+x}).reduce(function(x,D,R){return R%2?x+9*D:x+3*D},0)%10}(this.data)];return{data:"1011"+(0,v.default)(this.data,x,"01"),text:this.text}}}]),b}(t(_(2933)).default);C.default=g},2587:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=function(){function m(g,f){for(var b=0;b<f.length;b++){var T=f[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,f,b){return f&&m(g.prototype,f),b&&m(g,b),g}}(),c=function m(g,f,b){null===g&&(g=Function.prototype);var T=Object.getOwnPropertyDescriptor(g,f);if(void 0===T){var x=Object.getPrototypeOf(g);return null===x?void 0:m(x,f,b)}if("value"in T)return T.value;var D=T.get;return void 0===D?void 0:D.call(b)},v=function w(m){return m&&m.__esModule?m:{default:m}}(_(7331)),I=function(g){return(10-g.substr(0,7).split("").map(function(b){return+b}).reduce(function(b,T,x){return x%2?b+T:b+3*T},0)%10)%10},u=function(m){function g(f,b){return function E(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),-1!==f.search(/^[0-9]{7}$/)&&(f+=I(f)),function t(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?m:g}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,f,b))}return function M(m,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}(g,m),h(g,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===I(this.data)}},{key:"leftText",value:function(){return c(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var b=this.data.substr(0,4);return c(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"leftEncode",this).call(this,b,"LLLL")}},{key:"rightText",value:function(){return c(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var b=this.data.substr(4,4);return c(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"rightEncode",this).call(this,b,"RRRR")}}]),g}(v.default);C.default=u},1541:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=function(){function g(f,b){for(var T=0;T<b.length;T++){var x=b[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(f,x.key,x)}}return function(f,b,T){return b&&g(f.prototype,b),T&&g(f,T),f}}();C.checksum=m;var d=E(_(2143));function E(g){return g&&g.__esModule?g:{default:g}}var u=function(g){function f(b,T){(function t(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")})(this,f),-1!==b.search(/^[0-9]{11}$/)&&(b+=m(b));var x=function M(g,f){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?g:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,b,T));return x.displayValue=T.displayValue,x.fontSize=T.fontSize>10*T.width?10*T.width:T.fontSize,x.guardHeight=T.height+x.fontSize/2+T.textMargin,x}return function I(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(f,g),h(f,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==m(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var T="";return T+="101",T+=(0,d.default)(this.data.substr(0,6),"LLLLLL"),T+="01010",T+=(0,d.default)(this.data.substr(6,6),"RRRRRR"),{data:T+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var T=[];return this.displayValue&&T.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),T.push({data:"101"+(0,d.default)(this.data[0],"L"),options:{height:this.guardHeight}}),T.push({data:(0,d.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),T.push({data:"01010",options:{height:this.guardHeight}}),T.push({data:(0,d.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),T.push({data:(0,d.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&T.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),T}}]),f}(E(_(2933)).default);function m(g){var b,f=0;for(b=1;b<11;b+=2)f+=parseInt(g[b]);for(b=0;b<11;b+=2)f+=3*parseInt(g[b]);return(10-f%10)%10}C.default=u},7638:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=function(){function T(x,D){for(var R=0;R<D.length;R++){var P=D[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(x,P.key,P)}}return function(x,D,R){return D&&T(x.prototype,D),R&&T(x,R),x}}(),d=t(_(2143)),w=t(_(2933)),E=_(1541);function t(T){return T&&T.__esModule?T:{default:T}}function I(T,x){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?T:x}var m=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],g=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],f=function(T){function x(D,R){!function M(T,x){if(!(T instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x);var P=I(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,D,R));if(P.isValid=!1,-1!==D.search(/^[0-9]{6}$/))P.middleDigits=D,P.upcA=b(D,"0"),P.text=R.text||""+P.upcA[0]+D+P.upcA[P.upcA.length-1],P.isValid=!0;else{if(-1===D.search(/^[01][0-9]{7}$/))return I(P);if(P.middleDigits=D.substring(1,D.length-1),P.upcA=b(P.middleDigits,D[0]),P.upcA[P.upcA.length-1]!==D[D.length-1])return I(P);P.isValid=!0}return P.displayValue=R.displayValue,P.fontSize=R.fontSize>10*R.width?10*R.width:R.fontSize,P.guardHeight=R.height+P.fontSize/2+R.textMargin,P}return function u(T,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);T.prototype=Object.create(x&&x.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(T,x):T.__proto__=x)}(x,T),h(x,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var R="";return R+="101",R+=this.encodeMiddleDigits(),{data:R+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var R=[];return this.displayValue&&R.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),R.push({data:"101",options:{height:this.guardHeight}}),R.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),R.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&R.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),R}},{key:"encodeMiddleDigits",value:function(){var R=this.upcA[0],Y=g[parseInt(this.upcA[this.upcA.length-1])][parseInt(R)];return(0,d.default)(this.middleDigits,Y)}}]),x}(w.default);function b(T,x){for(var D=parseInt(T[T.length-1]),R=m[D],P="",Y=0,X=0;X<R.length;X++){var te=R[X];P+="X"===te?T[Y++]:te}return(P=""+x+P)+(0,E.checksum)(P)}C.default=f},2846:(k,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.SIDE_BIN="101",C.MIDDLE_BIN="01010",C.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},C.EAN2_STRUCTURE=["LL","LG","GL","GG"],C.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],C.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},2143:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=_(2846);C.default=function(v,w,E){var t=v.split("").map(function(I,u){return h.BINARIES[w[u]]}).map(function(I,u){return I?I[v[u]]:""});if(E){var M=v.length-1;t=t.map(function(I,u){return u<M?I+E:I})}return t.join("")}},9995:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.UPCE=C.UPC=C.EAN2=C.EAN5=C.EAN8=C.EAN13=void 0;var c=f(_(7779)),v=f(_(2587)),E=f(_(6400)),M=f(_(197)),u=f(_(1541)),g=f(_(7638));function f(b){return b&&b.__esModule?b:{default:b}}C.EAN13=c.default,C.EAN8=v.default,C.EAN5=E.default,C.EAN2=M.default,C.UPC=u.default,C.UPCE=g.default},9257:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.GenericBarcode=void 0;var h=function(){function I(u,m){for(var g=0;g<m.length;g++){var f=m[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,m,g){return m&&I(u.prototype,m),g&&I(u,g),u}}(),M=function(I){function u(m,g){return function w(I,u){if(!(I instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function E(I,u){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?I:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m,g))}return function t(I,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);I.prototype=Object.create(u&&u.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(I,u):I.__proto__=u)}(u,I),h(u,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),u}(function v(I){return I&&I.__esModule?I:{default:I}}(_(2933)).default);C.GenericBarcode=M},3534:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=function(){function u(m,g){for(var f=0;f<g.length;f++){var b=g[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,g,f){return g&&u(m.prototype,g),f&&u(m,f),m}}(),c=_(2218),I=function(u){function m(){return function E(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function t(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?u:m}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return function M(u,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}(m,u),h(m,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var f=this,b=this.data.match(/.{2}/g).map(function(T){return f.encodePair(T)}).join("");return{data:c.START_BIN+b+c.END_BIN,text:this.text}}},{key:"encodePair",value:function(f){var b=c.BINARIES[f[1]];return c.BINARIES[f[0]].split("").map(function(T,x){return("1"===T?"111":"1")+("1"===b[x]?"000":"0")}).join("")}}]),m}(function w(u){return u&&u.__esModule?u:{default:u}}(_(2933)).default);C.default=I},6023:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=function(){function u(m,g){for(var f=0;f<g.length;f++){var b=g[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,g,f){return g&&u(m.prototype,g),f&&u(m,f),m}}(),d=function v(u){return u&&u.__esModule?u:{default:u}}(_(3534)),M=function(m){var g=m.substr(0,13).split("").map(function(f){return parseInt(f,10)}).reduce(function(f,b,T){return f+b*(3-T%2*2)},0);return 10*Math.ceil(g/10)-g},I=function(u){function m(g,f){return function w(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),-1!==g.search(/^[0-9]{13}$/)&&(g+=M(g)),function E(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?u:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,g,f))}return function t(u,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}(m,u),h(m,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===M(this.data)}}]),m}(d.default);C.default=I},2218:(k,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.START_BIN="1010",C.END_BIN="11101",C.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},9319:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.ITF14=C.ITF=void 0;var c=w(_(3534)),v=w(_(6023));function w(E){return E&&E.__esModule?E:{default:E}}C.ITF=c.default,C.ITF14=v.default},8778:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=function(){function u(m,g){for(var f=0;f<g.length;f++){var b=g[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,g,f){return g&&u(m.prototype,g),f&&u(m,f),m}}(),M=function(u){function m(g,f){return function w(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function E(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?u:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,g,f))}return function t(u,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}(m,u),h(m,[{key:"encode",value:function(){for(var f="110",b=0;b<this.data.length;b++){var x=parseInt(this.data[b]).toString(2);x=I(x,4-x.length);for(var D=0;D<x.length;D++)f+="0"==x[D]?"100":"110"}return{data:f+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),m}(function v(u){return u&&u.__esModule?u:{default:u}}(_(2933)).default);function I(u,m){for(var g=0;g<m;g++)u="0"+u;return u}C.default=M},3167:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var c=function v(I){return I&&I.__esModule?I:{default:I}}(_(8778)),d=_(2821),M=function(I){function u(m,g){return function w(I,u){if(!(I instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function E(I,u){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?I:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m+(0,d.mod10)(m),g))}return function t(I,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);I.prototype=Object.create(u&&u.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(I,u):I.__proto__=u)}(u,I),u}(c.default);C.default=M},1522:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var c=function v(I){return I&&I.__esModule?I:{default:I}}(_(8778)),d=_(2821),M=function(I){function u(m,g){return function w(I,u){if(!(I instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),m+=(0,d.mod10)(m),m+=(0,d.mod10)(m),function E(I,u){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?I:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m,g))}return function t(I,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);I.prototype=Object.create(u&&u.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(I,u):I.__proto__=u)}(u,I),u}(c.default);C.default=M},8552:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var c=function v(I){return I&&I.__esModule?I:{default:I}}(_(8778)),d=_(2821),M=function(I){function u(m,g){return function w(I,u){if(!(I instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function E(I,u){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?I:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m+(0,d.mod11)(m),g))}return function t(I,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);I.prototype=Object.create(u&&u.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(I,u):I.__proto__=u)}(u,I),u}(c.default);C.default=M},677:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var c=function v(I){return I&&I.__esModule?I:{default:I}}(_(8778)),d=_(2821),M=function(I){function u(m,g){return function w(I,u){if(!(I instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),m+=(0,d.mod11)(m),m+=(0,d.mod10)(m),function E(I,u){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?I:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m,g))}return function t(I,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);I.prototype=Object.create(u&&u.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(I,u):I.__proto__=u)}(u,I),u}(c.default);C.default=M},2821:(k,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.mod10=function _(c){for(var d=0,v=0;v<c.length;v++){var w=parseInt(c[v]);d+=(v+c.length)%2==0?w:2*w%10+Math.floor(2*w/10)}return(10-d%10)%10},C.mod11=function h(c){for(var d=0,v=[2,3,4,5,6,7],w=0;w<c.length;w++){var E=parseInt(c[c.length-1-w]);d+=v[w%v.length]*E}return(11-d%11)%11}},3641:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.MSI1110=C.MSI1010=C.MSI11=C.MSI10=C.MSI=void 0;var c=m(_(8778)),v=m(_(3167)),E=m(_(8552)),M=m(_(1522)),u=m(_(677));function m(g){return g&&g.__esModule?g:{default:g}}C.MSI=c.default,C.MSI10=v.default,C.MSI11=E.default,C.MSI1010=M.default,C.MSI1110=u.default},9468:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.codabar=void 0;var h=function(){function I(u,m){for(var g=0;g<m.length;g++){var f=m[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,m,g){return m&&I(u.prototype,m),g&&I(u,g),u}}(),M=function(I){function u(m,g){(function w(I,u){if(!(I instanceof u))throw new TypeError("Cannot call a class as a function")})(this,u),0===m.search(/^[0-9\-\$\:\.\+\/]+$/)&&(m="A"+m+"A");var f=function E(I,u){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?I:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m.toUpperCase(),g));return f.text=f.options.text||f.text.replace(/[A-D]/g,""),f}return function t(I,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);I.prototype=Object.create(u&&u.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(I,u):I.__proto__=u)}(u,I),h(u,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var g=[],f=this.getEncodings(),b=0;b<this.data.length;b++)g.push(f[this.data.charAt(b)]),b!==this.data.length-1&&g.push("0");return{text:this.text,data:g.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),u}(function v(I){return I&&I.__esModule?I:{default:I}}(_(2933)).default);C.codabar=M},3209:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=_(3803),c=_(9152),d=_(9995),v=_(9319),w=_(3641),E=_(4322),t=_(9468),M=_(9257);C.default={CODE39:h.CODE39,CODE128:c.CODE128,CODE128A:c.CODE128A,CODE128B:c.CODE128B,CODE128C:c.CODE128C,EAN13:d.EAN13,EAN8:d.EAN8,EAN5:d.EAN5,EAN2:d.EAN2,UPC:d.UPC,UPCE:d.UPCE,ITF14:v.ITF14,ITF:v.ITF,MSI:w.MSI,MSI10:w.MSI10,MSI11:w.MSI11,MSI1010:w.MSI1010,MSI1110:w.MSI1110,pharmacode:E.pharmacode,codabar:t.codabar,GenericBarcode:M.GenericBarcode}},4322:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.pharmacode=void 0;var h=function(){function I(u,m){for(var g=0;g<m.length;g++){var f=m[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,m,g){return m&&I(u.prototype,m),g&&I(u,g),u}}(),M=function(I){function u(m,g){!function w(I,u){if(!(I instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u);var f=function E(I,u){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?I:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m,g));return f.number=parseInt(m,10),f}return function t(I,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);I.prototype=Object.create(u&&u.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(I,u):I.__proto__=u)}(u,I),h(u,[{key:"encode",value:function(){for(var g=this.number,f="";!isNaN(g)&&0!=g;)g%2==0?(f="11100"+f,g=(g-2)/2):(f="100"+f,g=(g-1)/2);return{data:f=f.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),u}(function v(I){return I&&I.__esModule?I:{default:I}}(_(2933)).default);C.pharmacode=M},650:(k,C)=>{Object.defineProperty(C,"__esModule",{value:!0});var _=function(){function d(v,w){for(var E=0;E<w.length;E++){var t=w[E];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(v,t.key,t)}}return function(v,w,E){return w&&d(v.prototype,w),E&&d(v,E),v}}(),c=function(){function d(v){(function h(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.api=v}return _(d,[{key:"handleCatch",value:function(w){if("InvalidInputException"!==w.name)throw w;if(this.api._options.valid===this.api._defaults.valid)throw w.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(w){try{var E=w.apply(void 0,arguments);return this.api._options.valid(!0),E}catch(t){return this.handleCatch(t),this.api}}}]),d}();C.default=c},1498:(k,C)=>{function _(E,t){if(!(E instanceof t))throw new TypeError("Cannot call a class as a function")}function h(E,t){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?E:t}function c(E,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);E.prototype=Object.create(t&&t.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(E,t):E.__proto__=t)}Object.defineProperty(C,"__esModule",{value:!0});var d=function(E){function t(M,I){_(this,t);var u=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return u.name="InvalidInputException",u.symbology=M,u.input=I,u.message='"'+u.input+'" is not a valid input for '+u.symbology,u}return c(t,Error),t}(),v=function(E){function t(){_(this,t);var M=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return M.name="InvalidElementException",M.message="Not supported type to render on",M}return c(t,Error),t}(),w=function(E){function t(){_(this,t);var M=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return M.name="NoElementException",M.message="No element to render on.",M}return c(t,Error),t}();C.InvalidInputException=d,C.InvalidElementException=v,C.NoElementException=w},8084:(k,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.default=function _(h){return h.marginTop=h.marginTop||h.margin,h.marginBottom=h.marginBottom||h.margin,h.marginRight=h.marginRight||h.margin,h.marginLeft=h.marginLeft||h.margin,h}},329:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var c=w(_(1951)),v=w(_(5482));function w(t){return t&&t.__esModule?t:{default:t}}C.default=function E(t){var M={};for(var I in v.default)v.default.hasOwnProperty(I)&&(t.hasAttribute("jsbarcode-"+I.toLowerCase())&&(M[I]=t.getAttribute("jsbarcode-"+I.toLowerCase())),t.hasAttribute("data-"+I.toLowerCase())&&(M[I]=t.getAttribute("data-"+I.toLowerCase())));return M.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),(0,c.default)(M)}},2042:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},d=t(_(329)),w=t(_(2368)),E=_(1498);function t(m){return m&&m.__esModule?m:{default:m}}C.default=function M(m){if("string"==typeof m)return function I(m){var g=document.querySelectorAll(m);if(0!==g.length){for(var f=[],b=0;b<g.length;b++)f.push(M(g[b]));return f}}(m);if(Array.isArray(m)){for(var g=[],f=0;f<m.length;f++)g.push(M(m[f]));return g}if(typeof HTMLCanvasElement<"u"&&m instanceof HTMLImageElement)return function u(m){var g=document.createElement("canvas");return{element:g,options:(0,d.default)(m),renderer:w.default.CanvasRenderer,afterRender:function(){m.setAttribute("src",g.toDataURL())}}}(m);if(m&&m.nodeName&&"svg"===m.nodeName.toLowerCase()||typeof SVGElement<"u"&&m instanceof SVGElement)return{element:m,options:(0,d.default)(m),renderer:w.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&m instanceof HTMLCanvasElement)return{element:m,options:(0,d.default)(m),renderer:w.default.CanvasRenderer};if(m&&m.getContext)return{element:m,renderer:w.default.CanvasRenderer};if(m&&"object"===(typeof m>"u"?"undefined":h(m))&&!m.nodeName)return{element:m,renderer:w.default.ObjectRenderer};throw new E.InvalidElementException}},9246:(k,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.default=function _(h){var c=[];return function d(v){if(Array.isArray(v))for(var w=0;w<v.length;w++)d(v[w]);else v.text=v.text||"",v.data=v.data||"",c.push(v)}(h),c}},3931:(k,C)=>{Object.defineProperty(C,"__esModule",{value:!0});var _=Object.assign||function(h){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(h[v]=d[v])}return h};C.default=function(h,c){return _({},h,c)}},1951:(k,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.default=function _(h){var c=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var d in c)c.hasOwnProperty(d)&&"string"==typeof h[d=c[d]]&&(h[d]=parseInt(h[d],10));return"string"==typeof h.displayValue&&(h.displayValue="false"!=h.displayValue),h}},5482:(k,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},8682:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=function(){function M(I,u){for(var m=0;m<u.length;m++){var g=u[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(I,g.key,g)}}return function(I,u,m){return u&&M(I.prototype,u),m&&M(I,m),I}}(),d=function w(M){return M&&M.__esModule?M:{default:M}}(_(3931)),v=_(2283),t=function(){function M(I,u,m){(function E(M,I){if(!(M instanceof I))throw new TypeError("Cannot call a class as a function")})(this,M),this.canvas=I,this.encodings=u,this.options=m}return h(M,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var u=0;u<this.encodings.length;u++){var m=(0,d.default)(this.options,this.encodings[u].options);this.drawCanvasBarcode(m,this.encodings[u]),this.drawCanvasText(m,this.encodings[u]),this.moveCanvasDrawing(this.encodings[u])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var u=this.canvas.getContext("2d");u.save(),(0,v.calculateEncodingAttributes)(this.encodings,this.options,u);var m=(0,v.getTotalWidthOfEncodings)(this.encodings),g=(0,v.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=m+this.options.marginLeft+this.options.marginRight,this.canvas.height=g,u.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(u.fillStyle=this.options.background,u.fillRect(0,0,this.canvas.width,this.canvas.height)),u.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(u,m){var b,g=this.canvas.getContext("2d"),f=m.data;b="top"==u.textPosition?u.marginTop+u.fontSize+u.textMargin:u.marginTop,g.fillStyle=u.lineColor;for(var T=0;T<f.length;T++){var x=T*u.width+m.barcodePadding;"1"===f[T]?g.fillRect(x,b,u.width,u.height):f[T]&&g.fillRect(x,b,u.width,u.height*f[T])}}},{key:"drawCanvasText",value:function(u,m){var b,T,g=this.canvas.getContext("2d");u.displayValue&&(T="top"==u.textPosition?u.marginTop+u.fontSize-u.textMargin:u.height+u.textMargin+u.marginTop+u.fontSize,g.font=u.fontOptions+" "+u.fontSize+"px "+u.font,"left"==u.textAlign||m.barcodePadding>0?(b=0,g.textAlign="left"):"right"==u.textAlign?(b=m.width-1,g.textAlign="right"):(b=m.width/2,g.textAlign="center"),g.fillText(m.text,b,T))}},{key:"moveCanvasDrawing",value:function(u){this.canvas.getContext("2d").translate(u.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),M}();C.default=t},2368:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var c=t(_(8682)),v=t(_(1538)),E=t(_(1045));function t(M){return M&&M.__esModule?M:{default:M}}C.default={CanvasRenderer:c.default,SVGRenderer:v.default,ObjectRenderer:E.default}},1045:(k,C)=>{Object.defineProperty(C,"__esModule",{value:!0});var _=function(){function d(v,w){for(var E=0;E<w.length;E++){var t=w[E];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(v,t.key,t)}}return function(v,w,E){return w&&d(v.prototype,w),E&&d(v,E),v}}(),c=function(){function d(v,w,E){(function h(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.object=v,this.encodings=w,this.options=E}return _(d,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),d}();C.default=c},2283:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.getTotalWidthOfEncodings=C.calculateEncodingAttributes=C.getBarcodePadding=C.getEncodingHeight=C.getMaximumHeightOfEncodings=void 0;var c=function d(u){return u&&u.__esModule?u:{default:u}}(_(3931));function v(u,m){return m.height+(m.displayValue&&u.text.length>0?m.fontSize+m.textMargin:0)+m.marginTop+m.marginBottom}function w(u,m,g){if(g.displayValue&&m<u){if("center"==g.textAlign)return Math.floor((u-m)/2);if("left"==g.textAlign)return 0;if("right"==g.textAlign)return Math.floor(u-m)}return 0}function I(u,m,g){var f;if(g)f=g;else{if(!(typeof document<"u"))return 0;f=document.createElement("canvas").getContext("2d")}f.font=m.fontOptions+" "+m.fontSize+"px "+m.font;var b=f.measureText(u);return b?b.width:0}C.getMaximumHeightOfEncodings=function M(u){for(var m=0,g=0;g<u.length;g++)u[g].height>m&&(m=u[g].height);return m},C.getEncodingHeight=v,C.getBarcodePadding=w,C.calculateEncodingAttributes=function E(u,m,g){for(var f=0;f<u.length;f++){var x,b=u[f],T=(0,c.default)(m,b.options);x=T.displayValue?I(b.text,T,g):0;var D=b.data.length*T.width;b.width=Math.ceil(Math.max(x,D)),b.height=v(b,T),b.barcodePadding=w(x,D,T)}},C.getTotalWidthOfEncodings=function t(u){for(var m=0,g=0;g<u.length;g++)m+=u[g].width;return m}},1538:(k,C,_)=>{Object.defineProperty(C,"__esModule",{value:!0});var h=function(){function I(u,m){for(var g=0;g<m.length;g++){var f=m[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,m,g){return m&&I(u.prototype,m),g&&I(u,g),u}}(),d=function w(I){return I&&I.__esModule?I:{default:I}}(_(3931)),v=_(2283),t="http://www.w3.org/2000/svg",M=function(){function I(u,m,g){(function E(I,u){if(!(I instanceof u))throw new TypeError("Cannot call a class as a function")})(this,I),this.svg=u,this.encodings=m,this.options=g,this.document=g.xmlDocument||document}return h(I,[{key:"render",value:function(){var m=this.options.marginLeft;this.prepareSVG();for(var g=0;g<this.encodings.length;g++){var f=this.encodings[g],b=(0,d.default)(this.options,f.options),T=this.createGroup(m,b.marginTop,this.svg);this.setGroupOptions(T,b),this.drawSvgBarcode(T,b,f),this.drawSVGText(T,b,f),m+=f.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,v.calculateEncodingAttributes)(this.encodings,this.options);var m=(0,v.getTotalWidthOfEncodings)(this.encodings),g=(0,v.getMaximumHeightOfEncodings)(this.encodings),f=m+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(f,g),this.options.background&&this.drawRect(0,0,f,g,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(m,g,f){var T,b=f.data;T="top"==g.textPosition?g.fontSize+g.textMargin:0;for(var x=0,D=0,R=0;R<b.length;R++)D=R*g.width+f.barcodePadding,"1"===b[R]?x++:x>0&&(this.drawRect(D-g.width*x,T,g.width*x,g.height,m),x=0);x>0&&this.drawRect(D-g.width*(x-1),T,g.width*x,g.height,m)}},{key:"drawSVGText",value:function(m,g,f){var T,x,b=this.document.createElementNS(t,"text");g.displayValue&&(b.setAttribute("style","font:"+g.fontOptions+" "+g.fontSize+"px "+g.font),x="top"==g.textPosition?g.fontSize-g.textMargin:g.height+g.textMargin+g.fontSize,"left"==g.textAlign||f.barcodePadding>0?(T=0,b.setAttribute("text-anchor","start")):"right"==g.textAlign?(T=f.width-1,b.setAttribute("text-anchor","end")):(T=f.width/2,b.setAttribute("text-anchor","middle")),b.setAttribute("x",T),b.setAttribute("y",x),b.appendChild(this.document.createTextNode(f.text)),m.appendChild(b))}},{key:"setSvgAttributes",value:function(m,g){var f=this.svg;f.setAttribute("width",m+"px"),f.setAttribute("height",g+"px"),f.setAttribute("x","0px"),f.setAttribute("y","0px"),f.setAttribute("viewBox","0 0 "+m+" "+g),f.setAttribute("xmlns",t),f.setAttribute("version","1.1"),f.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(m,g,f){var b=this.document.createElementNS(t,"g");return b.setAttribute("transform","translate("+m+", "+g+")"),f.appendChild(b),b}},{key:"setGroupOptions",value:function(m,g){m.setAttribute("style","fill:"+g.lineColor+";")}},{key:"drawRect",value:function(m,g,f,b,T){var x=this.document.createElementNS(t,"rect");return x.setAttribute("x",m),x.setAttribute("y",g),x.setAttribute("width",f),x.setAttribute("height",b),T.appendChild(x),x}}]),I}();C.default=M},605:(k,C,_)=>{_.d(C,{Y:()=>d});var h=_(3236),c=_(1584);function d(v=0,w=h.E){return v<0&&(v=0),(0,c.O)(v,v,w)}},1584:(k,C,_)=>{_.d(C,{O:()=>w});var h=_(1985),c=_(3236),d=_(9470);function w(E=0,t,M=c.b){let I=-1;return null!=t&&((0,d.m)(t)?M=t:I=t),new h.c(u=>{let m=function v(E){return E instanceof Date&&!isNaN(E)}(E)?+E-M.now():E;m<0&&(m=0);let g=0;return M.schedule(function(){u.closed||(u.next(g++),0<=I?this.schedule(void 0,I):u.complete())},m)})}},6780:(k,C,_)=>{_.d(C,{R:()=>w});var h=_(8359);class c extends h.yU{constructor(t,M){super()}schedule(t,M=0){return this}}const d={setInterval(E,t,...M){const{delegate:I}=d;return I?.setInterval?I.setInterval(E,t,...M):setInterval(E,t,...M)},clearInterval(E){const{delegate:t}=d;return(t?.clearInterval||clearInterval)(E)},delegate:void 0};var v=_(7908);class w extends c{constructor(t,M){super(t,M),this.scheduler=t,this.work=M,this.pending=!1}schedule(t,M=0){var I;if(this.closed)return this;this.state=t;const u=this.id,m=this.scheduler;return null!=u&&(this.id=this.recycleAsyncId(m,u,M)),this.pending=!0,this.delay=M,this.id=null!==(I=this.id)&&void 0!==I?I:this.requestAsyncId(m,this.id,M),this}requestAsyncId(t,M,I=0){return d.setInterval(t.flush.bind(t,this),I)}recycleAsyncId(t,M,I=0){if(null!=I&&this.delay===I&&!1===this.pending)return M;null!=M&&d.clearInterval(M)}execute(t,M){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const I=this._execute(t,M);if(I)return I;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,M){let u,I=!1;try{this.work(t)}catch(m){I=!0,u=m||new Error("Scheduled action threw falsy error")}if(I)return this.unsubscribe(),u}unsubscribe(){if(!this.closed){const{id:t,scheduler:M}=this,{actions:I}=M;this.work=this.state=this.scheduler=null,this.pending=!1,(0,v.o)(I,this),null!=t&&(this.id=this.recycleAsyncId(M,t,null)),this.delay=null,super.unsubscribe()}}}},3604:(k,C,_)=>{_.d(C,{q:()=>d});const h={now:()=>(h.delegate||Date).now(),delegate:void 0};class c{constructor(w,E=c.now){this.schedulerActionCtor=w,this.now=E}schedule(w,E=0,t){return new this.schedulerActionCtor(this,w).schedule(t,E)}}c.now=h.now;class d extends c{constructor(w,E=c.now){super(w,E),this.actions=[],this._active=!1}flush(w){const{actions:E}=this;if(this._active)return void E.push(w);let t;this._active=!0;do{if(t=w.execute(w.state,w.delay))break}while(w=E.shift());if(this._active=!1,t){for(;w=E.shift();)w.unsubscribe();throw t}}}},3236:(k,C,_)=>{_.d(C,{E:()=>d,b:()=>v});var h=_(6780);const d=new(_(3604).q)(h.R),v=d},491:(k,C,_)=>{_.d(C,{D:()=>x,Z:()=>T});var h=_(177),c=_(4438),d=_(5779);const v=["*",[["p-header"]],[["p-footer"]]],w=["*","p-header","p-footer"];function E(D,R){1&D&&c.eu8(0)}function t(D,R){if(1&D&&(c.j41(0,"div",8),c.SdG(1,1),c.DNE(2,E,1,0,"ng-container",6),c.k0s()),2&D){const P=c.XpG();c.R7$(2),c.Y8G("ngTemplateOutlet",P.headerTemplate)}}function M(D,R){1&D&&c.eu8(0)}function I(D,R){if(1&D&&(c.j41(0,"div",9),c.EFF(1),c.DNE(2,M,1,0,"ng-container",6),c.k0s()),2&D){const P=c.XpG();c.R7$(),c.SpI(" ",P.header," "),c.R7$(),c.Y8G("ngTemplateOutlet",P.titleTemplate)}}function u(D,R){1&D&&c.eu8(0)}function m(D,R){if(1&D&&(c.j41(0,"div",10),c.EFF(1),c.DNE(2,u,1,0,"ng-container",6),c.k0s()),2&D){const P=c.XpG();c.R7$(),c.SpI(" ",P.subheader," "),c.R7$(),c.Y8G("ngTemplateOutlet",P.subtitleTemplate)}}function g(D,R){1&D&&c.eu8(0)}function f(D,R){1&D&&c.eu8(0)}function b(D,R){if(1&D&&(c.j41(0,"div",11),c.SdG(1,2),c.DNE(2,f,1,0,"ng-container",6),c.k0s()),2&D){const P=c.XpG();c.R7$(2),c.Y8G("ngTemplateOutlet",P.footerTemplate)}}let T=(()=>{class D{el;header;subheader;style;styleClass;headerFacet;footerFacet;templates;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;constructor(P){this.el=P}ngAfterContentInit(){this.templates.forEach(P=>{switch(P.getType()){case"header":this.headerTemplate=P.template;break;case"title":this.titleTemplate=P.template;break;case"subtitle":this.subtitleTemplate=P.template;break;case"content":default:this.contentTemplate=P.template;break;case"footer":this.footerTemplate=P.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}static \u0275fac=function(Y){return new(Y||D)(c.rXU(c.aKT))};static \u0275cmp=c.VBU({type:D,selectors:[["p-card"]],contentQueries:function(Y,X,te){if(1&Y&&(c.wni(te,d.Y9,5),c.wni(te,d.wi,5),c.wni(te,d.Ei,4)),2&Y){let G;c.mGM(G=c.lsd())&&(X.headerFacet=G.first),c.mGM(G=c.lsd())&&(X.footerFacet=G.first),c.mGM(G=c.lsd())&&(X.templates=G)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:w,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(Y,X){1&Y&&(c.NAR(v),c.j41(0,"div",0),c.DNE(1,t,3,1,"div",1),c.j41(2,"div",2),c.DNE(3,I,3,2,"div",3)(4,m,3,2,"div",4),c.j41(5,"div",5),c.SdG(6),c.DNE(7,g,1,0,"ng-container",6),c.k0s(),c.DNE(8,b,3,1,"div",7),c.k0s()()),2&Y&&(c.HbH(X.styleClass),c.Y8G("ngClass","p-card p-component")("ngStyle",X.style),c.BMQ("data-pc-name","card"),c.R7$(),c.Y8G("ngIf",X.headerFacet||X.headerTemplate),c.R7$(2),c.Y8G("ngIf",X.header||X.titleTemplate),c.R7$(),c.Y8G("ngIf",X.subheader||X.subtitleTemplate),c.R7$(3),c.Y8G("ngTemplateOutlet",X.contentTemplate),c.R7$(),c.Y8G("ngIf",X.footerFacet||X.footerTemplate))},dependencies:[h.YU,h.bT,h.T3,h.B3],styles:["@layer primeng{.p-card-header img{width:100%}}\n"],encapsulation:2,changeDetection:0})}return D})(),x=(()=>{class D{static \u0275fac=function(Y){return new(Y||D)};static \u0275mod=c.$C({type:D});static \u0275inj=c.G2t({imports:[h.MD,d.Gg]})}return D})()},9455:(k,C,_)=>{_.d(C,{f:()=>v});var h=_(4438),c=_(461),d=_(4420);let v=(()=>{class w extends c.h{pathId;ngOnInit(){this.pathId="url(#"+(0,d._Y)()+")"}static \u0275fac=(()=>{let t;return function(I){return(t||(t=h.xGo(w)))(I||w)}})();static \u0275cmp=h.VBU({type:w,selectors:[["HomeIcon"]],standalone:!0,features:[h.Vt3,h.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.4175 6.79971C13.2874 6.80029 13.1608 6.75807 13.057 6.67955L12.4162 6.19913V12.6073C12.4141 12.7659 12.3502 12.9176 12.2379 13.0298C12.1257 13.142 11.9741 13.206 11.8154 13.208H8.61206C8.61179 13.208 8.61151 13.208 8.61123 13.2081C8.61095 13.208 8.61068 13.208 8.6104 13.208H5.41076C5.40952 13.208 5.40829 13.2081 5.40705 13.2081C5.40581 13.2081 5.40458 13.208 5.40334 13.208H2.20287C2.04418 13.206 1.89257 13.142 1.78035 13.0298C1.66813 12.9176 1.60416 12.7659 1.60209 12.6073V6.19914L0.961256 6.67955C0.833786 6.77515 0.673559 6.8162 0.515823 6.79367C0.358086 6.77114 0.215762 6.68686 0.120159 6.55939C0.0245566 6.43192 -0.0164931 6.2717 0.00604063 6.11396C0.0285744 5.95622 0.112846 5.8139 0.240316 5.7183L1.83796 4.52007L1.84689 4.51337L6.64868 0.912027C6.75267 0.834032 6.87915 0.79187 7.00915 0.79187C7.13914 0.79187 7.26562 0.834032 7.36962 0.912027L12.1719 4.51372L12.1799 4.51971L13.778 5.7183C13.8943 5.81278 13.9711 5.94732 13.9934 6.09553C14.0156 6.24373 13.9816 6.39489 13.8981 6.51934C13.8471 6.60184 13.7766 6.67054 13.6928 6.71942C13.609 6.76831 13.5144 6.79587 13.4175 6.79971ZM6.00783 12.0065H8.01045V7.60074H6.00783V12.0065ZM9.21201 12.0065V6.99995C9.20994 6.84126 9.14598 6.68965 9.03375 6.57743C8.92153 6.46521 8.76992 6.40124 8.61123 6.39917H5.40705C5.24836 6.40124 5.09675 6.46521 4.98453 6.57743C4.8723 6.68965 4.80834 6.84126 4.80627 6.99995V12.0065H2.80366V5.29836L7.00915 2.14564L11.2146 5.29836V12.0065H9.21201Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(M,I){1&M&&(h.qSk(),h.j41(0,"svg",0)(1,"g"),h.nrm(2,"path",1),h.k0s(),h.j41(3,"defs")(4,"clipPath",2),h.nrm(5,"rect",3),h.k0s()()()),2&M&&(h.HbH(I.getClassNames()),h.BMQ("aria-label",I.ariaLabel)("aria-hidden",I.ariaHidden)("role",I.role),h.R7$(),h.BMQ("clip-path",I.pathId),h.R7$(3),h.Y8G("id",I.pathId))},encapsulation:2})}return w})()},6160:(k,C,_)=>{_.d(C,{I:()=>E,M:()=>w});var h=_(177),c=_(4438),d=_(5779);const v=["*"];let w=(()=>{class t{style;styleClass;static \u0275fac=function(u){return new(u||t)};static \u0275cmp=c.VBU({type:t,selectors:[["p-inputGroup"]],hostAttrs:[1,"p-element","p-inputgroup"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:v,decls:2,vars:3,consts:[[1,"p-inputgroup",3,"ngClass","ngStyle"]],template:function(u,m){1&u&&(c.NAR(),c.j41(0,"div",0),c.SdG(1),c.k0s()),2&u&&(c.Y8G("ngClass",m.styleClass)("ngStyle",m.style),c.BMQ("data-pc-name","inputgroup"))},dependencies:[h.YU,h.B3],encapsulation:2})}return t})(),E=(()=>{class t{static \u0275fac=function(u){return new(u||t)};static \u0275mod=c.$C({type:t});static \u0275inj=c.G2t({imports:[h.MD,d.Gg]})}return t})()},4602:(k,C,_)=>{_.d(C,{S:()=>w,k:()=>E});var h=_(177),c=_(4438),d=_(5779);const v=["*"];let w=(()=>{class t{style;styleClass;static \u0275fac=function(u){return new(u||t)};static \u0275cmp=c.VBU({type:t,selectors:[["p-inputGroupAddon"]],hostAttrs:[1,"p-element","p-inputgroup-addon"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:v,decls:2,vars:3,consts:[[3,"ngClass","ngStyle"]],template:function(u,m){1&u&&(c.NAR(),c.j41(0,"div",0),c.SdG(1),c.k0s()),2&u&&(c.Y8G("ngClass",m.styleClass)("ngStyle",m.style),c.BMQ("data-pc-name","inputgroupaddon"))},dependencies:[h.YU,h.B3],encapsulation:2})}return t})(),E=(()=>{class t{static \u0275fac=function(u){return new(u||t)};static \u0275mod=c.$C({type:t});static \u0275inj=c.G2t({imports:[h.MD,d.Gg]})}return t})()},5114:(k,C,_)=>{_.d(C,{C:()=>x,u:()=>D});var h=_(177),c=_(4438),d=_(3306),v=_(9329),w=_(1962),E=_(2816);const t=(R,P,Y,X,te)=>({"p-inline-message-info":R,"p-inline-message-warn":P,"p-inline-message-error":Y,"p-inline-message-success":X,"p-inline-message-icon-only":te});function M(R,P){1&R&&c.nrm(0,"CheckIcon",4),2&R&&c.Y8G("styleClass","p-inline-message-icon")}function I(R,P){1&R&&c.nrm(0,"InfoCircleIcon",4),2&R&&c.Y8G("styleClass","p-inline-message-icon")}function u(R,P){1&R&&c.nrm(0,"TimesCircleIcon",4),2&R&&c.Y8G("styleClass","p-inline-message-icon")}function m(R,P){1&R&&c.nrm(0,"ExclamationTriangleIcon",4),2&R&&c.Y8G("styleClass","p-inline-message-icon")}function g(R,P){if(1&R&&c.nrm(0,"span",6),2&R){const Y=c.XpG(2);c.Y8G("innerHTML",Y.text,c.npT)}}function f(R,P){if(1&R&&(c.j41(0,"div"),c.DNE(1,g,1,1,"span",5),c.k0s()),2&R){const Y=c.XpG();c.R7$(),c.Y8G("ngIf",!Y.escape)}}function b(R,P){if(1&R&&(c.j41(0,"span",8),c.EFF(1),c.k0s()),2&R){const Y=c.XpG(2);c.R7$(),c.JRh(Y.text)}}function T(R,P){if(1&R&&c.DNE(0,b,2,1,"span",7),2&R){const Y=c.XpG();c.Y8G("ngIf",Y.escape)}}let x=(()=>{class R{severity;text;escape=!0;style;styleClass;get icon(){return this.severity&&this.severity.trim()?this.severity:"info"}static \u0275fac=function(X){return new(X||R)};static \u0275cmp=c.VBU({type:R,selectors:[["p-message"]],hostAttrs:[1,"p-element"],inputs:{severity:"severity",text:"text",escape:"escape",style:"style",styleClass:"styleClass"},decls:8,vars:16,consts:[["escapeOut",""],["aria-live","polite",1,"p-inline-message","p-component","p-inline-message",3,"ngStyle","ngClass"],[3,"styleClass",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"styleClass"],["class","p-inline-message-text",3,"innerHTML",4,"ngIf"],[1,"p-inline-message-text",3,"innerHTML"],["class","p-inline-message-text",4,"ngIf"],[1,"p-inline-message-text"]],template:function(X,te){if(1&X&&(c.j41(0,"div",1),c.DNE(1,M,1,1,"CheckIcon",2)(2,I,1,1,"InfoCircleIcon",2)(3,u,1,1,"TimesCircleIcon",2)(4,m,1,1,"ExclamationTriangleIcon",2)(5,f,2,1,"div",3)(6,T,1,1,"ng-template",null,0,c.C5r),c.k0s()),2&X){const G=c.sdS(7);c.HbH(te.styleClass),c.Y8G("ngStyle",te.style)("ngClass",c.s1E(10,t,"info"===te.severity,"warn"===te.severity,"error"===te.severity,"success"===te.severity,null==te.text)),c.R7$(),c.Y8G("ngIf","success"===te.icon),c.R7$(),c.Y8G("ngIf","info"===te.icon),c.R7$(),c.Y8G("ngIf","error"===te.icon),c.R7$(),c.Y8G("ngIf","warn"===te.icon),c.R7$(),c.Y8G("ngIf",!te.escape)("ngIfElse",G)}},dependencies:()=>[h.YU,h.bT,h.B3,d.S,w.e,E.I,v.P],styles:["@layer primeng{.p-inline-message{display:inline-flex;align-items:center;justify-content:center;vertical-align:top}.p-inline-message-icon-only .p-inline-message-text{visibility:hidden;width:0}.p-fluid .p-inline-message{display:flex}}\n"],encapsulation:2,changeDetection:0})}return R})(),D=(()=>{class R{static \u0275fac=function(X){return new(X||R)};static \u0275mod=c.$C({type:R});static \u0275inj=c.G2t({imports:[h.MD,d.S,w.e,E.I,v.P]})}return R})()},7983:(k,C,_)=>{_.d(C,{d:()=>Y,j:()=>P});var h=_(9969),c=_(177),d=_(4438),v=_(5779),w=_(1455),E=_(1512),t=_(563),M=_(4420);const I=["*"],u=(X,te)=>({showTransitionParams:X,hideTransitionParams:te}),m=(X,te)=>({value:X,params:te});function g(X,te){1&X&&d.eu8(0)}function f(X,te){1&X&&d.nrm(0,"TimesIcon",8),2&X&&d.Y8G("styleClass","p-overlaypanel-close-icon")}function b(X,te){}function T(X,te){1&X&&d.DNE(0,b,0,0,"ng-template")}function x(X,te){if(1&X&&(d.j41(0,"span",9),d.DNE(1,T,1,0,null,3),d.k0s()),2&X){const G=d.XpG(3);d.R7$(),d.Y8G("ngTemplateOutlet",G.closeIconTemplate)}}function D(X,te){if(1&X){const G=d.RV6();d.j41(0,"button",5),d.bIt("click",function(oe){d.eBV(G);const W=d.XpG(2);return d.Njj(W.onCloseClick(oe))})("keydown.enter",function(){d.eBV(G);const oe=d.XpG(2);return d.Njj(oe.hide())}),d.DNE(1,f,1,1,"TimesIcon",6)(2,x,2,1,"span",7),d.k0s()}if(2&X){const G=d.XpG(2);d.BMQ("aria-label",G.ariaCloseLabel),d.R7$(),d.Y8G("ngIf",!G.closeIconTemplate),d.R7$(),d.Y8G("ngIf",G.closeIconTemplate)}}function R(X,te){if(1&X){const G=d.RV6();d.j41(0,"div",1),d.bIt("click",function(oe){d.eBV(G);const W=d.XpG();return d.Njj(W.onOverlayClick(oe))})("@animation.start",function(oe){d.eBV(G);const W=d.XpG();return d.Njj(W.onAnimationStart(oe))})("@animation.done",function(oe){d.eBV(G);const W=d.XpG();return d.Njj(W.onAnimationEnd(oe))}),d.j41(1,"div",2),d.bIt("click",function(oe){d.eBV(G);const W=d.XpG();return d.Njj(W.onContentClick(oe))})("mousedown",function(oe){d.eBV(G);const W=d.XpG();return d.Njj(W.onContentClick(oe))}),d.SdG(2),d.DNE(3,g,1,0,"ng-container",3),d.k0s(),d.DNE(4,D,3,3,"button",4),d.k0s()}if(2&X){const G=d.XpG();d.HbH(G.styleClass),d.Y8G("ngClass","p-overlaypanel p-component")("ngStyle",G.style)("@animation",d.l_i(13,m,G.overlayVisible?"open":"close",d.l_i(10,u,G.showTransitionOptions,G.hideTransitionOptions))),d.BMQ("aria-modal",G.overlayVisible)("aria-label",G.ariaLabel)("aria-labelledBy",G.ariaLabelledBy),d.R7$(3),d.Y8G("ngTemplateOutlet",G.contentTemplate),d.R7$(),d.Y8G("ngIf",G.showCloseIcon)}}let P=(()=>{class X{document;platformId;el;renderer;cd;zone;config;overlayService;ariaLabel;ariaLabelledBy;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new d.bkB;onHide=new d.bkB;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(G,ee,oe,W,se,ue,ce,pe){this.document=G,this.platformId=ee,this.el=oe,this.renderer=W,this.cd=se,this.zone=ue,this.config=ce,this.overlayService=pe}ngAfterContentInit(){this.templates?.forEach(G=>{switch(G.getType()){case"content":default:this.contentTemplate=G.template;break;case"closeicon":this.closeIconTemplate=G.template}this.cd.markForCheck()})}bindDocumentClickListener(){if((0,c.UE)(this.platformId)&&!this.documentClickListener&&this.dismissable){let G=w.D.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,G,oe=>{!this.container?.contains(oe.target)&&this.target!==oe.target&&!this.target.contains(oe.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(G,ee){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(G,ee)&&(this.destroyCallback=()=>{this.show(null,ee||G.currentTarget||G.target)}),this.hide()):this.show(G,ee))}show(G,ee){ee&&G&&G.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=ee||G.currentTarget||G.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(G){this.overlayService.add({originalEvent:G,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(G){const ee=G.target;this.selfClick=G.offsetX<ee.clientWidth&&G.offsetY<ee.clientHeight}hasTargetChanged(G,ee){return null!=this.target&&this.target!==(ee||G.currentTarget||G.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):w.D.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&M.Q$.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),w.D.absolutePosition(this.container,this.target);const G=w.D.getOffset(this.container),ee=w.D.getOffset(this.target),oe=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius");let W=0;G.left<ee.left&&(W=ee.left-G.left-2*parseFloat(oe)),this.container?.style.setProperty("--overlayArrowLeft",`${W}px`),G.top<ee.top&&(w.D.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(G){"open"===G.toState&&(this.container=G.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=ee=>{this.container&&this.container.contains(ee.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(G){switch(G.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&M.Q$.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let G=w.D.findSingle(this.container,"[autofocus]");G&&this.zone.runOutsideAngular(()=>{setTimeout(()=>G.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(G){this.hide(),G.preventDefault()}onEscapeKeydown(G){this.hide()}onWindowResize(){this.overlayVisible&&!w.D.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){(0,c.UE)(this.platformId)&&!this.documentResizeListener&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){(0,c.UE)(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new w.b(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&M.Q$.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(ee){return new(ee||X)(d.rXU(c.qQ),d.rXU(d.Agw),d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(d.gRc),d.rXU(d.SKi),d.rXU(v.r1),d.rXU(v.si))};static \u0275cmp=d.VBU({type:X,selectors:[["p-overlayPanel"]],contentQueries:function(ee,oe,W){if(1&ee&&d.wni(W,v.Ei,4),2&ee){let se;d.mGM(se=d.lsd())&&(oe.templates=se)}},hostAttrs:[1,"p-element"],hostBindings:function(ee,oe){1&ee&&d.bIt("keydown.escape",function(se){return oe.onEscapeKeydown(se)},!1,d.EBC)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:I,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"click","ngClass","ngStyle"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(ee,oe){1&ee&&(d.NAR(),d.DNE(0,R,5,16,"div",0)),2&ee&&d.Y8G("ngIf",oe.render)},dependencies:()=>[c.YU,c.bT,c.T3,c.B3,t.n,E.A],styles:['@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}\n'],encapsulation:2,data:{animation:[(0,h.hZ)("animation",[(0,h.wk)("void",(0,h.iF)({transform:"scaleY(0.8)",opacity:0})),(0,h.wk)("close",(0,h.iF)({opacity:0})),(0,h.wk)("open",(0,h.iF)({transform:"translateY(0)",opacity:1})),(0,h.kY)("void => open",(0,h.i0)("{{showTransitionParams}}")),(0,h.kY)("open => close",(0,h.i0)("{{hideTransitionParams}}"))])]},changeDetection:0})}return X})(),Y=(()=>{class X{static \u0275fac=function(ee){return new(ee||X)};static \u0275mod=d.$C({type:X});static \u0275inj=d.G2t({imports:[c.MD,t.Z,v.Gg,E.A,v.Gg]})}return X})()},4714:(k,C,_)=>{_.d(C,{wZ:()=>je});var h=_(177),c=_(4438),d=_(9417),v=_(5779),w=_(461),E=_(4420);let t=(()=>{class U extends w.h{pathId;ngOnInit(){this.pathId="url(#"+(0,E._Y)()+")"}static \u0275fac=(()=>{let A;return function(z){return(A||(A=c.xGo(U)))(z||U)}})();static \u0275cmp=c.VBU({type:U,selectors:[["BanIcon"]],standalone:!0,features:[c.Vt3,c.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7 0C5.61553 0 4.26215 0.410543 3.11101 1.17971C1.95987 1.94888 1.06266 3.04213 0.532846 4.32122C0.00303296 5.6003 -0.13559 7.00776 0.134506 8.36563C0.404603 9.7235 1.07129 10.9708 2.05026 11.9497C3.02922 12.9287 4.2765 13.5954 5.63437 13.8655C6.99224 14.1356 8.3997 13.997 9.67879 13.4672C10.9579 12.9373 12.0511 12.0401 12.8203 10.889C13.5895 9.73785 14 8.38447 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0ZM1.16667 7C1.16549 5.65478 1.63303 4.35118 2.48889 3.31333L10.6867 11.5111C9.83309 12.2112 8.79816 12.6544 7.70243 12.789C6.60669 12.9236 5.49527 12.744 4.49764 12.2713C3.50001 11.7986 2.65724 11.0521 2.06751 10.1188C1.47778 9.18558 1.16537 8.10397 1.16667 7ZM11.5111 10.6867L3.31334 2.48889C4.43144 1.57388 5.84966 1.10701 7.29265 1.1789C8.73565 1.2508 10.1004 1.85633 11.1221 2.87795C12.1437 3.89956 12.7492 5.26435 12.8211 6.70735C12.893 8.15034 12.4261 9.56856 11.5111 10.6867Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(Z,z){1&Z&&(c.qSk(),c.j41(0,"svg",0)(1,"g"),c.nrm(2,"path",1),c.k0s(),c.j41(3,"defs")(4,"clipPath",2),c.nrm(5,"rect",3),c.k0s()()()),2&Z&&(c.HbH(z.getClassNames()),c.BMQ("aria-label",z.ariaLabel)("aria-hidden",z.ariaHidden)("role",z.role),c.R7$(),c.BMQ("clip-path",z.pathId),c.R7$(3),c.Y8G("id",z.pathId))},encapsulation:2})}return U})(),M=(()=>{class U extends w.h{pathId;ngOnInit(){this.pathId="url(#"+(0,E._Y)()+")"}static \u0275fac=(()=>{let A;return function(z){return(A||(A=c.xGo(U)))(z||U)}})();static \u0275cmp=c.VBU({type:U,selectors:[["StarIcon"]],standalone:!0,features:[c.Vt3,c.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.9741 13.6721C10.8806 13.6719 10.7886 13.6483 10.7066 13.6033L7.00002 11.6545L3.29345 13.6033C3.19926 13.6539 3.09281 13.6771 2.98612 13.6703C2.87943 13.6636 2.77676 13.6271 2.6897 13.5651C2.60277 13.5014 2.53529 13.4147 2.4948 13.3148C2.45431 13.215 2.44241 13.1058 2.46042 12.9995L3.17881 8.87264L0.167699 5.95324C0.0922333 5.8777 0.039368 5.78258 0.0150625 5.67861C-0.00924303 5.57463 -0.00402231 5.46594 0.030136 5.36477C0.0621323 5.26323 0.122141 5.17278 0.203259 5.10383C0.284377 5.03488 0.383311 4.99023 0.488681 4.97501L4.63087 4.37126L6.48797 0.618832C6.54083 0.530159 6.61581 0.456732 6.70556 0.405741C6.79532 0.35475 6.89678 0.327942 7.00002 0.327942C7.10325 0.327942 7.20471 0.35475 7.29447 0.405741C7.38422 0.456732 7.4592 0.530159 7.51206 0.618832L9.36916 4.37126L13.5114 4.97501C13.6167 4.99023 13.7157 5.03488 13.7968 5.10383C13.8779 5.17278 13.9379 5.26323 13.9699 5.36477C14.0041 5.46594 14.0093 5.57463 13.985 5.67861C13.9607 5.78258 13.9078 5.8777 13.8323 5.95324L10.8212 8.87264L11.532 12.9995C11.55 13.1058 11.5381 13.215 11.4976 13.3148C11.4571 13.4147 11.3896 13.5014 11.3027 13.5651C11.2059 13.632 11.0917 13.6692 10.9741 13.6721ZM7.00002 10.4393C7.09251 10.4404 7.18371 10.4613 7.2675 10.5005L10.2098 12.029L9.65193 8.75036C9.6368 8.6584 9.64343 8.56418 9.6713 8.47526C9.69918 8.38633 9.74751 8.30518 9.81242 8.23832L12.1969 5.94559L8.90298 5.45648C8.81188 5.44198 8.72555 5.406 8.65113 5.35152C8.57671 5.29703 8.51633 5.2256 8.475 5.14314L7.00002 2.1626L5.52503 5.15078C5.4837 5.23324 5.42332 5.30467 5.3489 5.35916C5.27448 5.41365 5.18815 5.44963 5.09705 5.46412L1.80318 5.94559L4.18761 8.23832C4.25252 8.30518 4.30085 8.38633 4.32873 8.47526C4.3566 8.56418 4.36323 8.6584 4.3481 8.75036L3.7902 12.0519L6.73253 10.5234C6.81451 10.4762 6.9058 10.4475 7.00002 10.4393Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(Z,z){1&Z&&(c.qSk(),c.j41(0,"svg",0)(1,"g"),c.nrm(2,"path",1),c.k0s(),c.j41(3,"defs")(4,"clipPath",2),c.nrm(5,"rect",3),c.k0s()()()),2&Z&&(c.HbH(z.getClassNames()),c.BMQ("aria-label",z.ariaLabel)("aria-hidden",z.ariaHidden)("role",z.role),c.R7$(),c.BMQ("clip-path",z.pathId),c.R7$(3),c.Y8G("id",z.pathId))},encapsulation:2})}return U})(),I=(()=>{class U extends w.h{pathId;ngOnInit(){this.pathId="url(#"+(0,E._Y)()+")"}static \u0275fac=(()=>{let A;return function(z){return(A||(A=c.xGo(U)))(z||U)}})();static \u0275cmp=c.VBU({type:U,selectors:[["StarFillIcon"]],standalone:!0,features:[c.Vt3,c.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.9718 5.36453C13.9398 5.26298 13.8798 5.17252 13.7986 5.10356C13.7175 5.0346 13.6186 4.98994 13.5132 4.97472L9.37043 4.37088L7.51307 0.617955C7.46021 0.529271 7.38522 0.455834 7.29545 0.404836C7.20568 0.353838 7.1042 0.327026 7.00096 0.327026C6.89771 0.327026 6.79624 0.353838 6.70647 0.404836C6.6167 0.455834 6.54171 0.529271 6.48885 0.617955L4.63149 4.37088L0.488746 4.97472C0.383363 4.98994 0.284416 5.0346 0.203286 5.10356C0.122157 5.17252 0.0621407 5.26298 0.03014 5.36453C-0.00402286 5.46571 -0.00924428 5.57442 0.0150645 5.67841C0.0393733 5.7824 0.0922457 5.87753 0.167722 5.95308L3.17924 8.87287L2.4684 13.0003C2.45038 13.1066 2.46229 13.2158 2.50278 13.3157C2.54328 13.4156 2.61077 13.5022 2.6977 13.5659C2.78477 13.628 2.88746 13.6644 2.99416 13.6712C3.10087 13.678 3.20733 13.6547 3.30153 13.6042L7.00096 11.6551L10.708 13.6042C10.79 13.6491 10.882 13.6728 10.9755 13.673C11.0958 13.6716 11.2129 13.6343 11.3119 13.5659C11.3988 13.5022 11.4663 13.4156 11.5068 13.3157C11.5473 13.2158 11.5592 13.1066 11.5412 13.0003L10.8227 8.87287L13.8266 5.95308C13.9033 5.87835 13.9577 5.7836 13.9833 5.67957C14.009 5.57554 14.005 5.4664 13.9718 5.36453Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(Z,z){1&Z&&(c.qSk(),c.j41(0,"svg",0)(1,"g"),c.nrm(2,"path",1),c.k0s(),c.j41(3,"defs")(4,"clipPath",2),c.nrm(5,"rect",3),c.k0s()()()),2&Z&&(c.HbH(z.getClassNames()),c.BMQ("aria-label",z.ariaLabel)("aria-hidden",z.ariaHidden)("role",z.role),c.R7$(),c.BMQ("clip-path",z.pathId),c.R7$(3),c.Y8G("id",z.pathId))},encapsulation:2})}return U})();var u=_(1455);const m=(U,me)=>({"p-readonly":U,"p-disabled":me}),g=U=>({"p-focus":U}),f=(U,me)=>({"p-rating-item-active":U,"p-focus":me});function b(U,me){if(1&U&&c.nrm(0,"span",10),2&U){const A=c.XpG(3);c.Y8G("ngClass",A.iconCancelClass)("ngStyle",A.iconCancelStyle)}}function T(U,me){if(1&U&&c.nrm(0,"BanIcon",11),2&U){const A=c.XpG(3);c.Y8G("styleClass","p-rating-icon p-rating-cancel")("ngStyle",A.iconCancelStyle),c.BMQ("data-pc-section","cancelIcon")}}function x(U,me){if(1&U){const A=c.RV6();c.j41(0,"div",5),c.bIt("click",function(z){c.eBV(A);const he=c.XpG(2);return c.Njj(he.onOptionClick(z,0))}),c.j41(1,"span",6)(2,"input",7),c.bIt("focus",function(z){c.eBV(A);const he=c.XpG(2);return c.Njj(he.onInputFocus(z,0))})("blur",function(z){c.eBV(A);const he=c.XpG(2);return c.Njj(he.onInputBlur(z))})("change",function(z){c.eBV(A);const he=c.XpG(2);return c.Njj(he.onChange(z,0))}),c.k0s()(),c.DNE(3,b,1,2,"span",8)(4,T,1,3,"BanIcon",9),c.k0s()}if(2&U){const A=c.XpG(2);c.Y8G("ngClass",c.eq3(10,g,0===A.focusedOptionIndex()&&A.isFocusVisible)),c.BMQ("data-pc-section","cancelItem"),c.R7$(),c.BMQ("data-p-hidden-accessible",!0),c.R7$(),c.Y8G("name",A.name)("checked",0===A.value)("disabled",A.disabled)("readonly",A.readonly),c.BMQ("aria-label",A.cancelAriaLabel()),c.R7$(),c.Y8G("ngIf",A.iconCancelClass),c.R7$(),c.Y8G("ngIf",!A.iconCancelClass)}}function D(U,me){if(1&U&&c.nrm(0,"span",16),2&U){const A=c.XpG(4);c.Y8G("ngStyle",A.iconOffStyle)("ngClass",A.iconOffClass),c.BMQ("data-pc-section","offIcon")}}function R(U,me){if(1&U&&c.nrm(0,"StarIcon",17),2&U){const A=c.XpG(4);c.Y8G("ngStyle",A.iconOffStyle)("styleClass","p-rating-icon"),c.BMQ("data-pc-section","offIcon")}}function P(U,me){if(1&U&&(c.qex(0),c.DNE(1,D,1,3,"span",14)(2,R,1,3,"StarIcon",15),c.bVm()),2&U){const A=c.XpG(3);c.R7$(),c.Y8G("ngIf",A.iconOffClass),c.R7$(),c.Y8G("ngIf",!A.iconOffClass)}}function Y(U,me){if(1&U&&c.nrm(0,"span",19),2&U){const A=c.XpG(4);c.Y8G("ngStyle",A.iconOnStyle)("ngClass",A.iconOnClass),c.BMQ("data-pc-section","onIcon")}}function X(U,me){if(1&U&&c.nrm(0,"StarFillIcon",17),2&U){const A=c.XpG(4);c.Y8G("ngStyle",A.iconOnStyle)("styleClass","p-rating-icon p-rating-icon-active"),c.BMQ("data-pc-section","onIcon")}}function te(U,me){if(1&U&&(c.qex(0),c.DNE(1,Y,1,3,"span",18)(2,X,1,3,"StarFillIcon",15),c.bVm()),2&U){const A=c.XpG(3);c.R7$(),c.Y8G("ngIf",A.iconOnClass),c.R7$(),c.Y8G("ngIf",!A.iconOnClass)}}function G(U,me){if(1&U){const A=c.RV6();c.j41(0,"div",12),c.bIt("click",function(z){const he=c.eBV(A).$implicit,Me=c.XpG(2);return c.Njj(Me.onOptionClick(z,he+1))}),c.j41(1,"span",6)(2,"input",7),c.bIt("focus",function(z){const he=c.eBV(A).$implicit,Me=c.XpG(2);return c.Njj(Me.onInputFocus(z,he+1))})("blur",function(z){c.eBV(A);const he=c.XpG(2);return c.Njj(he.onInputBlur(z))})("change",function(z){const he=c.eBV(A).$implicit,Me=c.XpG(2);return c.Njj(Me.onChange(z,he+1))}),c.k0s()(),c.DNE(3,P,3,2,"ng-container",13)(4,te,3,2,"ng-container",13),c.k0s()}if(2&U){const A=me.$implicit,Z=me.index,z=c.XpG(2);c.Y8G("ngClass",c.l_i(9,f,A+1<=z.value,A+1===z.focusedOptionIndex()&&z.isFocusVisible)),c.R7$(),c.BMQ("data-p-hidden-accessible",!0),c.R7$(),c.Y8G("name",z.name)("checked",0===z.value)("disabled",z.disabled)("readonly",z.readonly),c.BMQ("aria-label",z.starAriaLabel(A+1)),c.R7$(),c.Y8G("ngIf",!z.value||Z>=z.value),c.R7$(),c.Y8G("ngIf",z.value&&Z<z.value)}}function ee(U,me){if(1&U&&(c.qex(0),c.DNE(1,x,5,12,"div",3)(2,G,5,12,"ng-template",4),c.bVm()),2&U){const A=c.XpG();c.R7$(),c.Y8G("ngIf",A.cancel),c.R7$(),c.Y8G("ngForOf",A.starsArray)}}function oe(U,me){1&U&&c.eu8(0)}function W(U,me){if(1&U){const A=c.RV6();c.j41(0,"span",22),c.bIt("click",function(z){c.eBV(A);const he=c.XpG(2);return c.Njj(he.onOptionClick(z,0))}),c.DNE(1,oe,1,0,"ng-container",23),c.k0s()}if(2&U){const A=c.XpG(2);c.Y8G("ngStyle",A.iconCancelStyle),c.BMQ("data-pc-section","cancelIcon"),c.R7$(),c.Y8G("ngTemplateOutlet",A.cancelIconTemplate)}}function se(U,me){1&U&&c.eu8(0)}function ue(U,me){if(1&U){const A=c.RV6();c.j41(0,"span",24),c.bIt("click",function(z){const he=c.eBV(A).$implicit,Me=c.XpG(2);return c.Njj(Me.onOptionClick(z,he+1))}),c.DNE(1,se,1,0,"ng-container",23),c.k0s()}if(2&U){const A=me.index,Z=c.XpG(2);c.BMQ("data-pc-section","onIcon"),c.R7$(),c.Y8G("ngTemplateOutlet",Z.getIconTemplate(A))}}function ce(U,me){if(1&U&&c.DNE(0,W,2,3,"span",20)(1,ue,2,2,"span",21),2&U){const A=c.XpG();c.Y8G("ngIf",A.cancel),c.R7$(),c.Y8G("ngForOf",A.starsArray)}}const pe={provide:d.kq,useExisting:(0,c.Rfq)(()=>ye),multi:!0};let ye=(()=>{class U{cd;config;disabled;readonly;stars=5;cancel=!0;iconOnClass;iconOnStyle;iconOffClass;iconOffStyle;iconCancelClass;iconCancelStyle;onRate=new c.bkB;onCancel=new c.bkB;onFocus=new c.bkB;onBlur=new c.bkB;templates;onIconTemplate;offIconTemplate;cancelIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};starsArray;isFocusVisibleItem=!0;focusedOptionIndex=(0,c.vPA)(-1);name;constructor(A,Z){this.cd=A,this.config=Z}ngOnInit(){this.name=this.name||(0,E._Y)(),this.starsArray=[];for(let A=0;A<this.stars;A++)this.starsArray[A]=A}ngAfterContentInit(){this.templates.forEach(A=>{switch(A.getType()){case"onicon":this.onIconTemplate=A.template;break;case"officon":this.offIconTemplate=A.template;break;case"cancelicon":this.cancelIconTemplate=A.template}})}onOptionClick(A,Z){if(!this.readonly&&!this.disabled){this.onOptionSelect(A,Z),this.isFocusVisibleItem=!1;const z=u.D.getFirstFocusableElement(A.currentTarget,"");z&&u.D.focus(z)}}onOptionSelect(A,Z){this.focusedOptionIndex.set(Z),this.updateModel(A,Z||null)}onChange(A,Z){this.onOptionSelect(A,Z),this.isFocusVisibleItem=!0}onInputBlur(A){this.focusedOptionIndex.set(-1),this.onBlur.emit(A)}onInputFocus(A,Z){this.focusedOptionIndex.set(Z),this.onFocus.emit(A)}updateModel(A,Z){this.value=Z,this.onModelChange(this.value),this.onModelTouched(),Z?this.onRate.emit({originalEvent:A,value:Z}):this.onCancel.emit()}cancelAriaLabel(){return this.config.translation.clear}starAriaLabel(A){return 1===A?this.config.translation.aria.star:this.config.translation.aria.stars.replace(/{star}/g,A)}getIconTemplate(A){return!this.value||A>=this.value?this.offIconTemplate:this.onIconTemplate}writeValue(A){this.value=A,this.cd.detectChanges()}registerOnChange(A){this.onModelChange=A}registerOnTouched(A){this.onModelTouched=A}setDisabledState(A){this.disabled=A,this.cd.markForCheck()}get isCustomIcon(){return this.templates&&this.templates.length>0}static \u0275fac=function(Z){return new(Z||U)(c.rXU(c.gRc),c.rXU(v.r1))};static \u0275cmp=c.VBU({type:U,selectors:[["p-rating"]],contentQueries:function(Z,z,he){if(1&Z&&c.wni(he,v.Ei,4),2&Z){let Me;c.mGM(Me=c.lsd())&&(z.templates=Me)}},hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",readonly:"readonly",stars:"stars",cancel:"cancel",iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle"},outputs:{onRate:"onRate",onCancel:"onCancel",onFocus:"onFocus",onBlur:"onBlur"},features:[c.Jv_([pe])],decls:4,vars:8,consts:[["customTemplate",""],[1,"p-rating",3,"ngClass"],[4,"ngIf","ngIfElse"],["class","p-rating-item p-rating-cancel-item",3,"ngClass","click",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-rating-item","p-rating-cancel-item",3,"click","ngClass"],[1,"p-hidden-accessible"],["type","radio","value","0",3,"focus","blur","change","name","checked","disabled","readonly"],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle",4,"ngIf"],[3,"styleClass","ngStyle",4,"ngIf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle"],[3,"styleClass","ngStyle"],[1,"p-rating-item",3,"click","ngClass"],[4,"ngIf"],["class","p-rating-icon",3,"ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","styleClass",4,"ngIf"],[1,"p-rating-icon",3,"ngStyle","ngClass"],[3,"ngStyle","styleClass"],["class","p-rating-icon p-rating-icon-active",3,"ngStyle","ngClass",4,"ngIf"],[1,"p-rating-icon","p-rating-icon-active",3,"ngStyle","ngClass"],["class","p-rating-icon p-rating-cancel",3,"ngStyle","click",4,"ngIf"],["class","p-rating-icon",3,"click",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"click","ngStyle"],[4,"ngTemplateOutlet"],[1,"p-rating-icon",3,"click"]],template:function(Z,z){if(1&Z&&(c.j41(0,"div",1),c.DNE(1,ee,3,2,"ng-container",2)(2,ce,2,2,"ng-template",null,0,c.C5r),c.k0s()),2&Z){const he=c.sdS(3);c.Y8G("ngClass",c.l_i(5,m,z.readonly,z.disabled)),c.BMQ("data-pc-name","rating")("data-pc-section","root"),c.R7$(),c.Y8G("ngIf",!z.isCustomIcon)("ngIfElse",he)}},dependencies:()=>[h.YU,h.Sq,h.bT,h.T3,h.B3,I,M,t],styles:["@layer primeng{.p-rating{display:inline-flex}.p-rating-icon{cursor:pointer}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}}\n"],encapsulation:2,changeDetection:0})}return U})(),je=(()=>{class U{static \u0275fac=function(Z){return new(Z||U)};static \u0275mod=c.$C({type:U});static \u0275inj=c.G2t({imports:[h.MD,I,M,t,v.Gg]})}return U})()},935:(k,C,_)=>{_.d(C,{$:()=>m,v:()=>u});var h=_(177),c=_(4438),d=_(5779);const v=["*"];function w(g,f){if(1&g&&c.nrm(0,"span",5),2&g){const b=c.XpG(2);c.Y8G("ngClass",b.icon)}}function E(g,f){if(1&g&&(c.qex(0),c.DNE(1,w,1,1,"span",4),c.bVm()),2&g){const b=c.XpG();c.R7$(),c.Y8G("ngIf",b.icon)}}function t(g,f){}function M(g,f){1&g&&c.DNE(0,t,0,0,"ng-template")}function I(g,f){if(1&g&&(c.j41(0,"span",6),c.DNE(1,M,1,0,null,7),c.k0s()),2&g){const b=c.XpG();c.R7$(),c.Y8G("ngTemplateOutlet",b.iconTemplate)}}let u=(()=>{class g{style;styleClass;severity;value;icon;rounded;templates;iconTemplate;ngAfterContentInit(){this.templates?.forEach(b=>{"icon"===b.getType()&&(this.iconTemplate=b.template)})}containerClass(){return{"p-tag p-component":!0,"p-tag-info":"info"===this.severity,"p-tag-success":"success"===this.severity,"p-tag-warning":"warning"===this.severity,"p-tag-danger":"danger"===this.severity,"p-tag-rounded":this.rounded}}static \u0275fac=function(T){return new(T||g)};static \u0275cmp=c.VBU({type:g,selectors:[["p-tag"]],contentQueries:function(T,x,D){if(1&T&&c.wni(D,d.Ei,4),2&T){let R;c.mGM(R=c.lsd())&&(x.templates=R)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:"rounded"},ngContentSelectors:v,decls:6,vars:7,consts:[[3,"ngClass","ngStyle"],[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-value"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(T,x){1&T&&(c.NAR(),c.j41(0,"span",0),c.SdG(1),c.DNE(2,E,2,1,"ng-container",1)(3,I,2,1,"span",2),c.j41(4,"span",3),c.EFF(5),c.k0s()()),2&T&&(c.HbH(x.styleClass),c.Y8G("ngClass",x.containerClass())("ngStyle",x.style),c.R7$(2),c.Y8G("ngIf",!x.iconTemplate),c.R7$(),c.Y8G("ngIf",x.iconTemplate),c.R7$(2),c.JRh(x.value))},dependencies:[h.YU,h.bT,h.T3,h.B3],styles:["@layer primeng{.p-tag{display:inline-flex;align-items:center;justify-content:center}.p-tag-icon,.p-tag-value,.p-tag-icon.pi{line-height:1.5}.p-tag.p-tag-rounded{border-radius:10rem}}\n"],encapsulation:2,changeDetection:0})}return g})(),m=(()=>{class g{static \u0275fac=function(T){return new(T||g)};static \u0275mod=c.$C({type:g});static \u0275inj=c.G2t({imports:[h.MD,d.Gg,d.Gg]})}return g})()},1683:(k,C,_)=>{_.d(C,{bo:()=>Mt,ht:()=>mi});var h=_(9969),c=_(177),d=_(4438),v=_(4662),w=_(5779),E=_(1455),t=_(8263),M=_(563),I=_(8542),u=_(4420);const m=["sublist"],g=(B,ae)=>({"p-submenu-list":B,"p-tieredmenu-root-list":ae}),f=B=>({"p-menuitem-link":!0,"p-disabled":B}),b=()=>({exact:!1}),T=(B,ae)=>({$implicit:B,hasSubmenu:ae});function x(B,ae){if(1&B&&d.nrm(0,"li",7),2&B){const y=d.XpG().$implicit,F=d.XpG();d.Aen(F.getItemProp(y,"style")),d.Y8G("ngClass",F.getSeparatorItemClass(y)),d.BMQ("id",F.getItemId(y))("data-pc-section","separator")}}function D(B,ae){if(1&B&&d.nrm(0,"span",18),2&B){const y=d.XpG(4).$implicit,F=d.XpG();d.Y8G("ngClass",F.getItemProp(y,"icon"))("ngStyle",F.getItemProp(y,"iconStyle")),d.BMQ("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function R(B,ae){if(1&B&&(d.j41(0,"span",19),d.EFF(1),d.k0s()),2&B){const y=d.XpG(4).$implicit,F=d.XpG();d.BMQ("data-pc-section","label"),d.R7$(),d.SpI(" ",F.getItemLabel(y)," ")}}function P(B,ae){if(1&B&&d.nrm(0,"span",20),2&B){const y=d.XpG(4).$implicit,F=d.XpG();d.Y8G("innerHTML",F.getItemLabel(y),d.npT),d.BMQ("data-pc-section","label")}}function Y(B,ae){if(1&B&&(d.j41(0,"span",21),d.EFF(1),d.k0s()),2&B){const y=d.XpG(4).$implicit,F=d.XpG();d.Y8G("ngClass",F.getItemProp(y,"badgeStyleClass")),d.R7$(),d.JRh(F.getItemProp(y,"badge"))}}function X(B,ae){1&B&&d.nrm(0,"AngleRightIcon",24),2&B&&(d.Y8G("styleClass","p-submenu-icon"),d.BMQ("data-pc-section","submenuicon")("aria-hidden",!0))}function te(B,ae){}function G(B,ae){1&B&&d.DNE(0,te,0,0,"ng-template",25),2&B&&d.Y8G("data-pc-section","submenuicon")("aria-hidden",!0)}function ee(B,ae){if(1&B&&(d.qex(0),d.DNE(1,X,1,3,"AngleRightIcon",22)(2,G,1,2,null,23),d.bVm()),2&B){const y=d.XpG(5);d.R7$(),d.Y8G("ngIf",!y.tieredMenu.submenuIconTemplate),d.R7$(),d.Y8G("ngTemplateOutlet",y.tieredMenu.submenuIconTemplate)}}function oe(B,ae){if(1&B&&(d.j41(0,"a",14),d.DNE(1,D,1,5,"span",15)(2,R,2,2,"span",16)(3,P,1,2,"ng-template",null,2,d.C5r)(5,Y,2,2,"span",17)(6,ee,3,2,"ng-container",10),d.k0s()),2&B){const y=d.sdS(4),F=d.XpG(3).$implicit,j=d.XpG();d.Y8G("target",j.getItemProp(F,"target"))("ngClass",d.eq3(12,f,j.getItemProp(F,"disabled"))),d.BMQ("href",j.getItemProp(F,"url"),d.B4B)("aria-hidden",!0)("data-automationid",j.getItemProp(F,"automationId"))("data-pc-section","action")("tabindex",-1),d.R7$(),d.Y8G("ngIf",j.getItemProp(F,"icon")),d.R7$(),d.Y8G("ngIf",j.getItemProp(F,"escape"))("ngIfElse",y),d.R7$(3),d.Y8G("ngIf",j.getItemProp(F,"badge")),d.R7$(),d.Y8G("ngIf",j.isItemGroup(F))}}function W(B,ae){if(1&B&&d.nrm(0,"span",18),2&B){const y=d.XpG(4).$implicit,F=d.XpG();d.Y8G("ngClass",F.getItemProp(y,"icon"))("ngStyle",F.getItemProp(y,"iconStyle")),d.BMQ("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function se(B,ae){if(1&B&&(d.j41(0,"span",19),d.EFF(1),d.k0s()),2&B){const y=d.XpG(4).$implicit,F=d.XpG();d.BMQ("data-pc-section","label"),d.R7$(),d.SpI(" ",F.getItemLabel(y)," ")}}function ue(B,ae){if(1&B&&d.nrm(0,"span",20),2&B){const y=d.XpG(4).$implicit,F=d.XpG();d.Y8G("innerHTML",F.getItemLabel(y),d.npT),d.BMQ("data-pc-section","label")}}function ce(B,ae){if(1&B&&(d.j41(0,"span",21),d.EFF(1),d.k0s()),2&B){const y=d.XpG(4).$implicit,F=d.XpG();d.Y8G("ngClass",F.getItemProp(y,"badgeStyleClass")),d.R7$(),d.JRh(F.getItemProp(y,"badge"))}}function pe(B,ae){1&B&&d.nrm(0,"AngleRightIcon",24),2&B&&(d.Y8G("styleClass","p-submenu-icon"),d.BMQ("data-pc-section","submenuicon")("aria-hidden",!0))}function ye(B,ae){}function je(B,ae){1&B&&d.DNE(0,ye,0,0,"ng-template",25),2&B&&d.Y8G("data-pc-section","submenuicon")("aria-hidden",!0)}function U(B,ae){if(1&B&&(d.qex(0),d.DNE(1,pe,1,3,"AngleRightIcon",22)(2,je,1,2,null,23),d.bVm()),2&B){const y=d.XpG(5);d.R7$(),d.Y8G("ngIf",!y.tieredMenu.submenuIconTemplate),d.R7$(),d.Y8G("ngTemplateOutlet",y.tieredMenu.submenuIconTemplate)}}function me(B,ae){if(1&B&&(d.j41(0,"a",26),d.DNE(1,W,1,5,"span",15)(2,se,2,2,"span",16)(3,ue,1,2,"ng-template",null,2,d.C5r)(5,ce,2,2,"span",17)(6,U,3,2,"ng-container",10),d.k0s()),2&B){const y=d.sdS(4),F=d.XpG(3).$implicit,j=d.XpG();d.Y8G("routerLink",j.getItemProp(F,"routerLink"))("queryParams",j.getItemProp(F,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",j.getItemProp(F,"routerLinkActiveOptions")||d.lJ4(21,b))("target",j.getItemProp(F,"target"))("ngClass",d.eq3(22,f,j.getItemProp(F,"disabled")))("fragment",j.getItemProp(F,"fragment"))("queryParamsHandling",j.getItemProp(F,"queryParamsHandling"))("preserveFragment",j.getItemProp(F,"preserveFragment"))("skipLocationChange",j.getItemProp(F,"skipLocationChange"))("replaceUrl",j.getItemProp(F,"replaceUrl"))("state",j.getItemProp(F,"state")),d.BMQ("data-automationid",j.getItemProp(F,"automationId"))("tabindex",-1)("aria-hidden",!0)("data-pc-section","action"),d.R7$(),d.Y8G("ngIf",j.getItemProp(F,"icon")),d.R7$(),d.Y8G("ngIf",j.getItemProp(F,"escape"))("ngIfElse",y),d.R7$(3),d.Y8G("ngIf",j.getItemProp(F,"badge")),d.R7$(),d.Y8G("ngIf",j.isItemGroup(F))}}function A(B,ae){if(1&B&&(d.qex(0),d.DNE(1,oe,7,14,"a",12)(2,me,7,24,"a",13),d.bVm()),2&B){const y=d.XpG(2).$implicit,F=d.XpG();d.R7$(),d.Y8G("ngIf",!F.getItemProp(y,"routerLink")),d.R7$(),d.Y8G("ngIf",F.getItemProp(y,"routerLink"))}}function Z(B,ae){}function z(B,ae){1&B&&d.DNE(0,Z,0,0,"ng-template")}function he(B,ae){if(1&B&&(d.qex(0),d.DNE(1,z,1,0,null,27),d.bVm()),2&B){const y=d.XpG(2).$implicit,F=d.XpG();d.R7$(),d.Y8G("ngTemplateOutlet",F.itemTemplate)("ngTemplateOutletContext",d.l_i(2,T,y.item,F.getItemProp(y,"items")))}}function Me(B,ae){if(1&B){const y=d.RV6();d.j41(0,"p-tieredMenuSub",28),d.bIt("itemClick",function(j){d.eBV(y);const K=d.XpG(3);return d.Njj(K.itemClick.emit(j))})("itemMouseEnter",function(j){d.eBV(y);const K=d.XpG(3);return d.Njj(K.onItemMouseEnter(j))}),d.k0s()}if(2&B){const y=d.XpG(2).$implicit,F=d.XpG();d.Y8G("items",y.items)("itemTemplate",F.itemTemplate)("autoDisplay",F.autoDisplay)("menuId",F.menuId)("activeItemPath",F.activeItemPath)("focusedItemId",F.focusedItemId)("level",F.level+1)}}function ut(B,ae){if(1&B){const y=d.RV6();d.j41(0,"li",8,1)(2,"div",9),d.bIt("click",function(j){d.eBV(y);const K=d.XpG().$implicit,le=d.XpG();return d.Njj(le.onItemClick(j,K))})("mouseenter",function(j){d.eBV(y);const K=d.XpG().$implicit,le=d.XpG();return d.Njj(le.onItemMouseEnter({$event:j,processedItem:K}))}),d.DNE(3,A,3,2,"ng-container",10)(4,he,2,5,"ng-container",10),d.k0s(),d.DNE(5,Me,1,7,"p-tieredMenuSub",11),d.k0s()}if(2&B){const y=d.XpG(),F=y.$implicit,j=y.index,K=d.XpG();d.HbH(K.getItemProp(F,"styleClass")),d.Y8G("ngStyle",K.getItemProp(F,"style"))("ngClass",K.getItemClass(F))("tooltipOptions",K.getItemProp(F,"tooltipOptions")),d.BMQ("id",K.getItemId(F))("data-pc-section","menuitem")("data-p-highlight",K.isItemActive(F))("data-p-focused",K.isItemFocused(F))("data-p-disabled",K.isItemDisabled(F))("aria-label",K.getItemLabel(F))("aria-disabled",K.isItemDisabled(F)||void 0)("aria-haspopup",K.isItemGroup(F)&&!K.getItemProp(F,"to")?"menu":void 0)("aria-expanded",K.isItemGroup(F)?K.isItemActive(F):void 0)("aria-level",K.level+1)("aria-setsize",K.getAriaSetSize())("aria-posinset",K.getAriaPosInset(j)),d.R7$(2),d.BMQ("data-pc-section","content"),d.R7$(),d.Y8G("ngIf",!K.itemTemplate),d.R7$(),d.Y8G("ngIf",K.itemTemplate),d.R7$(),d.Y8G("ngIf",K.isItemVisible(F)&&K.isItemGroup(F))}}function tt(B,ae){if(1&B&&d.DNE(0,x,1,5,"li",5)(1,ut,6,21,"li",6),2&B){const y=ae.$implicit,F=d.XpG();d.Y8G("ngIf",F.isItemVisible(y)&&F.getItemProp(y,"separator")),d.R7$(),d.Y8G("ngIf",F.isItemVisible(y)&&!F.getItemProp(y,"separator"))}}const Ot=["rootmenu"],di=["container"],qi=B=>({"p-tieredmenu p-component":!0,"p-tieredmenu-overlay":B}),pi=(B,ae)=>({showTransitionParams:B,hideTransitionParams:ae}),ui=B=>({value:"visible",params:B});function it(B,ae){if(1&B){const y=d.RV6();d.j41(0,"div",3,0),d.bIt("click",function(j){d.eBV(y);const K=d.XpG();return d.Njj(K.onOverlayClick(j))})("@overlayAnimation.start",function(j){d.eBV(y);const K=d.XpG();return d.Njj(K.onOverlayAnimationStart(j))})("@overlayAnimation.done",function(j){d.eBV(y);const K=d.XpG();return d.Njj(K.onOverlayAnimationEnd(j))}),d.j41(2,"p-tieredMenuSub",4,1),d.bIt("itemClick",function(j){d.eBV(y);const K=d.XpG();return d.Njj(K.onItemClick(j))})("menuFocus",function(j){d.eBV(y);const K=d.XpG();return d.Njj(K.onMenuFocus(j))})("menuBlur",function(j){d.eBV(y);const K=d.XpG();return d.Njj(K.onMenuBlur(j))})("menuKeydown",function(j){d.eBV(y);const K=d.XpG();return d.Njj(K.onKeyDown(j))})("itemMouseEnter",function(j){d.eBV(y);const K=d.XpG();return d.Njj(K.onItemMouseEnter(j))}),d.k0s()()}if(2&B){const y=d.XpG();d.HbH(y.styleClass),d.Y8G("id",y.id)("ngClass",d.eq3(22,qi,y.popup))("ngStyle",y.style)("@overlayAnimation",d.eq3(27,ui,d.l_i(24,pi,y.showTransitionOptions,y.hideTransitionOptions)))("@.disabled",!0!==y.popup),d.BMQ("data-pc-section","root")("data-pc-name","tieredmenu"),d.R7$(2),d.Y8G("root",!0)("items",y.processedItems)("itemTemplate",y.itemTemplate)("menuId",y.id)("tabindex",y.disabled?-1:y.tabindex)("ariaLabel",y.ariaLabel)("ariaLabelledBy",y.ariaLabelledBy)("baseZIndex",y.baseZIndex)("autoZIndex",y.autoZIndex)("autoDisplay",y.autoDisplay)("popup",y.popup)("focusedItemId",y.focused?y.focusedItemId:void 0)("activeItemPath",y.activeItemPath())}}let _i=(()=>{class B{el;renderer;cd;tieredMenu;items;itemTemplate;root=!1;autoDisplay;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;tabindex=0;itemClick=new d.bkB;itemMouseEnter=new d.bkB;menuFocus=new d.bkB;menuBlur=new d.bkB;menuKeydown=new d.bkB;sublistViewChild;constructor(y,F,j,K){this.el=y,this.renderer=F,this.cd=j,this.tieredMenu=K}positionSubmenu(){let y=this.sublistViewChild&&this.sublistViewChild.nativeElement;if(y){const F=y.parentElement.parentElement,j=E.D.getOffset(F),K=E.D.getViewport(),le=y.offsetParent?y.offsetWidth:E.D.getHiddenElementOuterWidth(y),fe=E.D.getOuterWidth(F.children[0]);parseInt(j.left,10)+fe+le>K.width-E.D.calculateScrollbarWidth()&&E.D.addClass(y,"p-submenu-list-flipped")}}getItemProp(y,F,j=null){return y&&y.item?u.BF.getItemValue(y.item[F],j):void 0}getItemId(y){return y.item?.id??`${this.menuId}_${y.key}`}getItemKey(y){return this.getItemId(y)}getItemClass(y){return{...this.getItemProp(y,"class"),"p-menuitem":!0,"p-highlight":this.isItemActive(y),"p-menuitem-active":this.isItemActive(y),"p-focus":this.isItemFocused(y),"p-disabled":this.isItemDisabled(y)}}getItemLabel(y){return this.getItemProp(y,"label")}getSeparatorItemClass(y){return{...this.getItemProp(y,"class"),"p-menuitem-separator":!0}}getAriaSetSize(){return this.items.filter(y=>this.isItemVisible(y)&&!this.getItemProp(y,"separator")).length}getAriaPosInset(y){return y-this.items.slice(0,y).filter(F=>this.isItemVisible(F)&&this.getItemProp(F,"separator")).length+1}isItemVisible(y){return!1!==this.getItemProp(y,"visible")}isItemActive(y){if(this.activeItemPath)return this.activeItemPath.some(F=>F.key===y.key)}isItemDisabled(y){return this.getItemProp(y,"disabled")}isItemFocused(y){return this.focusedItemId===this.getItemId(y)}isItemGroup(y){return u.BF.isNotEmpty(y.items)}onItemMouseEnter(y){if(this.autoDisplay){const{event:F,processedItem:j}=y;this.itemMouseEnter.emit({originalEvent:F,processedItem:j})}}onItemClick(y,F){this.getItemProp(F,"command",{originalEvent:y,item:F.item}),this.itemClick.emit({originalEvent:y,processedItem:F,isFocus:!0})}static \u0275fac=function(F){return new(F||B)(d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(d.gRc),d.rXU((0,d.Rfq)(()=>Mt)))};static \u0275cmp=d.VBU({type:B,selectors:[["p-tieredMenuSub"]],viewQuery:function(F,j){if(1&F&&d.GBs(m,7),2&F){let K;d.mGM(K=d.lsd())&&(j.sublistViewChild=K.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",itemTemplate:"itemTemplate",root:"root",autoDisplay:"autoDisplay",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",popup:"popup",menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:"level",focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",tabindex:"tabindex"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},decls:3,vars:12,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"keydown","focus","blur","ngClass","id","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"style","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],[3,"data-pc-section","aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","level"]],template:function(F,j){if(1&F){const K=d.RV6();d.j41(0,"ul",3,0),d.bIt("keydown",function(fe){return d.eBV(K),d.Njj(j.menuKeydown.emit(fe))})("focus",function(fe){return d.eBV(K),d.Njj(j.menuFocus.emit(fe))})("blur",function(fe){return d.eBV(K),d.Njj(j.menuBlur.emit(fe))}),d.DNE(2,tt,2,2,"ng-template",4),d.k0s()}2&F&&(d.Y8G("ngClass",d.l_i(9,g,!j.root,j.root))("id",j.menuId+"_list")("tabindex",j.tabindex),d.BMQ("aria-label",j.ariaLabel)("aria-labelledBy",j.ariaLabelledBy)("aria-activedescendant",j.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),d.R7$(2),d.Y8G("ngForOf",j.items))},dependencies:()=>[c.YU,c.Sq,c.bT,c.T3,c.B3,v.Wk,v.wQ,M.n,I.m,t.D,B],encapsulation:2})}return B})(),Mt=(()=>{class B{document;platformId;el;renderer;cd;config;overlayService;set model(y){this._model=y,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}popup;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";id;ariaLabel;ariaLabelledBy;disabled=!1;tabindex=0;onShow=new d.bkB;onHide=new d.bkB;templates;rootmenu;containerViewChild;submenuIconTemplate;itemTemplate;container;outsideClickListener;resizeListener;scrollHandler;target;relatedTarget;visible;relativeAlign;window;dirty=!1;focused=!1;activeItemPath=(0,d.vPA)([]);number=(0,d.vPA)(0);focusedItemInfo=(0,d.vPA)({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;get visibleItems(){const y=this.activeItemPath().find(F=>F.key===this.focusedItemInfo().parentKey);return y?y.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){const y=this.focusedItemInfo();return y.item?.id?y.item.id:-1!==y.index?`${this.id}${u.BF.isNotEmpty(y.parentKey)?"_"+y.parentKey:""}_${y.index}`:null}constructor(y,F,j,K,le,fe,Fe){this.document=y,this.platformId=F,this.el=j,this.renderer=K,this.cd=le,this.config=fe,this.overlayService=Fe,this.window=this.document.defaultView,(0,d.QZP)(()=>{const Re=this.activeItemPath();u.BF.isNotEmpty(Re)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.id=this.id||(0,u._Y)()}ngAfterContentInit(){this.templates?.forEach(y=>{"submenuicon"===y.getType()?this.submenuIconTemplate=y.template:this.itemTemplate=y.template})}createProcessedItems(y,F=0,j={},K=""){const le=[];return y&&y.forEach((fe,Fe)=>{const Re=(""!==K?K+"_":"")+Fe,ze={item:fe,index:Fe,level:F,key:Re,parent:j,parentKey:K};ze.items=this.createProcessedItems(fe.items,F+1,ze,Re),le.push(ze)}),le}getItemProp(y,F){return y?u.BF.getItemValue(y[F]):void 0}getProccessedItemLabel(y){return y?this.getItemLabel(y.item):void 0}getItemLabel(y){return this.getItemProp(y,"label")}isProcessedItemGroup(y){return y&&u.BF.isNotEmpty(y.items)}isSelected(y){return this.activeItemPath().some(F=>F.key===y.key)}isValidSelectedItem(y){return this.isValidItem(y)&&this.isSelected(y)}isValidItem(y){return!!y&&!this.isItemDisabled(y.item)&&!this.isItemSeparator(y.item)}isItemDisabled(y){return this.getItemProp(y,"disabled")}isItemSeparator(y){return this.getItemProp(y,"separator")}isItemMatched(y){return this.isValidItem(y)&&this.getProccessedItemLabel(y).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(y){return y&&u.BF.isNotEmpty(y.items)}onOverlayClick(y){this.popup&&this.overlayService.add({originalEvent:y,target:this.el.nativeElement})}onItemClick(y){const{originalEvent:F,processedItem:j}=y,K=this.isProcessedItemGroup(j),le=u.BF.isEmpty(j.parent);if(this.isSelected(j)){const{index:Fe,key:Re,level:ze,parentKey:Le,item:Qe}=j;this.activeItemPath.set(this.activeItemPath().filter(nt=>Re!==nt.key&&Re.startsWith(nt.key))),this.focusedItemInfo.set({index:Fe,level:ze,parentKey:Le,item:Qe}),this.dirty=!0,E.D.focus(this.rootmenu.sublistViewChild.nativeElement)}else if(K)this.onItemChange(y);else{const Fe=le?j:this.activeItemPath().find(Re=>""===Re.parentKey);this.hide(F),this.changeFocusedItemIndex(F,Fe?Fe.index:-1),E.D.focus(this.rootmenu.sublistViewChild.nativeElement)}}onItemMouseEnter(y){E.D.isTouchDevice()?this.onItemChange({event:y,processedItem:y.processedItem,focus:this.autoDisplay}):this.dirty&&this.onItemChange(y)}onKeyDown(y){const F=y.metaKey||y.ctrlKey;switch(y.code){case"ArrowDown":this.onArrowDownKey(y);break;case"ArrowUp":this.onArrowUpKey(y);break;case"ArrowLeft":this.onArrowLeftKey(y);break;case"ArrowRight":this.onArrowRightKey(y);break;case"Home":this.onHomeKey(y);break;case"End":this.onEndKey(y);break;case"Space":this.onSpaceKey(y);break;case"Enter":this.onEnterKey(y);break;case"Escape":this.onEscapeKey(y);break;case"Tab":this.onTabKey(y);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!F&&u.BF.isPrintableCharacter(y.key)&&this.searchItems(y,y.key)}}onArrowDownKey(y){const F=-1!==this.focusedItemInfo().index?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(y,F),y.preventDefault()}onArrowRightKey(y){const F=this.visibleItems[this.focusedItemInfo().index],j=this.isProccessedItemGroup(F),K=F.item;j&&(this.onItemChange({originalEvent:y,processedItem:F}),this.focusedItemInfo.set({index:-1,parentKey:F.key,item:K}),this.searchValue="",this.onArrowDownKey(y)),y.preventDefault()}onArrowUpKey(y){if(y.altKey){if(-1!==this.focusedItemInfo().index){const F=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(F)&&this.onItemChange({originalEvent:y,processedItem:F})}this.popup&&this.hide(y,!0),y.preventDefault()}else{const F=-1!==this.focusedItemInfo().index?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(y,F),y.preventDefault()}}onArrowLeftKey(y){const F=this.visibleItems[this.focusedItemInfo().index],j=this.activeItemPath().find(fe=>fe.key===F.parentKey);u.BF.isEmpty(F.parent)||(this.focusedItemInfo.set({index:-1,parentKey:j?j.parentKey:"",item:F.item}),this.searchValue="",this.onArrowDownKey(y));const le=this.activeItemPath().filter(fe=>fe.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(le),y.preventDefault()}onHomeKey(y){this.changeFocusedItemIndex(y,this.findFirstItemIndex()),y.preventDefault()}onEndKey(y){this.changeFocusedItemIndex(y,this.findLastItemIndex()),y.preventDefault()}onSpaceKey(y){this.onEnterKey(y)}onEscapeKey(y){this.hide(y,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),y.preventDefault()}onTabKey(y){if(-1!==this.focusedItemInfo().index){const F=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(F)&&this.onItemChange({originalEvent:y,processedItem:F})}this.hide()}onEnterKey(y){if(-1!==this.focusedItemInfo().index){const F=E.D.findSingle(this.rootmenu.el.nativeElement,`li[id="${this.focusedItemId}"]`),j=F&&E.D.findSingle(F,'a[data-pc-section="action"]');if(j?j.click():F&&F.click(),this.focusedItemInfo(),!this.popup){const le=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(le)&&(this.focusedItemInfo().index=this.findFirstFocusedItemIndex())}}y.preventDefault()}onItemChange(y){const{processedItem:F,isFocus:j}=y;if(u.BF.isEmpty(F))return;const{index:K,key:le,level:fe,parentKey:Fe,items:Re,item:ze}=F,Le=u.BF.isNotEmpty(Re),Qe=this.activeItemPath().filter(nt=>nt.parentKey!==Fe&&nt.parentKey!==le);Le&&Qe.push(F),this.focusedItemInfo.set({index:K,level:fe,parentKey:Fe,item:ze}),this.activeItemPath.set(Qe),Le&&(this.dirty=!0),j&&E.D.focus(this.rootmenu.sublistViewChild.nativeElement)}onMenuFocus(y){this.focused=!0;const F=-1!==this.focusedItemInfo().index?this.focusedItemInfo():{index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:this.visibleItems[this.findFirstFocusedItemIndex()]?.item};this.focusedItemInfo.set(F)}onMenuBlur(y){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1}onOverlayAnimationStart(y){switch(y.toState){case"visible":this.popup&&(this.container=y.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),E.D.focus(this.rootmenu.sublistViewChild.nativeElement),this.scrollInView());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}alignOverlay(){this.relativeAlign?E.D.relativePosition(this.container,this.target):E.D.absolutePosition(this.container,this.target)}onOverlayAnimationEnd(y){"void"===y.toState&&u.Q$.clear(y.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):E.D.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&u.Q$.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(y,F){this.popup&&(this.onHide.emit({}),this.visible=!1),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),F&&E.D.focus(this.relatedTarget||this.target||this.rootmenu.sublistViewChild.nativeElement),this.dirty=!1}toggle(y){this.visible?this.hide(y,!0):this.show(y)}show(y,F){this.popup&&(this.visible=!0,this.target=this.target||y.currentTarget,this.relatedTarget=y.relatedTarget||null,this.relativeAlign=y?.relativeAlign||null),this.focusedItemInfo.set({index:this.findFirstFocusedItemIndex(),level:0,parentKey:""}),F&&E.D.focus(this.rootmenu.sublistViewChild.nativeElement),this.cd.markForCheck()}searchItems(y,F){this.searchValue=(this.searchValue||"")+F;let j=-1,K=!1;return-1!==this.focusedItemInfo().index?(j=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(le=>this.isItemMatched(le)),j=-1===j?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(le=>this.isItemMatched(le)):j+this.focusedItemInfo().index):j=this.visibleItems.findIndex(le=>this.isItemMatched(le)),-1!==j&&(K=!0),-1===j&&-1===this.focusedItemInfo().index&&(j=this.findFirstFocusedItemIndex()),-1!==j&&this.changeFocusedItemIndex(y,j),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),K}findLastFocusedItemIndex(){const y=this.findSelectedItemIndex();return y<0?this.findLastItemIndex():y}findLastItemIndex(){return u.BF.findLastIndex(this.visibleItems,y=>this.isValidItem(y))}findPrevItemIndex(y){const F=y>0?u.BF.findLastIndex(this.visibleItems.slice(0,y),j=>this.isValidItem(j)):-1;return F>-1?F:y}findNextItemIndex(y){const F=y<this.visibleItems.length-1?this.visibleItems.slice(y+1).findIndex(j=>this.isValidItem(j)):-1;return F>-1?F+y+1:y}findFirstFocusedItemIndex(){const y=this.findSelectedItemIndex();return y<0?this.findFirstItemIndex():y}findFirstItemIndex(){return this.visibleItems.findIndex(y=>this.isValidItem(y))}findSelectedItemIndex(){return this.visibleItems.findIndex(y=>this.isValidSelectedItem(y))}changeFocusedItemIndex(y,F){if(this.focusedItemInfo().index!==F){const j=this.focusedItemInfo();this.focusedItemInfo.set({...j,item:this.visibleItems[F].item,index:F}),this.scrollInView()}}scrollInView(y=-1){const j=E.D.findSingle(this.rootmenu.el.nativeElement,`li[id="${-1!==y?`${this.id}_${y}`:this.focusedItemId}"]`);j&&j.scrollIntoView&&j.scrollIntoView({block:"nearest",inline:"nearest"})}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new E.b(this.target,y=>{this.visible&&this.hide(y,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&(this.scrollHandler.unbindScrollListener(),this.scrollHandler=null)}bindResizeListener(){(0,c.UE)(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",y=>{E.D.isTouchDevice()||this.hide(y,!0)})))}bindOutsideClickListener(){(0,c.UE)(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",y=>{const F=this.containerViewChild&&!this.containerViewChild.nativeElement.contains(y.target),j=!this.popup||!(this.target&&(this.target===y.target||this.target.contains(y.target)));F&&j&&this.hide()})))}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&u.Q$.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}static \u0275fac=function(F){return new(F||B)(d.rXU(c.qQ),d.rXU(d.Agw),d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(d.gRc),d.rXU(w.r1),d.rXU(w.si))};static \u0275cmp=d.VBU({type:B,selectors:[["p-tieredMenu"]],contentQueries:function(F,j,K){if(1&F&&d.wni(K,w.Ei,4),2&F){let le;d.mGM(le=d.lsd())&&(j.templates=le)}},viewQuery:function(F,j){if(1&F&&(d.GBs(Ot,5),d.GBs(di,5)),2&F){let K;d.mGM(K=d.lsd())&&(j.rootmenu=K.first),d.mGM(K=d.lsd())&&(j.containerViewChild=K.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",tabindex:"tabindex"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"id","ngClass","class","ngStyle","click",4,"ngIf"],[3,"click","id","ngClass","ngStyle"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","autoDisplay","popup","focusedItemId","activeItemPath"]],template:function(F,j){1&F&&d.DNE(0,it,4,29,"div",2),2&F&&d.Y8G("ngIf",!j.popup||j.visible)},dependencies:[c.YU,c.bT,c.B3,_i],styles:["@layer primeng{.p-tieredmenu-overlay{position:absolute;top:0;left:0}.p-tieredmenu ul{margin:0;padding:0;list-style:none}.p-tieredmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-tieredmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-tieredmenu .p-menuitem-text{line-height:1}.p-tieredmenu .p-menuitem{position:relative}.p-tieredmenu .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-tieredmenu .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list{display:block;left:100%;top:0}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list.p-submenu-list-flipped{left:-100%}}\n"],encapsulation:2,data:{animation:[(0,h.hZ)("overlayAnimation",[(0,h.kY)(":enter",[(0,h.iF)({opacity:0,transform:"scaleY(0.8)"}),(0,h.i0)("{{showTransitionParams}}")]),(0,h.kY)(":leave",[(0,h.i0)("{{hideTransitionParams}}",(0,h.iF)({opacity:0}))])])]},changeDetection:0})}return B})(),mi=(()=>{class B{static \u0275fac=function(F){return new(F||B)};static \u0275mod=d.$C({type:B});static \u0275inj=d.G2t({imports:[c.MD,v.iI,M.Z,I.S,t.D,w.Gg,v.iI,I.S,w.Gg]})}return B})()},1830:(k,C,_)=>{_.d(C,{M:()=>m,m:()=>g});var h=_(177),c=_(4438),d=_(5779);const v=["*"];function w(f,b){1&f&&c.eu8(0)}function E(f,b){if(1&f&&(c.j41(0,"div",4),c.DNE(1,w,1,0,"ng-container",5),c.k0s()),2&f){const T=c.XpG();c.BMQ("data-pc-section","start"),c.R7$(),c.Y8G("ngTemplateOutlet",T.startTemplate)}}function t(f,b){1&f&&c.eu8(0)}function M(f,b){if(1&f&&(c.j41(0,"div",6),c.DNE(1,t,1,0,"ng-container",5),c.k0s()),2&f){const T=c.XpG();c.BMQ("data-pc-section","center"),c.R7$(),c.Y8G("ngTemplateOutlet",T.centerTemplate)}}function I(f,b){1&f&&c.eu8(0)}function u(f,b){if(1&f&&(c.j41(0,"div",7),c.DNE(1,I,1,0,"ng-container",5),c.k0s()),2&f){const T=c.XpG();c.BMQ("data-pc-section","end"),c.R7$(),c.Y8G("ngTemplateOutlet",T.endTemplate)}}let m=(()=>{class f{el;style;styleClass;ariaLabelledBy;templates;startTemplate;endTemplate;centerTemplate;constructor(T){this.el=T}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(T=>{switch(T.getType()){case"start":case"left":this.startTemplate=T.template;break;case"end":case"right":this.endTemplate=T.template;break;case"center":this.centerTemplate=T.template}})}static \u0275fac=function(x){return new(x||f)(c.rXU(c.aKT))};static \u0275cmp=c.VBU({type:f,selectors:[["p-toolbar"]],contentQueries:function(x,D,R){if(1&x&&c.wni(R,d.Ei,4),2&x){let P;c.mGM(P=c.lsd())&&(D.templates=P)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},ngContentSelectors:v,decls:5,vars:9,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left p-toolbar-group-start",4,"ngIf"],["class","p-toolbar-group-center",4,"ngIf"],["class","p-toolbar-group-right p-toolbar-group-end",4,"ngIf"],[1,"p-toolbar-group-left","p-toolbar-group-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-center"],[1,"p-toolbar-group-right","p-toolbar-group-end"]],template:function(x,D){1&x&&(c.NAR(),c.j41(0,"div",0),c.SdG(1),c.DNE(2,E,2,2,"div",1)(3,M,2,2,"div",2)(4,u,2,2,"div",3),c.k0s()),2&x&&(c.HbH(D.styleClass),c.Y8G("ngClass","p-toolbar p-component")("ngStyle",D.style),c.BMQ("aria-labelledby",D.ariaLabelledBy)("data-pc-name","toolbar"),c.R7$(2),c.Y8G("ngIf",D.startTemplate),c.R7$(),c.Y8G("ngIf",D.centerTemplate),c.R7$(),c.Y8G("ngIf",D.endTemplate))},dependencies:[h.YU,h.bT,h.T3,h.B3],styles:["@layer primeng{.p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-start,.p-toolbar-group-center,.p-toolbar-group-end,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}}\n"],encapsulation:2,changeDetection:0})}return f})(),g=(()=>{class f{static \u0275fac=function(x){return new(x||f)};static \u0275mod=c.$C({type:f});static \u0275inj=c.G2t({imports:[h.MD]})}return f})()}}]);